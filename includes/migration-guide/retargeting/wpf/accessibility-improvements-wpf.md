---
ms.openlocfilehash: f0d1bbbc6d89bf0d8c62ea65c9c450116c349d49
ms.sourcegitcommit: 337bdc5a463875daf2cc6883e5a2da97d56f5000
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/24/2019
ms.locfileid: "72887827"
---
### <a name="accessibility-improvements-in-wpf"></a>Улучшения специальных возможностей в WPF

|   |   |
|---|---|
|Подробные сведения|**Улучшения режима высокой контрастности**<br><ul><li>Фокус для элемента управления <xref:System.Windows.Controls.Expander> теперь отображается. В предыдущих версиях .NET Framework это было не так.</li><li>При выборе элементов управления <xref:System.Windows.Controls.CheckBox> и <xref:System.Windows.Controls.RadioButton> текст в них более удобен для восприятия по сравнению с предыдущими версиями .NET Framework.</li><li>Граница отключенного элемента <xref:System.Windows.Controls.ComboBox> теперь отображается тем же цветом, что и его текст. В предыдущих версиях .NET Framework это было не так.</li><li>Отключенные и находящиеся в фокусе кнопки теперь используют правильный цвет темы. В предыдущих версиях .NET Framework это было не так.</li><li>Кнопка раскрывающегося списка теперь отображается в том случае, если для элемента управления <xref:System.Windows.Controls.ComboBox> задан стиль <xref:System.Windows.Controls.ToolBar.ComboBoxStyleKey?displayProperty=nameWithType>. В предыдущих версиях .NET Framework это было не так.</li><li>Для индикатора стрелки направления сортировки в элементе управления <xref:System.Windows.Controls.DataGrid> теперь используются цвета темы. В предыдущих версиях .NET Framework это было не так.</li><li>Стиль по умолчанию для гиперссылки теперь изменяется на соответствующий цвет темы при наведении указателя мыши. В предыдущих версиях .NET Framework это было не так.</li><li>Теперь отображается фокус клавиатуры на переключателях. В предыдущих версиях .NET Framework это было не так.</li><li>Для столбца флажков элемента управления <xref:System.Windows.Controls.DataGrid> теперь используются соответствующие цвета, отражающие фокус клавиатуры. В предыдущих версиях .NET Framework это было не так.</li><li>Визуальные элементы фокуса клавиатуры теперь отображаются на элементах управления <xref:System.Windows.Controls.ComboBox> и <xref:System.Windows.Controls.ListBox>. В предыдущих версиях .NET Framework это было не так.</p></li></ul>**Улучшения взаимодействия со средством чтения с экрана**<br><ul><li>Средства чтения с экрана теперь правильно объявляют элементы управления <xref:System.Windows.Controls.Expander> как группы (развертывание/свертывание).</li><li>Средства чтения с экрана теперь правильно объявляют элементы управления <xref:System.Windows.Controls.DataGridCell> как ячейки сетки данных (локализованные).</li><li>Средства чтения с экрана теперь объявляют имя редактируемого элемента управления <xref:System.Windows.Controls.ComboBox>.</li><li>Средства чтения с экрана более не объявляют элементы управления <xref:System.Windows.Controls.PasswordBox> как &quot;Не выбран элемент для просмотра&quot;.</p></li></ul>**Поддержка динамических областей**<br>Средства чтения с экрана, такие как экранный диктор, помогают пользователям работать с интерфейсом приложения. Как правило, они описывают находящийся в фокусе элемент управления, поскольку именно он в большинстве случаев интересует в этот момент пользователя. Однако если элемент пользовательского интерфейса изменяется в каком-либо месте экрана и находится не в фокусе, пользователь может не получить уведомление и пропустить важные сведения. Решить эту проблему позволяет применение динамических областей. Разработчик может использовать их для информирования средства чтения с экрана или любого другого клиента [автоматизации пользовательского интерфейса](~/docs/framework/ui-automation/ui-automation-overview.md) о важных изменениях элемента пользовательского интерфейса. После этого средство чтения с экрана может решить, уведомлять ли пользователя об этом изменении. Свойство LiveSetting также позволяет средствам чтения с экрана узнать, насколько важно информировать пользователя о произошедшем в пользовательском интерфейсе изменении.|
|Предложение|**Как принять или отклонить изменения**<br>Чтобы эти изменения можно было использовать в приложении, оно должно быть запущено на платформе .NET Framework 4.7.1 или более поздней версии. В приложении эти изменения можно использовать одним из следующих способов:<ul><li>Нацелить приложение на .NET Framework 4.7.1. Этот способ является рекомендуемым. Эти специальные возможности включены по умолчанию для приложений WPF, ориентированных на .NET Framework 4.7.1 или более поздней версии.</li><li>Для отказа от функций специальных возможностей предыдущих версий [переключатель AppContext](~/docs/framework/configure-apps/file-schema/runtime/appcontextswitchoverrides-element.md) добавляется в раздел <code>&lt;runtime&gt;</code> файла конфигурации приложения и получает значение <code>false</code>, как показано в следующем примере.</li></ul><pre><code class="lang-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&#13;&#10;&lt;configuration&gt;&#13;&#10;&lt;startup&gt;&#13;&#10;&lt;supportedRuntime version=&quot;v4.0&quot; sku=&quot;.NETFramework,Version=v4.7&quot;/&gt;&#13;&#10;&lt;/startup&gt;&#13;&#10;&lt;runtime&gt;&#13;&#10;&lt;!-- AppContextSwitchOverrides value attribute is in the form of &#39;key1=true/false;key2=true/false  --&gt;&#13;&#10;&lt;AppContextSwitchOverrides value=&quot;Switch.UseLegacyAccessibilityFeatures=false&quot; /&gt;&#13;&#10;&lt;/runtime&gt;&#13;&#10;&lt;/configuration&gt;&#13;&#10;</code></pre>В приложениях, предназначенных для .NET Framework 4.7.1 или более поздней версии, где требуется сохранить предыдущие функции специальных возможностей, можно выбрать прежние функции специальных возможностей, явно установив этот переключатель AppContext в значение <code>true</code>.<br>Обзор автоматизации пользовательского интерфейса см. в разделе [Общие сведения об автоматизации пользовательского интерфейса](~/docs/framework/ui-automation/ui-automation-overview.md).|
|Область|Значительно|
|Version|4.7.1|
|Тип|Изменение целевой платформы|
|Затронутые API|<ul><li><xref:System.Windows.Automation.AutomationElementIdentifiers.LiveSettingProperty?displayProperty=nameWithType></li><li><xref:System.Windows.Automation.AutomationElementIdentifiers.LiveRegionChangedEvent?displayProperty=nameWithType></li><li><xref:System.Windows.Automation.AutomationLiveSetting?displayProperty=nameWithType></li><li><xref:System.Windows.Automation.AutomationProperties.LiveSettingProperty?displayProperty=nameWithType></li><li><xref:System.Windows.Automation.AutomationProperties.SetLiveSetting(System.Windows.DependencyObject,System.Windows.Automation.AutomationLiveSetting)?displayProperty=nameWithType></li><li><xref:System.Windows.Automation.AutomationProperties.GetLiveSetting(System.Windows.DependencyObject)?displayProperty=nameWithType></li><li><xref:System.Windows.Automation.Peers.AutomationPeer.GetLiveSettingCore?displayProperty=nameWithType></li></ul>|
