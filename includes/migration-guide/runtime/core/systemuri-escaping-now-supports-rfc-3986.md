---
ms.openlocfilehash: 1654d58651bf14b0e7c21de2afa827634b7db858
ms.sourcegitcommit: 0be8a279af6d8a43e03141e349d3efd5d35f8767
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/18/2019
ms.locfileid: "59235899"
---
### <a name="systemuri-escaping-now-supports-rfc-3986"></a><span data-ttu-id="44f6f-101">Экранирование System.Uri теперь поддерживает RFC 3986</span><span class="sxs-lookup"><span data-stu-id="44f6f-101">System.Uri escaping now supports RFC 3986</span></span>

|   |   |
|---|---|
|<span data-ttu-id="44f6f-102">Подробные сведения</span><span class="sxs-lookup"><span data-stu-id="44f6f-102">Details</span></span>|<span data-ttu-id="44f6f-103">Экранирование URI изменилось в .NET Framework 4.5 для поддержки [RFC 3986](https://tools.ietf.org/html/rfc3986).</span><span class="sxs-lookup"><span data-stu-id="44f6f-103">URI escaping has changed in .NET Framework 4.5 to support [RFC 3986](https://tools.ietf.org/html/rfc3986).</span></span> <span data-ttu-id="44f6f-104">Внесены следующие конкретные изменения.</span><span class="sxs-lookup"><span data-stu-id="44f6f-104">Specific changes include:</span></span><ul><li><span data-ttu-id="44f6f-105">Метод <xref:System.Uri.EscapeDataString(System.String)?displayProperty=name> преобразует в escape-последовательность зарезервированные символы в соответствии с RFC 3986.</span><span class="sxs-lookup"><span data-stu-id="44f6f-105"><xref:System.Uri.EscapeDataString(System.String)?displayProperty=name> escapes reserved characters based on RFC 3986.</span></span></li><li><span data-ttu-id="44f6f-106">Метод <xref:System.Uri.EscapeUriString(System.String)?displayProperty=name> не преобразует в escape-последовательность зарезервированные символы.</span><span class="sxs-lookup"><span data-stu-id="44f6f-106"><xref:System.Uri.EscapeUriString(System.String)?displayProperty=name> does not escape reserved characters.</span></span></li><li><span data-ttu-id="44f6f-107">Метод <xref:System.Uri.UnescapeDataString(System.String)?displayProperty=name> не создает исключение, если ему встречается неверная escape-последовательность.</span><span class="sxs-lookup"><span data-stu-id="44f6f-107"><xref:System.Uri.UnescapeDataString(System.String)?displayProperty=name> does not throw an exception if it encounters an invalid escape sequence.</span></span></li><li><span data-ttu-id="44f6f-108">Преобразование незарезервированных символов в escape-символы отменяется.</span><span class="sxs-lookup"><span data-stu-id="44f6f-108">Unreserved escaped characters are un-escaped.</span></span></li></ul>|
|<span data-ttu-id="44f6f-109">Предложение</span><span class="sxs-lookup"><span data-stu-id="44f6f-109">Suggestion</span></span>|<ul><li><span data-ttu-id="44f6f-110">Обновления приложений не зависят от <xref:System.Uri.UnescapeDataString(System.String)?displayProperty=name> для создания исключения в случае недопустимой escape-последовательности.</span><span class="sxs-lookup"><span data-stu-id="44f6f-110">Update applications to not rely on <xref:System.Uri.UnescapeDataString(System.String)?displayProperty=name> to throw in the case of an invalid escape sequence.</span></span> <span data-ttu-id="44f6f-111">Такие последовательности должны обнаруживаться сразу же.</span><span class="sxs-lookup"><span data-stu-id="44f6f-111">Such sequences must be detected directly now.</span></span></li><li><span data-ttu-id="44f6f-112">Аналогичным образом ожидается, что экранированные и неэкранированные URI и строки данных могут отличаться в .NET Framework 4.0 и .NET Framework 4.5 и их не следует сравнивать в версиях .NET напрямую.</span><span class="sxs-lookup"><span data-stu-id="44f6f-112">Similarly, expect that Escaped and Unescaped URI and Data strings may vary from .NET Framework 4.0 and .NET Framework 4.5 and should not be compared across .NET versions directly.</span></span> <span data-ttu-id="44f6f-113">Их необходимо проанализировать и нормализовать в одной версии .NET перед выполнением каких-либо сравнений.</span><span class="sxs-lookup"><span data-stu-id="44f6f-113">Instead, they should be parsed and normalized in a single .NET version before any comparisons are made.</span></span></li></ul>|
|<span data-ttu-id="44f6f-114">Область</span><span class="sxs-lookup"><span data-stu-id="44f6f-114">Scope</span></span>|<span data-ttu-id="44f6f-115">Дополнительный номер</span><span class="sxs-lookup"><span data-stu-id="44f6f-115">Minor</span></span>|
|<span data-ttu-id="44f6f-116">Версия</span><span class="sxs-lookup"><span data-stu-id="44f6f-116">Version</span></span>|<span data-ttu-id="44f6f-117">4.5</span><span class="sxs-lookup"><span data-stu-id="44f6f-117">4.5</span></span>|
|<span data-ttu-id="44f6f-118">Тип</span><span class="sxs-lookup"><span data-stu-id="44f6f-118">Type</span></span>|<span data-ttu-id="44f6f-119">Среда выполнения</span><span class="sxs-lookup"><span data-stu-id="44f6f-119">Runtime</span></span>|
|<span data-ttu-id="44f6f-120">Затронутые API</span><span class="sxs-lookup"><span data-stu-id="44f6f-120">Affected APIs</span></span>|<ul><li><xref:System.Uri.EscapeDataString(System.String)?displayProperty=nameWithType></li><li><xref:System.Uri.EscapeUriString(System.String)?displayProperty=nameWithType></li><li><xref:System.Uri.UnescapeDataString(System.String)?displayProperty=nameWithType></li></ul>|
