---
title: Сборки в .NET
ms.date: 07/10/2018
ms.assetid: 149f5ca5-5b34-4746-9542-1ae43b2d0256
---
# <a name="assemblies-in-net"></a><span data-ttu-id="1096e-102">Сборки в .NET</span><span class="sxs-lookup"><span data-stu-id="1096e-102">Assemblies in .NET</span></span>

<span data-ttu-id="1096e-103">Сборки представляют собой базовый элемент развертывания, управления версиями, повторного использования, назначения областей активации и прав доступа для приложения на основе платформы .NET.</span><span class="sxs-lookup"><span data-stu-id="1096e-103">Assemblies form the fundamental unit of deployment, version control, reuse, activation scoping, and security permissions for a .NET-based application.</span></span> <span data-ttu-id="1096e-104">Сборки создаются в виде исполняемого файла (.exe) или файла библиотеки динамической компоновки (.dll) и являются составными частями приложений .NET.</span><span class="sxs-lookup"><span data-stu-id="1096e-104">Assemblies take the form of an executable (.exe) file or dynamic link library (.dll) file, and are the building blocks of the .NET applications.</span></span> <span data-ttu-id="1096e-105">Они предоставляют сведения для среды CLR, которые нужны для распознавания реализаций типов.</span><span class="sxs-lookup"><span data-stu-id="1096e-105">They provide the common language runtime with the information it needs to be aware of type implementations.</span></span> <span data-ttu-id="1096e-106">Сборку можно представить как коллекцию типов и ресурсов, которые предназначены для совместной работы и формируют логическую единицу функциональности.</span><span class="sxs-lookup"><span data-stu-id="1096e-106">You can think of an assembly as a collection of types and resources that form a logical unit of functionality and are built to work together.</span></span>

<span data-ttu-id="1096e-107">В .NET Core и .NET Framework сборку можно создать из одного или нескольких файлов исходного кода.</span><span class="sxs-lookup"><span data-stu-id="1096e-107">In .NET Core and .NET Framework, an assembly can be built from one or more source code files.</span></span> <span data-ttu-id="1096e-108">В .NET Framework сборки могут содержать один или несколько модулей.</span><span class="sxs-lookup"><span data-stu-id="1096e-108">In .NET Framework, assemblies can contain one or more modules.</span></span> <span data-ttu-id="1096e-109">Благодаря этому в крупных проектах несколько разработчиков могут работать с отдельными файлами или модулями исходного кода, которые вместе образуют единую сборку.</span><span class="sxs-lookup"><span data-stu-id="1096e-109">This allows larger projects to be planned in such a way that several individual developers work on separate source code files or modules, which are combined to create a single assembly.</span></span> <span data-ttu-id="1096e-110">Дополнительные сведения см. в статье [Как выполнить создании многофайловой сборки](../../framework/app-domains/how-to-build-a-multifile-assembly.md).</span><span class="sxs-lookup"><span data-stu-id="1096e-110">For more information about modules, see [How to: Build a Multifile Assembly](../../framework/app-domains/how-to-build-a-multifile-assembly.md).</span></span>

<span data-ttu-id="1096e-111">Сборки имеют следующие свойства.</span><span class="sxs-lookup"><span data-stu-id="1096e-111">Assemblies have the following properties:</span></span>

- <span data-ttu-id="1096e-112">Сборки реализованы как файлы .exe или .dll.</span><span class="sxs-lookup"><span data-stu-id="1096e-112">Assemblies are implemented as .exe or .dll files.</span></span>

- <span data-ttu-id="1096e-113">Для библиотек, предназначенных для .NET Framework, сборку можно совместно использовать в нескольких приложениях, поместив ее в [глобальный кэш сборок](../../framework/app-domains/gac.md).</span><span class="sxs-lookup"><span data-stu-id="1096e-113">For libraries that target the .NET Framework, you can share an assembly between applications by putting it in the [global assembly cache](../../framework/app-domains/gac.md).</span></span> <span data-ttu-id="1096e-114">Сборки должны получить строгие имена, чтобы их можно было включить в глобальный кэш сборок.</span><span class="sxs-lookup"><span data-stu-id="1096e-114">Assemblies must be strong-named before they can be included in the global assembly cache.</span></span> <span data-ttu-id="1096e-115">Подробнее см. в статье [Сборки со строгими именами](../../framework/app-domains/strong-named-assemblies.md).</span><span class="sxs-lookup"><span data-stu-id="1096e-115">For more information, see [Strong-Named Assemblies](../../framework/app-domains/strong-named-assemblies.md).</span></span>

- <span data-ttu-id="1096e-116">Сборки загружаются в память только в том случае, если они реально используются.</span><span class="sxs-lookup"><span data-stu-id="1096e-116">Assemblies are only loaded into memory if they are required.</span></span> <span data-ttu-id="1096e-117">Если сборка не используется, она не загружается.</span><span class="sxs-lookup"><span data-stu-id="1096e-117">If they are not used, they are not loaded.</span></span> <span data-ttu-id="1096e-118">Благодаря этому свойству сборки могут быть эффективным средством для управления ресурсами в крупных проектах.</span><span class="sxs-lookup"><span data-stu-id="1096e-118">This means that assemblies can be an efficient way to manage resources in larger projects.</span></span>

- <span data-ttu-id="1096e-119">Сведения о сборке можно получить программным путем с помощью отражения.</span><span class="sxs-lookup"><span data-stu-id="1096e-119">You can programmatically obtain information about an assembly by using reflection.</span></span> <span data-ttu-id="1096e-120">Дополнительные сведения см. в статьях [Отражение (C#)](../../csharp/programming-guide/concepts/reflection.md) и [Отражение (Visual Basic)](../../visual-basic/programming-guide/concepts/reflection.md).</span><span class="sxs-lookup"><span data-stu-id="1096e-120">For more information, see [Reflection (C#)](../../csharp/programming-guide/concepts/reflection.md) or [Reflection (Visual Basic)](../../visual-basic/programming-guide/concepts/reflection.md).</span></span>

- <span data-ttu-id="1096e-121">Сборку можно загрузить только для ее проверки. Для этого вызовите метод <xref:System.Reflection.Assembly.ReflectionOnlyLoadFrom%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="1096e-121">You can load an assembly only to inspect it by calling a method <xref:System.Reflection.Assembly.ReflectionOnlyLoadFrom%2A?displayProperty=nameWithType>.</span></span>

## <a name="assembly-manifest"></a><span data-ttu-id="1096e-122">Манифест сборки</span><span class="sxs-lookup"><span data-stu-id="1096e-122">Assembly manifest</span></span>

<span data-ttu-id="1096e-123">Каждая сборка содержит *манифест сборки*.</span><span class="sxs-lookup"><span data-stu-id="1096e-123">Within every assembly is an *assembly manifest*.</span></span> <span data-ttu-id="1096e-124">Манифест сборки выполняет роль оглавления и содержит следующую информацию.</span><span class="sxs-lookup"><span data-stu-id="1096e-124">Similar to a table of contents, the assembly manifest contains the following:</span></span>

- <span data-ttu-id="1096e-125">Идентификатор сборки (ее имя и версию).</span><span class="sxs-lookup"><span data-stu-id="1096e-125">The assembly's identity (its name and version).</span></span>

- <span data-ttu-id="1096e-126">Таблица с описанием всех файлов, входящих в сборку. Например, сюда относятся другие ваши сборки, от которых зависит файл с расширением .exe или .dll, а также растровые изображения или файлы сведений.</span><span class="sxs-lookup"><span data-stu-id="1096e-126">A file table describing all the other files that make up the assembly, such as other assemblies you created that your .exe or .dll file relies on, or even bitmap or Readme files.</span></span>

- <span data-ttu-id="1096e-127">*Список ссылок сборки*, то есть список всех внешних зависимостей — библиотек DLL или других файлов, созданных другими разработчиками, которые требуются для работы вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="1096e-127">An *assembly reference list*, which is a list of all external dependencies — .dlls or other files your application needs that may have been created by someone else.</span></span> <span data-ttu-id="1096e-128">Ссылки на сборки содержат ссылки на глобальные и частные объекты.</span><span class="sxs-lookup"><span data-stu-id="1096e-128">Assembly references contain references to both global and private objects.</span></span> <span data-ttu-id="1096e-129">Глобальные объекты доступны для всех других приложений.</span><span class="sxs-lookup"><span data-stu-id="1096e-129">Global objects are available to all other applications.</span></span> <span data-ttu-id="1096e-130">В .NET Core они связаны с определенной средой выполнения.</span><span class="sxs-lookup"><span data-stu-id="1096e-130">In .NET Core, they are coupled with a particular .NET Core runtime.</span></span> <span data-ttu-id="1096e-131">В .NET Framework они расположены в глобальном кэше сборок.</span><span class="sxs-lookup"><span data-stu-id="1096e-131">In .NET Framework, they reside in the global assembly cache.</span></span> <span data-ttu-id="1096e-132">Пространство имен <xref:System.IO?displayProperty=nameWithType> служит примером сборки в глобальном кэше сборок.</span><span class="sxs-lookup"><span data-stu-id="1096e-132">The <xref:System.IO?displayProperty=nameWithType> namespace is an example of an assembly in the global assembly cache.</span></span> <span data-ttu-id="1096e-133">Закрытые объекты должны находиться в каталоге установки приложения или в одном из его подкаталогов.</span><span class="sxs-lookup"><span data-stu-id="1096e-133">Private objects must be in a directory at either the same level as or below the directory in which your application is installed.</span></span>

<span data-ttu-id="1096e-134">Так как сборки содержат сведения о содержимом, версиях и зависимостях, работа связанных с ними приложений не зависит от значений в реестре Windows.</span><span class="sxs-lookup"><span data-stu-id="1096e-134">Because assemblies contain information about content, versioning, and dependencies, the applications that use them need not rely don Windows registry values to function properly.</span></span> <span data-ttu-id="1096e-135">Сборки снижают риск конфликта библиотек DLL, а также повышают надежность и простоту развертывания приложений.</span><span class="sxs-lookup"><span data-stu-id="1096e-135">Assemblies reduce .dll conflicts and make your applications more reliable and easier to deploy.</span></span> <span data-ttu-id="1096e-136">Во многих случаях для установки приложения на базе .NET достаточно просто скопировать его файлы на целевой компьютер.</span><span class="sxs-lookup"><span data-stu-id="1096e-136">In many cases, you can install a .NET-based application simply by copying its files to the target computer.</span></span> <span data-ttu-id="1096e-137">Дополнительные сведения см. в статье [Манифест сборки](../../framework/app-domains/assembly-manifest.md).</span><span class="sxs-lookup"><span data-stu-id="1096e-137">For more information, see [Assembly Manifest](../../framework/app-domains/assembly-manifest.md).</span></span>

## <a name="adding-a-reference-to-an-assembly"></a><span data-ttu-id="1096e-138">Добавление ссылки на сборку</span><span class="sxs-lookup"><span data-stu-id="1096e-138">Adding a reference to an assembly</span></span>

<span data-ttu-id="1096e-139">Чтобы использовать сборку, нужно добавить ссылку на нее.</span><span class="sxs-lookup"><span data-stu-id="1096e-139">To use an assembly, you must add a reference to it.</span></span> <span data-ttu-id="1096e-140">Затем с помощью [директивы using](../../csharp/language-reference/keywords/using-directive.md) для C# или [оператора Imports](../../visual-basic/language-reference/statements/imports-statement-net-namespace-and-type.md) для Visual Basic можно выбрать пространство имен для элементов, которые вы хотите использовать.</span><span class="sxs-lookup"><span data-stu-id="1096e-140">Next, you can use the [using directive](../../csharp/language-reference/keywords/using-directive.md) for C# or [Imports statement](../../visual-basic/language-reference/statements/imports-statement-net-namespace-and-type.md) for Visual Basic to choose the namespace of the items you want to use.</span></span> <span data-ttu-id="1096e-141">Когда вы добавите ссылку на сборку и импортируете ее, в вашем приложении станут доступны все предоставленные в сборке типы, свойства, методы и другие члены пространств имен, как если бы их код являлся частью файла с исходным кодом вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="1096e-141">Once an assembly is referenced and imported, all the accessible types, properties, methods, and other members of its namespaces are available to your application as if their code were part of your source file.</span></span>

> [!NOTE]
> <span data-ttu-id="1096e-142">Ссылки на большинство сборок из библиотеки классов .NET создаются автоматически.</span><span class="sxs-lookup"><span data-stu-id="1096e-142">Most assemblies from the .NET Class Library are referenced automatically.</span></span> <span data-ttu-id="1096e-143">Но в некоторых случаях ссылки на системные сборки не создаются автоматически.</span><span class="sxs-lookup"><span data-stu-id="1096e-143">In some cases, though, a system assembly may not automatically be referenced.</span></span> <span data-ttu-id="1096e-144">В .NET Core можно добавить ссылку на пакет NuGet, который содержит сборку, используя диспетчер пакетов NuGet в Visual Studio или добавив элемент [<PackageReference>](../../core/tools/dependencies.md#the-new-packagereference-element) для сборки в файл проекта с расширением \*.csproj или \*.vbproj.</span><span class="sxs-lookup"><span data-stu-id="1096e-144">In .NET Core, you can add a reference to the NuGet package that contains the assembly either by using NuGet Package Manager in Visual Studio or by adding a [<PackageReference>](../../core/tools/dependencies.md#the-new-packagereference-element) element for the assembly to the \*.csproj or \*.vbproj project.</span></span> <span data-ttu-id="1096e-145">В .NET Framework можно добавить ссылку на сборку с помощью диалогового окна **Добавить ссылку** в Visual Studio или параметра командной строки `-reference` для компиляторов [C#](../../csharp/language-reference/compiler-options/reference-compiler-option.md) или [Visual Basic](../../visual-basic/reference/command-line-compiler/reference.md).</span><span class="sxs-lookup"><span data-stu-id="1096e-145">In .NET Framework, you can add a reference to the assembly by using the **Add Reference** dialog in Visual Studio or by using the `-reference` command line option for the [C#](../../csharp/language-reference/compiler-options/reference-compiler-option.md) or [Visual Basic](../../visual-basic/reference/command-line-compiler/reference.md) compilers.</span></span>

<span data-ttu-id="1096e-146">На C# вы также можете использовать две версии одной и той же сборки в одном приложении.</span><span class="sxs-lookup"><span data-stu-id="1096e-146">In C#, you can also use two versions of the same assembly in a single application.</span></span> <span data-ttu-id="1096e-147">Дополнительные сведения см. в разделе [Псевдоним extern](../../csharp/language-reference/keywords/extern-alias.md).</span><span class="sxs-lookup"><span data-stu-id="1096e-147">For more information, see [extern alias](../../csharp/language-reference/keywords/extern-alias.md).</span></span>

## <a name="creating-an-assembly"></a><span data-ttu-id="1096e-148">Создание сборки</span><span class="sxs-lookup"><span data-stu-id="1096e-148">Creating an assembly</span></span>

<span data-ttu-id="1096e-149">Скомпилируйте приложение. Для этого выполните компиляцию в Visual Studio, из командной строки с помощью средств интерфейса командной строки .NET Core или скомпилируйте сборки .NET Framework с помощью компилятора командной строки.</span><span class="sxs-lookup"><span data-stu-id="1096e-149">Compile your application by building it in Visual Studio, by building it from the command line by using .NET Core command-line interface (CLI) tools, or by building .NET Framework assemblies with a command-line compiler.</span></span> <span data-ttu-id="1096e-150">Дополнительные сведения о компиляции сборок с помощью средств интерфейса командной строки .NET см. в [этой статье](../../core/tools/index.md).</span><span class="sxs-lookup"><span data-stu-id="1096e-150">For more information about building assemblies using .NET CLI tools, see [.NET Core command-line interface (CLI) tools](../../core/tools/index.md).</span></span> <span data-ttu-id="1096e-151">Дополнительные сведения о компиляции сборок с помощью компиляторов командной строки см. в статьях [Построение из командной строки с помощью csc.exe](../../csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md) для C# и [Построение из командной строки](../../visual-basic/reference/command-line-compiler/building-from-the-command-line.md) для Visual Basic.</span><span class="sxs-lookup"><span data-stu-id="1096e-151">For building assemblies with the command-line compilers, see [Command-line build with csc.exe](../../csharp/language-reference/compiler-options/command-line-building-with-csc-exe.md) for C# and [Building from the Command Line](../../visual-basic/reference/command-line-compiler/building-from-the-command-line.md) for Visual Basic.</span></span>

> [!NOTE]
> <span data-ttu-id="1096e-152">Чтобы создать сборку в Visual Studio, выберите пункт **Сборка** из меню **Сборка**.</span><span class="sxs-lookup"><span data-stu-id="1096e-152">To build an assembly in Visual Studio, on the **Build** menu choose **Build**.</span></span>

## <a name="see-also"></a><span data-ttu-id="1096e-153">См. также</span><span class="sxs-lookup"><span data-stu-id="1096e-153">See also</span></span>

- [<span data-ttu-id="1096e-154">Формат файла сборки .NET</span><span class="sxs-lookup"><span data-stu-id="1096e-154">.NET assembly file format</span></span>](file-format.md)
- [<span data-ttu-id="1096e-155">Сборки в среде CLR</span><span class="sxs-lookup"><span data-stu-id="1096e-155">Assemblies in the Common Language Runtime</span></span>](../../framework/app-domains/assemblies-in-the-common-language-runtime.md)
- [<span data-ttu-id="1096e-156">Дружественные сборки</span><span class="sxs-lookup"><span data-stu-id="1096e-156">Friend Assemblies</span></span>](friend-assemblies.md)
- [<span data-ttu-id="1096e-157">Практическое руководство. Загрузка и выгрузка сборок (C#)</span><span class="sxs-lookup"><span data-stu-id="1096e-157">How to: Load and Unload Assemblies (C#)</span></span>](../../csharp/programming-guide/concepts/assemblies-gac/how-to-load-and-unload-assemblies.md)
- [<span data-ttu-id="1096e-158">Практическое руководство. Загрузка и выгрузка сборок (Visual Basic)</span><span class="sxs-lookup"><span data-stu-id="1096e-158">How to: Load and Unload Assemblies (Visual Basic)</span></span>](../../visual-basic/programming-guide/concepts/assemblies-gac/how-to-load-and-unload-assemblies.md)
- [<span data-ttu-id="1096e-159">Практическое руководство. Использование и отладка сборок с возможностью выгрузки в .NET Core</span><span class="sxs-lookup"><span data-stu-id="1096e-159">How to: Use and Debug Assembly Unloadability in .NET Core</span></span>](unloadability-howto.md)
- [<span data-ttu-id="1096e-160">Практическое руководство. Определение того, является ли файл сборкой (C#)</span><span class="sxs-lookup"><span data-stu-id="1096e-160">How to: Determine If a File Is an Assembly (C#)</span></span>](../../csharp/programming-guide/concepts/assemblies-gac/how-to-determine-if-a-file-is-an-assembly.md)
- <span data-ttu-id="1096e-161">[Практическое руководство. Determine If a File Is an Assembly (Visual Basic)](../../visual-basic/programming-guide/concepts/assemblies-gac/how-to-determine-if-a-file-is-an-assembly.md) (Практическое руководство. Как определить, является ли файл сборкой (Visual Basic))</span><span class="sxs-lookup"><span data-stu-id="1096e-161">[How to: Determine If a File Is an Assembly (Visual Basic)](../../visual-basic/programming-guide/concepts/assemblies-gac/how-to-determine-if-a-file-is-an-assembly.md)</span></span>
