---
title: Строки настраиваемых числовых форматов
ms.date: 06/25/2018
ms.technology: dotnet-standard
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- numeric format strings [.NET Framework]
- formatting [.NET Framework], numbers
- format strings
- custom numeric format strings
- numbers [.NET Framework], formatting
- format specifiers, numeric
- formatting numbers [.NET Framework]
- format specifiers, custom numeric format strings
ms.assetid: 6f74fd32-6c6b-48ed-8241-3c2b86dea5f4
author: rpetrusha
ms.author: ronpet
ms.openlocfilehash: 0793f3688f1f6ca66d92c5a22e158aa85e5470ae
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2019
ms.locfileid: "54631676"
---
# <a name="custom-numeric-format-strings"></a><span data-ttu-id="07678-102">Строки настраиваемых числовых форматов</span><span class="sxs-lookup"><span data-stu-id="07678-102">Custom numeric format strings</span></span>

<span data-ttu-id="07678-103">Чтобы определить способ форматирования числовых данных, можно создать строку настраиваемого числового формата, состоящую из одного или нескольких описателей настраиваемого формата.</span><span class="sxs-lookup"><span data-stu-id="07678-103">You can create a custom numeric format string, which consists of one or more custom numeric specifiers, to define how to format numeric data.</span></span> <span data-ttu-id="07678-104">Строка настраиваемого числового формата — это любая строка формата, не являющаяся [строкой стандартного числового формата](../../../docs/standard/base-types/standard-numeric-format-strings.md).</span><span class="sxs-lookup"><span data-stu-id="07678-104">A custom numeric format string is any format string that is not a [standard numeric format string](../../../docs/standard/base-types/standard-numeric-format-strings.md).</span></span>  
  

 <span data-ttu-id="07678-105">Строки настраиваемых числовых форматов поддерживаются некоторыми перегрузками метода `ToString` всех числовых типов.</span><span class="sxs-lookup"><span data-stu-id="07678-105">Custom numeric format strings are supported by some overloads of the `ToString` method of all numeric types.</span></span> <span data-ttu-id="07678-106">Например, можно задать строку числового формата для методов <xref:System.Int32.ToString%28System.String%29> и <xref:System.Int32.ToString%28System.String%2CSystem.IFormatProvider%29> типа <xref:System.Int32> .</span><span class="sxs-lookup"><span data-stu-id="07678-106">For example, you can supply a numeric format string to the <xref:System.Int32.ToString%28System.String%29> and <xref:System.Int32.ToString%28System.String%2CSystem.IFormatProvider%29> methods of the <xref:System.Int32> type.</span></span> <span data-ttu-id="07678-107">Строки настраиваемых числовых форматов также поддерживаются [функцией составного форматирования .NET Framework](../../../docs/standard/base-types/composite-formatting.md), используемой некоторыми методами `Write` и `WriteLine` классов <xref:System.Console> и <xref:System.IO.StreamWriter>, а также методами <xref:System.String.Format%2A?displayProperty=nameWithType> и <xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="07678-107">Custom numeric format strings are also supported by the .NET [composite formatting feature](../../../docs/standard/base-types/composite-formatting.md), which is used by some `Write` and `WriteLine` methods of the <xref:System.Console> and <xref:System.IO.StreamWriter> classes, the <xref:System.String.Format%2A?displayProperty=nameWithType> method, and the <xref:System.Text.StringBuilder.AppendFormat%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="07678-108">Функция [интерполяции строк](../../csharp/language-reference/tokens/interpolated.md) также поддерживает строки настраиваемого числового формата.</span><span class="sxs-lookup"><span data-stu-id="07678-108">[String interpolation](../../csharp/language-reference/tokens/interpolated.md) feature also supports custom numeric format strings.</span></span>  
  
> [!TIP]
>  <span data-ttu-id="07678-109">Вы можете загрузить [служебную программу форматирования](https://code.msdn.microsoft.com/NET-Framework-4-Formatting-9c4dae8d)— приложение, позволяющее применять строки формата к значениям даты и времени и числовым значениям и отображающее результирующую строку.</span><span class="sxs-lookup"><span data-stu-id="07678-109">You can download the [Formatting Utility](https://code.msdn.microsoft.com/NET-Framework-4-Formatting-9c4dae8d), an application that enables you to apply format strings to either numeric or date and time values and displays the result string.</span></span>  
  
<a name="table"></a> <span data-ttu-id="07678-110">В следующей таблице приведены описатели стандартного числового формата и примеры выходных данных, формируемых каждым описателем формата.</span><span class="sxs-lookup"><span data-stu-id="07678-110">The following table describes the custom numeric format specifiers and displays sample output produced by each format specifier.</span></span> <span data-ttu-id="07678-111">Дополнительные сведения об использовании строк настраиваемого числового формата см. в разделе [Примечания](#NotesCustomFormatting) ; обширную демонстрацию их использования см. в разделе [Пример](#example) .</span><span class="sxs-lookup"><span data-stu-id="07678-111">See the [Notes](#NotesCustomFormatting) section for additional information about using custom numeric format strings, and the [Example](#example) section for a comprehensive illustration of their use.</span></span>  
  
|<span data-ttu-id="07678-112">Описатель формата</span><span class="sxs-lookup"><span data-stu-id="07678-112">Format specifier</span></span>|<span data-ttu-id="07678-113">name</span><span class="sxs-lookup"><span data-stu-id="07678-113">Name</span></span>|<span data-ttu-id="07678-114">Описание</span><span class="sxs-lookup"><span data-stu-id="07678-114">Description</span></span>|<span data-ttu-id="07678-115">Примеры</span><span class="sxs-lookup"><span data-stu-id="07678-115">Examples</span></span>|  
|----------------------|----------|-----------------|--------------|  
|<span data-ttu-id="07678-116">"0"</span><span class="sxs-lookup"><span data-stu-id="07678-116">"0"</span></span>|<span data-ttu-id="07678-117">Знак-заместитель нуля</span><span class="sxs-lookup"><span data-stu-id="07678-117">Zero placeholder</span></span>|<span data-ttu-id="07678-118">Заменяет ноль соответствующей цифрой, если такая имеется. В противном случае в результирующей строке будет стоять ноль.</span><span class="sxs-lookup"><span data-stu-id="07678-118">Replaces the zero with the corresponding digit if one is present; otherwise, zero appears in the result string.</span></span><br /><br /> <span data-ttu-id="07678-119">Дополнительная информация: [Настраиваемый описатель "0"](#Specifier0).</span><span class="sxs-lookup"><span data-stu-id="07678-119">More information: [The "0" Custom Specifier](#Specifier0).</span></span>|<span data-ttu-id="07678-120">1234.5678 ("00000") -> 01235</span><span class="sxs-lookup"><span data-stu-id="07678-120">1234.5678 ("00000") -> 01235</span></span><br /><br /> <span data-ttu-id="07678-121">0.45678 ("0.00", en-US) -> 0.46</span><span class="sxs-lookup"><span data-stu-id="07678-121">0.45678 ("0.00", en-US) -> 0.46</span></span><br /><br /> <span data-ttu-id="07678-122">0.45678 ("0.00", fr-FR) -> 0,46</span><span class="sxs-lookup"><span data-stu-id="07678-122">0.45678 ("0.00", fr-FR) -> 0,46</span></span>|  
|<span data-ttu-id="07678-123">"#"</span><span class="sxs-lookup"><span data-stu-id="07678-123">"#"</span></span>|<span data-ttu-id="07678-124">Заместитель цифры</span><span class="sxs-lookup"><span data-stu-id="07678-124">Digit placeholder</span></span>|<span data-ttu-id="07678-125">Заменяет знак "#" соответствующей цифрой, если такая имеется. В противном случае в результирующей строке не будет цифры.</span><span class="sxs-lookup"><span data-stu-id="07678-125">Replaces the "#" symbol with the corresponding digit if one is present; otherwise, no digit appears in the result string.</span></span><br /><br /> <span data-ttu-id="07678-126">Обратите внимание, что в итоговой строке не будет отображаться цифра, если соответствующей цифрой в строке ввода является незначащий 0.</span><span class="sxs-lookup"><span data-stu-id="07678-126">Note that no digit appears in the result string if the corresponding digit in the input string is a non-significant 0.</span></span> <span data-ttu-id="07678-127">Например, 0003 ("####") -> 3.</span><span class="sxs-lookup"><span data-stu-id="07678-127">For example, 0003 ("####") -> 3.</span></span><br /><br /> <span data-ttu-id="07678-128">Дополнительная информация: [Настраиваемый описатель "#"](#SpecifierD).</span><span class="sxs-lookup"><span data-stu-id="07678-128">More information: [The "#" Custom Specifier](#SpecifierD).</span></span>|<span data-ttu-id="07678-129">1234.5678 ("#####") -> 1235</span><span class="sxs-lookup"><span data-stu-id="07678-129">1234.5678 ("#####") -> 1235</span></span><br /><br /> <span data-ttu-id="07678-130">0.45678 ("#.##", en-US) -> .46</span><span class="sxs-lookup"><span data-stu-id="07678-130">0.45678 ("#.##", en-US) -> .46</span></span><br /><br /> <span data-ttu-id="07678-131">0.45678 ("#.##", fr-FR) -> ,46</span><span class="sxs-lookup"><span data-stu-id="07678-131">0.45678 ("#.##", fr-FR) -> ,46</span></span>|  
|<span data-ttu-id="07678-132">"."</span><span class="sxs-lookup"><span data-stu-id="07678-132">"."</span></span>|<span data-ttu-id="07678-133">Разделитель</span><span class="sxs-lookup"><span data-stu-id="07678-133">Decimal point</span></span>|<span data-ttu-id="07678-134">Определяет расположение разделителя целой и дробной частей в результирующей строке.</span><span class="sxs-lookup"><span data-stu-id="07678-134">Determines the location of the decimal separator in the result string.</span></span><br /><br /> <span data-ttu-id="07678-135">Дополнительная информация: ["." Настраиваемый описатель "."](#SpecifierPt).</span><span class="sxs-lookup"><span data-stu-id="07678-135">More information: [The "." Custom Specifier](#SpecifierPt).</span></span>|<span data-ttu-id="07678-136">0.45678 ("0.00", en-US) -> 0.46</span><span class="sxs-lookup"><span data-stu-id="07678-136">0.45678 ("0.00", en-US) -> 0.46</span></span><br /><br /> <span data-ttu-id="07678-137">0.45678 ("0.00", fr-FR) -> 0,46</span><span class="sxs-lookup"><span data-stu-id="07678-137">0.45678 ("0.00", fr-FR) -> 0,46</span></span>|  
|<span data-ttu-id="07678-138">","</span><span class="sxs-lookup"><span data-stu-id="07678-138">","</span></span>|<span data-ttu-id="07678-139">Разделитель групп и масштабирование чисел</span><span class="sxs-lookup"><span data-stu-id="07678-139">Group separator and number scaling</span></span>|<span data-ttu-id="07678-140">Служит в качестве описателя разделителя групп и описателя масштабирования чисел.</span><span class="sxs-lookup"><span data-stu-id="07678-140">Serves as both a group separator and a number scaling specifier.</span></span> <span data-ttu-id="07678-141">В качестве разделителя групп вставляет локализованный символ-разделитель групп между всеми группами.</span><span class="sxs-lookup"><span data-stu-id="07678-141">As a group separator, it inserts a localized group separator character between each group.</span></span> <span data-ttu-id="07678-142">В качестве описателя масштабирования чисел делит число на 1000 для всех указанных запятых.</span><span class="sxs-lookup"><span data-stu-id="07678-142">As a number scaling specifier, it divides a number by 1000 for each comma specified.</span></span><br /><br /> <span data-ttu-id="07678-143">Дополнительная информация: [Настраиваемый описатель ","](#SpecifierTh).</span><span class="sxs-lookup"><span data-stu-id="07678-143">More information: [The "," Custom Specifier](#SpecifierTh).</span></span>|<span data-ttu-id="07678-144">Описатель разделителя групп:</span><span class="sxs-lookup"><span data-stu-id="07678-144">Group separator specifier:</span></span><br /><br /> <span data-ttu-id="07678-145">2147483647 ("##,#", en-US) -> 2,147,483,647</span><span class="sxs-lookup"><span data-stu-id="07678-145">2147483647 ("##,#", en-US) -> 2,147,483,647</span></span><br /><br /> <span data-ttu-id="07678-146">2147483647 ("##,#", es-ES) -> 2.147.483.647</span><span class="sxs-lookup"><span data-stu-id="07678-146">2147483647 ("##,#", es-ES) -> 2.147.483.647</span></span><br /><br /> <span data-ttu-id="07678-147">Описатель масштабирования:</span><span class="sxs-lookup"><span data-stu-id="07678-147">Scaling specifier:</span></span><br /><br /> <span data-ttu-id="07678-148">2147483647 ("#,#,,", en-US) -> 2,147</span><span class="sxs-lookup"><span data-stu-id="07678-148">2147483647 ("#,#,,", en-US) -> 2,147</span></span><br /><br /> <span data-ttu-id="07678-149">2147483647 ("#,#,,", es-ES) -> 2.147</span><span class="sxs-lookup"><span data-stu-id="07678-149">2147483647 ("#,#,,", es-ES) -> 2.147</span></span>|  
|<span data-ttu-id="07678-150">"%"</span><span class="sxs-lookup"><span data-stu-id="07678-150">"%"</span></span>|<span data-ttu-id="07678-151">Заместитель процентов</span><span class="sxs-lookup"><span data-stu-id="07678-151">Percentage placeholder</span></span>|<span data-ttu-id="07678-152">Умножает число на 100 и вставляет локализованный символ процента в результирующую строку.</span><span class="sxs-lookup"><span data-stu-id="07678-152">Multiplies a number by 100 and inserts a localized percentage symbol in the result string.</span></span><br /><br /> <span data-ttu-id="07678-153">Дополнительная информация: [Настраиваемый описатель "%"](#SpecifierPct).</span><span class="sxs-lookup"><span data-stu-id="07678-153">More information: [The "%" Custom Specifier](#SpecifierPct).</span></span>|<span data-ttu-id="07678-154">0.3697 ("%#0.00", en-US) -> %36.97</span><span class="sxs-lookup"><span data-stu-id="07678-154">0.3697 ("%#0.00", en-US) -> %36.97</span></span><br /><br /> <span data-ttu-id="07678-155">0.3697 ("%#0.00", el-GR) -> %36,97</span><span class="sxs-lookup"><span data-stu-id="07678-155">0.3697 ("%#0.00", el-GR) -> %36,97</span></span><br /><br /> <span data-ttu-id="07678-156">0.3697 ("##.0 %", en-US) -> 37.0 %</span><span class="sxs-lookup"><span data-stu-id="07678-156">0.3697 ("##.0 %", en-US) -> 37.0 %</span></span><br /><br /> <span data-ttu-id="07678-157">0.3697 ("##.0 %", el-GR) -> 37,0 %</span><span class="sxs-lookup"><span data-stu-id="07678-157">0.3697 ("##.0 %", el-GR) -> 37,0 %</span></span>|  
|<span data-ttu-id="07678-158">"‰"</span><span class="sxs-lookup"><span data-stu-id="07678-158">"‰"</span></span>|<span data-ttu-id="07678-159">Местозаполнитель промилле</span><span class="sxs-lookup"><span data-stu-id="07678-159">Per mille placeholder</span></span>|<span data-ttu-id="07678-160">Умножает число на 1000 и вставляет локализованный символ промилле в результирующую строку.</span><span class="sxs-lookup"><span data-stu-id="07678-160">Multiplies a number by 1000 and inserts a localized per mille symbol in the result string.</span></span><br /><br /> <span data-ttu-id="07678-161">Дополнительная информация: [Настраиваемый описатель "‰"](#SpecifierPerMille).</span><span class="sxs-lookup"><span data-stu-id="07678-161">More information: [The "‰" Custom Specifier](#SpecifierPerMille).</span></span>|<span data-ttu-id="07678-162">0.03697 ("#0.00‰", en-US) -> 36.97‰</span><span class="sxs-lookup"><span data-stu-id="07678-162">0.03697 ("#0.00‰", en-US) -> 36.97‰</span></span><br /><br /> <span data-ttu-id="07678-163">0.03697 ("#0.00‰", ru-RU) -> 36,97‰</span><span class="sxs-lookup"><span data-stu-id="07678-163">0.03697 ("#0.00‰", ru-RU) -> 36,97‰</span></span>|  
|<span data-ttu-id="07678-164">"E0"</span><span class="sxs-lookup"><span data-stu-id="07678-164">"E0"</span></span><br /><br /> <span data-ttu-id="07678-165">"E+0"</span><span class="sxs-lookup"><span data-stu-id="07678-165">"E+0"</span></span><br /><br /> <span data-ttu-id="07678-166">"E-0"</span><span class="sxs-lookup"><span data-stu-id="07678-166">"E-0"</span></span><br /><br /> <span data-ttu-id="07678-167">"E0"</span><span class="sxs-lookup"><span data-stu-id="07678-167">"e0"</span></span><br /><br /> <span data-ttu-id="07678-168">"E+0"</span><span class="sxs-lookup"><span data-stu-id="07678-168">"e+0"</span></span><br /><br /> <span data-ttu-id="07678-169">"E-0"</span><span class="sxs-lookup"><span data-stu-id="07678-169">"e-0"</span></span>|<span data-ttu-id="07678-170">Экспоненциальная нотация</span><span class="sxs-lookup"><span data-stu-id="07678-170">Exponential notation</span></span>|<span data-ttu-id="07678-171">Если за этим описателем следует по меньшей мере один ноль (0), результат форматируется с использованием экспоненциальной нотации.</span><span class="sxs-lookup"><span data-stu-id="07678-171">If followed by at least one 0 (zero), formats the result using exponential notation.</span></span> <span data-ttu-id="07678-172">Регистр ("E" или "e") определяет регистр символа экспоненты в результирующей строке.</span><span class="sxs-lookup"><span data-stu-id="07678-172">The case of "E" or "e" indicates the case of the exponent symbol in the result string.</span></span> <span data-ttu-id="07678-173">Минимальное число цифр экспоненты определяется количеством нулей, стоящих за символом "E" или "e".</span><span class="sxs-lookup"><span data-stu-id="07678-173">The number of zeros following the "E" or "e" character determines the minimum number of digits in the exponent.</span></span> <span data-ttu-id="07678-174">Знак "+" указывает на то, что перед экспонентой всегда должен ставиться символ знака.</span><span class="sxs-lookup"><span data-stu-id="07678-174">A plus sign (+) indicates that a sign character always precedes the exponent.</span></span> <span data-ttu-id="07678-175">Знак "-" указывает на то, что символ знака должен ставиться только в случае, если экспонента имеет отрицательное значение.</span><span class="sxs-lookup"><span data-stu-id="07678-175">A minus sign (-) indicates that a sign character precedes only negative exponents.</span></span><br /><br /> <span data-ttu-id="07678-176">Дополнительная информация: [Настраиваемые описатели "E" и "e"](#SpecifierExponent).</span><span class="sxs-lookup"><span data-stu-id="07678-176">More information: [The "E" and "e" Custom Specifiers](#SpecifierExponent).</span></span>|<span data-ttu-id="07678-177">987654 ("#0.0e0") -> 98.8e4</span><span class="sxs-lookup"><span data-stu-id="07678-177">987654 ("#0.0e0") -> 98.8e4</span></span><br /><br /> <span data-ttu-id="07678-178">1503.92311 ("0.0##e+00") -> 1.504e+03</span><span class="sxs-lookup"><span data-stu-id="07678-178">1503.92311 ("0.0##e+00") -> 1.504e+03</span></span><br /><br /> <span data-ttu-id="07678-179">1.8901385E-16 ("0.0e+00") -> 1.9e-16</span><span class="sxs-lookup"><span data-stu-id="07678-179">1.8901385E-16 ("0.0e+00") -> 1.9e-16</span></span>|  
|<span data-ttu-id="07678-180">"\\"</span><span class="sxs-lookup"><span data-stu-id="07678-180">"\\"</span></span>|<span data-ttu-id="07678-181">Escape-символ</span><span class="sxs-lookup"><span data-stu-id="07678-181">Escape character</span></span>|<span data-ttu-id="07678-182">Указывает на то, что следующий за ним символ должен рассматриваться как литерал, а не как описатель настраиваемого формата.</span><span class="sxs-lookup"><span data-stu-id="07678-182">Causes the next character to be interpreted as a literal rather than as a custom format specifier.</span></span><br /><br /> <span data-ttu-id="07678-183">Дополнительная информация: [Escape-символ "\\"](#SpecifierEscape).</span><span class="sxs-lookup"><span data-stu-id="07678-183">More information: [The "\\" Escape Character](#SpecifierEscape).</span></span>|<span data-ttu-id="07678-184">987654 ("\\###00\\#") -> #987654#</span><span class="sxs-lookup"><span data-stu-id="07678-184">987654 ("\\###00\\#") -> #987654#</span></span>|  
|<span data-ttu-id="07678-185">'*строка*'</span><span class="sxs-lookup"><span data-stu-id="07678-185">'*string*'</span></span><br /><br /> <span data-ttu-id="07678-186">"*строка*"</span><span class="sxs-lookup"><span data-stu-id="07678-186">"*string*"</span></span>|<span data-ttu-id="07678-187">Разделитель строк-литералов</span><span class="sxs-lookup"><span data-stu-id="07678-187">Literal string delimiter</span></span>|<span data-ttu-id="07678-188">Указывает на то, что заключенные в разделители символы должны быть скопированы в результирующую строку без изменений.</span><span class="sxs-lookup"><span data-stu-id="07678-188">Indicates that the enclosed characters should be copied to the result string unchanged.</span></span><br/><br/><span data-ttu-id="07678-189">Дополнительная информация: [Символьные литералы](#character-literals).</span><span class="sxs-lookup"><span data-stu-id="07678-189">More information: [Character literals](#character-literals).</span></span>|<span data-ttu-id="07678-190">68 ("# ' градусов'") -> 68 градусов</span><span class="sxs-lookup"><span data-stu-id="07678-190">68 ("# 'degrees'") -> 68 degrees</span></span><br /><br /> <span data-ttu-id="07678-191">68 ("# ' градусов'") -> 68 градусов</span><span class="sxs-lookup"><span data-stu-id="07678-191">68 ("#' degrees'") -> 68 degrees</span></span>|  
|<span data-ttu-id="07678-192">;</span><span class="sxs-lookup"><span data-stu-id="07678-192">;</span></span>|<span data-ttu-id="07678-193">Разделитель секций</span><span class="sxs-lookup"><span data-stu-id="07678-193">Section separator</span></span>|<span data-ttu-id="07678-194">Определяет секции с раздельными строками формата для положительных чисел, отрицательных чисел и нуля.</span><span class="sxs-lookup"><span data-stu-id="07678-194">Defines sections with separate format strings for positive, negative, and zero numbers.</span></span><br /><br /> <span data-ttu-id="07678-195">Дополнительная информация: [Разделитель секций ";"](#SectionSeparator).</span><span class="sxs-lookup"><span data-stu-id="07678-195">More information: [The ";" Section Separator](#SectionSeparator).</span></span>|<span data-ttu-id="07678-196">12.345 ("#0.0#;(#0.0#);-\0-") -> 12.35</span><span class="sxs-lookup"><span data-stu-id="07678-196">12.345 ("#0.0#;(#0.0#);-\0-") -> 12.35</span></span><br /><br /> <span data-ttu-id="07678-197">0 ("#0.0#;(#0.0#);-\0-") -> -0-</span><span class="sxs-lookup"><span data-stu-id="07678-197">0 ("#0.0#;(#0.0#);-\0-") -> -0-</span></span><br /><br /> <span data-ttu-id="07678-198">-12.345 ("#0.0#;(#0.0#);-\0-") -> (12.35)</span><span class="sxs-lookup"><span data-stu-id="07678-198">-12.345 ("#0.0#;(#0.0#);-\0-") -> (12.35)</span></span><br /><br /> <span data-ttu-id="07678-199">12.345 ("#0.0#;(#0.0#)") -> 12.35</span><span class="sxs-lookup"><span data-stu-id="07678-199">12.345 ("#0.0#;(#0.0#)") -> 12.35</span></span><br /><br /> <span data-ttu-id="07678-200">0 ("#0.0#;(#0.0#)") -> 0.0</span><span class="sxs-lookup"><span data-stu-id="07678-200">0 ("#0.0#;(#0.0#)") -> 0.0</span></span><br /><br /> <span data-ttu-id="07678-201">-12.345 ("#0.0#;(#0.0#)") -> (12.35)</span><span class="sxs-lookup"><span data-stu-id="07678-201">-12.345 ("#0.0#;(#0.0#)") -> (12.35)</span></span>|  
|<span data-ttu-id="07678-202">Другой</span><span class="sxs-lookup"><span data-stu-id="07678-202">Other</span></span>|<span data-ttu-id="07678-203">Все остальные символы</span><span class="sxs-lookup"><span data-stu-id="07678-203">All other characters</span></span>|<span data-ttu-id="07678-204">Символ копируется в результирующую строку без изменений.</span><span class="sxs-lookup"><span data-stu-id="07678-204">The character is copied to the result string unchanged.</span></span><br/><br/><span data-ttu-id="07678-205">Дополнительная информация: [Символьные литералы](#character-literals).</span><span class="sxs-lookup"><span data-stu-id="07678-205">More information: [Character literals](#character-literals).</span></span>|<span data-ttu-id="07678-206">68 ("# °") -> 68 °</span><span class="sxs-lookup"><span data-stu-id="07678-206">68 ("# °") -> 68 °</span></span>|  
  
 <span data-ttu-id="07678-207">В приведенных ниже разделах содержится подробная информация о всех описателях настраиваемого числового формата.</span><span class="sxs-lookup"><span data-stu-id="07678-207">The following sections provide detailed information about each of the custom numeric format specifiers.</span></span>  

[!INCLUDE[C# interactive-note](~/includes/csharp-interactive-partial-note.md)] 
  
<a name="Specifier0"></a>   
## <a name="the-0-custom-specifier"></a><span data-ttu-id="07678-208">Настраиваемый описатель "0"</span><span class="sxs-lookup"><span data-stu-id="07678-208">The "0" custom specifier</span></span>  
 <span data-ttu-id="07678-209">Описатель настраиваемого формата "0" служит нулевым символом-заполнителем.</span><span class="sxs-lookup"><span data-stu-id="07678-209">The "0" custom format specifier serves as a zero-placeholder symbol.</span></span> <span data-ttu-id="07678-210">Если форматируемое значение содержит цифру в позиции, где в строке формата стоит ноль, то эта цифра копируется в результирующую строку; в противном случае в результирующей строке будет стоять ноль.</span><span class="sxs-lookup"><span data-stu-id="07678-210">If the value that is being formatted has a digit in the position where the zero appears in the format string, that digit is copied to the result string; otherwise, a zero appears in the result string.</span></span> <span data-ttu-id="07678-211">Позиция крайнего левого нуля перед разделителем целой и дробной частей и позиция крайнего правого нуля после разделителя целой и дробной частей определяют диапазон цифр, которые всегда включаются в результирующую строку.</span><span class="sxs-lookup"><span data-stu-id="07678-211">The position of the leftmost zero before the decimal point and the rightmost zero after the decimal point determines the range of digits that are always present in the result string.</span></span>  
  
 <span data-ttu-id="07678-212">Спецификатор "00" приводит к округлению значения до ближайшего значения цифры, предшествующей десятичной точке-разделителю, если назначено использование округления от нуля.</span><span class="sxs-lookup"><span data-stu-id="07678-212">The "00" specifier causes the value to be rounded to the nearest digit preceding the decimal, where rounding away from zero is always used.</span></span> <span data-ttu-id="07678-213">Например, в результате форматирования числа 34,5 с помощью строки "00" будет получена строка со значением"35".</span><span class="sxs-lookup"><span data-stu-id="07678-213">For example, formatting 34.5 with "00" would result in the value 35.</span></span>  
  
 <span data-ttu-id="07678-214">В следующем примере показано форматирование нескольких значений с помощью строк настраиваемого формата, содержащих нулевые заполнители.</span><span class="sxs-lookup"><span data-stu-id="07678-214">The following example displays several values that are formatted by using custom format strings that include zero placeholders.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#1](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/custom.cpp#1)]
 [!code-csharp[Formatting.Numeric.Custom#1](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/custom.cs#1)]
 [!code-vb[Formatting.Numeric.Custom#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/Custom.vb#1)]  
  
 [<span data-ttu-id="07678-215">К таблице</span><span class="sxs-lookup"><span data-stu-id="07678-215">Back to table</span></span>](#table)  
  
<a name="SpecifierD"></a>   
## <a name="the--custom-specifier"></a><span data-ttu-id="07678-216">Настраиваемый описатель "#"</span><span class="sxs-lookup"><span data-stu-id="07678-216">The "#" custom specifier</span></span>  
 <span data-ttu-id="07678-217">Описатель настраиваемого формата "#" служит символом-заполнителем для цифр.</span><span class="sxs-lookup"><span data-stu-id="07678-217">The "#" custom format specifier serves as a digit-placeholder symbol.</span></span> <span data-ttu-id="07678-218">Если в форматируемом значении на позиции, где в строке формата присутствует символ "#", есть цифра, то эта цифра копируется в результирующую строку.</span><span class="sxs-lookup"><span data-stu-id="07678-218">If the value that is being formatted has a digit in the position where the "#" symbol appears in the format string, that digit is copied to the result string.</span></span> <span data-ttu-id="07678-219">В противном случае в выходной строке на этой позиции ничего не записывается.</span><span class="sxs-lookup"><span data-stu-id="07678-219">Otherwise, nothing is stored in that position in the result string.</span></span>  
  
 <span data-ttu-id="07678-220">Обратите внимание, что при использовании этого описателя незначащие нули не отображаются, даже если ноль является единственной цифрой в строке.</span><span class="sxs-lookup"><span data-stu-id="07678-220">Note that this specifier never displays a zero that is not a significant digit, even if zero is the only digit in the string.</span></span> <span data-ttu-id="07678-221">Ноль отображается только в том случае, если он является значащей цифрой отображаемого числа.</span><span class="sxs-lookup"><span data-stu-id="07678-221">It will display zero only if it is a significant digit in the number that is being displayed.</span></span>  
  
 <span data-ttu-id="07678-222">Строка формата "##" приводит к округлению значения до ближайшего значения цифры, предшествующей десятичному разделителю, если назначено использование округления от нуля.</span><span class="sxs-lookup"><span data-stu-id="07678-222">The "##" format string causes the value to be rounded to the nearest digit preceding the decimal, where rounding away from zero is always used.</span></span> <span data-ttu-id="07678-223">Например, в результате форматирования числа 34,5 с помощью строки "##" будет получена строка со значением "35".</span><span class="sxs-lookup"><span data-stu-id="07678-223">For example, formatting 34.5 with "##" would result in the value 35.</span></span>  
  
 <span data-ttu-id="07678-224">В следующем примере показано форматирование нескольких значений с помощью строк настраиваемого формата, содержащих заполнители для цифр.</span><span class="sxs-lookup"><span data-stu-id="07678-224">The following example displays several values that are formatted by using custom format strings that include digit placeholders.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#2](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/custom.cpp#2)]
 [!code-csharp[Formatting.Numeric.Custom#2](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/custom.cs#2)]
 [!code-vb[Formatting.Numeric.Custom#2](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/Custom.vb#2)]  
  
 <span data-ttu-id="07678-225">Чтобы получить итоговую строку, в которой отсутствуют цифры или начальные нули заменены пробелами, используйте [функциональность составного форматирования](../../../docs/standard/base-types/composite-formatting.md) и укажите ширину поля, как показано в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="07678-225">To return a result string in which absent digits or leading zeroes are replaced by spaces, use the [composite formatting feature](../../../docs/standard/base-types/composite-formatting.md) and specify a field width, as the following example illustrates.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#12](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/SpaceOrDigit1.cpp#12)]
 [!code-csharp-interactive[Formatting.Numeric.Custom#12](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/SpaceOrDigit1.cs#12)]
 [!code-vb[Formatting.Numeric.Custom#12](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/SpaceOrDigit1.vb#12)]  
  
 [<span data-ttu-id="07678-226">К таблице</span><span class="sxs-lookup"><span data-stu-id="07678-226">Back to table</span></span>](#table)  
  
<a name="SpecifierPt"></a>   
## <a name="the--custom-specifier"></a><span data-ttu-id="07678-227">Настраиваемый описатель "."</span><span class="sxs-lookup"><span data-stu-id="07678-227">The "." custom specifier</span></span>  
 <span data-ttu-id="07678-228">Описатель настраиваемого формата "." вставляет в результирующую строку локализованный разделитель целой и дробной частей числа.</span><span class="sxs-lookup"><span data-stu-id="07678-228">The "." custom format specifier inserts a localized decimal separator into the result string.</span></span> <span data-ttu-id="07678-229">Первая точка в строке формата определяет расположение разделителя целой и дробной частей форматированного значения, а все прочие точки игнорируются.</span><span class="sxs-lookup"><span data-stu-id="07678-229">The first period in the format string determines the location of the decimal separator in the formatted value; any additional periods are ignored.</span></span>  
  
 <span data-ttu-id="07678-230">Символ, используемый в качестве разделителя целой и дробной части в результирующей строке, не всегда будет точкой; его значение определяется свойством <xref:System.Globalization.NumberFormatInfo.NumberDecimalSeparator%2A> объекта <xref:System.Globalization.NumberFormatInfo> , управляющего форматированием.</span><span class="sxs-lookup"><span data-stu-id="07678-230">The character that is used as the decimal separator in the result string is not always a period; it is determined by the <xref:System.Globalization.NumberFormatInfo.NumberDecimalSeparator%2A> property of the <xref:System.Globalization.NumberFormatInfo> object that controls formatting.</span></span>  
  
 <span data-ttu-id="07678-231">В следующем примере спецификатор формата "." используется для определения местоположения десятичного разделителя в нескольких выходных строках.</span><span class="sxs-lookup"><span data-stu-id="07678-231">The following example uses the "." format specifier to define the location of the decimal point in several result strings.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#3](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/custom.cpp#3)]
 [!code-csharp[Formatting.Numeric.Custom#3](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/custom.cs#3)]
 [!code-vb[Formatting.Numeric.Custom#3](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/Custom.vb#3)]  
  
 [<span data-ttu-id="07678-232">К таблице</span><span class="sxs-lookup"><span data-stu-id="07678-232">Back to table</span></span>](#table)  
  
<a name="SpecifierTh"></a>   
## <a name="the--custom-specifier"></a><span data-ttu-id="07678-233">Настраиваемый описатель ","</span><span class="sxs-lookup"><span data-stu-id="07678-233">The "," custom specifier</span></span>  
 <span data-ttu-id="07678-234">Символ "," служит в качестве описателя разделителя групп и описателя масштабирования чисел.</span><span class="sxs-lookup"><span data-stu-id="07678-234">The "," character serves as both a group separator and a number scaling specifier.</span></span>  
  
-   <span data-ttu-id="07678-235">Разделитель групп. Если между двумя заполнителями для цифр ("0" или "#"), задающими форматирование целой части числа, стоит одна или несколько запятых, то между всеми группами целой части числа вставляется символ-разделитель групп.</span><span class="sxs-lookup"><span data-stu-id="07678-235">Group separator: If one or more commas are specified between two digit placeholders (0 or #) that format the integral digits of a number, a group separator character is inserted between each number group in the integral part of the output.</span></span>  
  
     <span data-ttu-id="07678-236">Свойства <xref:System.Globalization.NumberFormatInfo.NumberGroupSeparator%2A> и <xref:System.Globalization.NumberFormatInfo.NumberGroupSizes%2A> текущего объекта <xref:System.Globalization.NumberFormatInfo> определяют знак, используемый в качестве разделителя групп числа и размера каждой группы числа.</span><span class="sxs-lookup"><span data-stu-id="07678-236">The <xref:System.Globalization.NumberFormatInfo.NumberGroupSeparator%2A> and <xref:System.Globalization.NumberFormatInfo.NumberGroupSizes%2A> properties of the current <xref:System.Globalization.NumberFormatInfo> object determine the character used as the number group separator and the size of each number group.</span></span> <span data-ttu-id="07678-237">Например, если строка "#,#" и неизменяемый язык и региональные параметры используются для форматирования числа 1000, то результатом является "1,000".</span><span class="sxs-lookup"><span data-stu-id="07678-237">For example, if the string "#,#" and the invariant culture are used to format the number 1000, the output is "1,000".</span></span>  
  
-   <span data-ttu-id="07678-238">Описатель масштабирования чисел. Если сразу слева от явно или неявно заданного разделителя целой и дробной части стоит одна или несколько запятых, форматируемое число делится на 1000 для каждой указанной запятой.</span><span class="sxs-lookup"><span data-stu-id="07678-238">Number scaling specifier: If one or more commas are specified immediately to the left of the explicit or implicit decimal point, the number to be formatted is divided by 1000 for each comma.</span></span> <span data-ttu-id="07678-239">Например, если строка "0,," используется для форматирования числа 100 миллионов, то результатом является "100".</span><span class="sxs-lookup"><span data-stu-id="07678-239">For example, if the string "0,," is used to format the number 100 million, the output is "100".</span></span>  
  
 <span data-ttu-id="07678-240">Разделитель групп и описатель масштабирования чисел можно использовать в строке формата одновременно.</span><span class="sxs-lookup"><span data-stu-id="07678-240">You can use group separator and number scaling specifiers in the same format string.</span></span> <span data-ttu-id="07678-241">Например, если строка "#, 0,," и неизменяемый язык и региональные параметры используются для форматирования числа один миллиард, то результатом является "1,000".</span><span class="sxs-lookup"><span data-stu-id="07678-241">For example, if the string "#,0,," and the invariant culture are used to format the number one billion, the output is "1,000".</span></span>  
  
 <span data-ttu-id="07678-242">В следующем примере демонстрируется использование запятой в качестве разделителя групп.</span><span class="sxs-lookup"><span data-stu-id="07678-242">The following example illustrates the use of the comma as a group separator.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#4](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/custom.cpp#4)]
 [!code-csharp[Formatting.Numeric.Custom#4](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/custom.cs#4)]
 [!code-vb[Formatting.Numeric.Custom#4](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/Custom.vb#4)]  
  
 <span data-ttu-id="07678-243">Следующий пример иллюстрирует использование запятой как спецификатора масштабирования числа.</span><span class="sxs-lookup"><span data-stu-id="07678-243">The following example illustrates the use of the comma as a specifier for number scaling.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#5](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/custom.cpp#5)]
 [!code-csharp[Formatting.Numeric.Custom#5](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/custom.cs#5)]
 [!code-vb[Formatting.Numeric.Custom#5](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/Custom.vb#5)]  
  
 [<span data-ttu-id="07678-244">К таблице</span><span class="sxs-lookup"><span data-stu-id="07678-244">Back to table</span></span>](#table)  
  
<a name="SpecifierPct"></a>   
## <a name="the--custom-specifier"></a><span data-ttu-id="07678-245">Настраиваемый описатель "%"</span><span class="sxs-lookup"><span data-stu-id="07678-245">The "%" custom specifier</span></span>  
 <span data-ttu-id="07678-246">При использовании символа процента ("%") в строке формата число перед форматированием будет умножено на 100.</span><span class="sxs-lookup"><span data-stu-id="07678-246">A percent sign (%) in a format string causes a number to be multiplied by 100 before it is formatted.</span></span> <span data-ttu-id="07678-247">В то место, где в строке формата стоит символ "%", в число будет вставлен локализованный символ процента.</span><span class="sxs-lookup"><span data-stu-id="07678-247">The localized percent symbol is inserted in the number at the location where the % appears in the format string.</span></span> <span data-ttu-id="07678-248">Используемый при этом символ процента определяется свойством <xref:System.Globalization.NumberFormatInfo.PercentSymbol%2A> текущего объекта <xref:System.Globalization.NumberFormatInfo> .</span><span class="sxs-lookup"><span data-stu-id="07678-248">The percent character used is defined by the <xref:System.Globalization.NumberFormatInfo.PercentSymbol%2A> property of the current <xref:System.Globalization.NumberFormatInfo> object.</span></span>  
  
 <span data-ttu-id="07678-249">В следующем примере определяется несколько строк настраиваемого формата, включающих настраиваемый описатель "%".</span><span class="sxs-lookup"><span data-stu-id="07678-249">The following example defines several custom format strings that include the "%" custom specifier.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#6](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/custom.cpp#6)]
 [!code-csharp[Formatting.Numeric.Custom#6](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/custom.cs#6)]
 [!code-vb[Formatting.Numeric.Custom#6](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/Custom.vb#6)]  
  
 [<span data-ttu-id="07678-250">К таблице</span><span class="sxs-lookup"><span data-stu-id="07678-250">Back to table</span></span>](#table)  
  
<a name="SpecifierPerMille"></a>   
## <a name="the--custom-specifier"></a><span data-ttu-id="07678-251">Настраиваемый описатель "‰"</span><span class="sxs-lookup"><span data-stu-id="07678-251">The "‰" custom specifier</span></span>  
 <span data-ttu-id="07678-252">При использовании в строке формата символа промилле ("‰" или "\u2030") перед форматированием число будет умножено на 1000.</span><span class="sxs-lookup"><span data-stu-id="07678-252">A per mille character (‰ or \u2030) in a format string causes a number to be multiplied by 1000 before it is formatted.</span></span> <span data-ttu-id="07678-253">В позицию возвращаемой строки, соответствующую положению символа "‰" в строке формата, будет вставлен необходимый символ промилле.</span><span class="sxs-lookup"><span data-stu-id="07678-253">The appropriate per mille symbol is inserted in the returned string at the location where the ‰ symbol appears in the format string.</span></span> <span data-ttu-id="07678-254">Используемый знак промилле определяется значением свойства <xref:System.Globalization.NumberFormatInfo.PerMilleSymbol%2A?displayProperty=nameWithType> объекта, содержащего сведения о форматировании для заданного языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="07678-254">The per mille character used is defined by the <xref:System.Globalization.NumberFormatInfo.PerMilleSymbol%2A?displayProperty=nameWithType> property of the object that provides culture-specific formatting information.</span></span>  
  
 <span data-ttu-id="07678-255">В следующем примере определяется строка настраиваемого формата, включающая настраиваемый описатель "‰".</span><span class="sxs-lookup"><span data-stu-id="07678-255">The following example defines a custom format string that includes the "‰" custom specifier.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#9](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/custom.cpp#9)]
 [!code-csharp[Formatting.Numeric.Custom#9](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/custom.cs#9)]
 [!code-vb[Formatting.Numeric.Custom#9](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/Custom.vb#9)]  
  
 [<span data-ttu-id="07678-256">К таблице</span><span class="sxs-lookup"><span data-stu-id="07678-256">Back to table</span></span>](#table)  
  
<a name="SpecifierExponent"></a>   
## <a name="the-e-and-e-custom-specifiers"></a><span data-ttu-id="07678-257">Настраиваемые описатели "E" и "e"</span><span class="sxs-lookup"><span data-stu-id="07678-257">The "E" and "e" custom specifiers</span></span>  
 <span data-ttu-id="07678-258">Если в строке формата присутствует подстрока "E", "E+", "E-", "e", "e+" или "e-", за которой сразу следует по меньшей мере один ноль, то число форматируется с использованием экспоненциальной нотации. Между числом и экспонентой при этом вставляется символ "E" или "e".</span><span class="sxs-lookup"><span data-stu-id="07678-258">If any of the strings "E", "E+", "E-", "e", "e+", or "e-" are present in the format string and are followed immediately by at least one zero, the number is formatted by using scientific notation with an "E" or "e" inserted between the number and the exponent.</span></span> <span data-ttu-id="07678-259">Минимальное число цифр экспоненты в результирующей строке определяется количеством нулей, стоящих после индикатора экспоненциальной нотации.</span><span class="sxs-lookup"><span data-stu-id="07678-259">The number of zeros following the scientific notation indicator determines the minimum number of digits to output for the exponent.</span></span> <span data-ttu-id="07678-260">Форматы "E+" и "e+" указывают на то, что перед экспонентой всегда должен стоять положительный или отрицательный знак.</span><span class="sxs-lookup"><span data-stu-id="07678-260">The "E+" and "e+" formats indicate that a plus sign or minus sign should always precede the exponent.</span></span> <span data-ttu-id="07678-261">Форматы "E", "e", "E-" и "e-" указывают на то, что символ знака должен ставиться только перед экспонентой с отрицательным значением.</span><span class="sxs-lookup"><span data-stu-id="07678-261">The "E", "E-", "e", or "e-" formats indicate that a sign character should precede only negative exponents.</span></span>  
  
 <span data-ttu-id="07678-262">В следующем примере несколько числовых значений форматируются с помощью спецификаторов экспоненциального представления.</span><span class="sxs-lookup"><span data-stu-id="07678-262">The following example formats several numeric values using the specifiers for scientific notation.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#7](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/custom.cpp#7)]
 [!code-csharp[Formatting.Numeric.Custom#7](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/custom.cs#7)]
 [!code-vb[Formatting.Numeric.Custom#7](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/Custom.vb#7)]  
  
 [<span data-ttu-id="07678-263">К таблице</span><span class="sxs-lookup"><span data-stu-id="07678-263">Back to table</span></span>](#table)  
  
<a name="SpecifierEscape"></a>   
## <a name="the--escape-character"></a><span data-ttu-id="07678-264">Escape-символ "\\"</span><span class="sxs-lookup"><span data-stu-id="07678-264">The "\\" escape character</span></span>  
 <span data-ttu-id="07678-265">Символы "#", "0", ".", ",", "%" и "‰" в строке формата воспринимаются как описатели формата, а не как символы-литералы.</span><span class="sxs-lookup"><span data-stu-id="07678-265">The "#", "0", ".", ",", "%", and "‰" symbols in a format string are interpreted as format specifiers rather than as literal characters.</span></span> <span data-ttu-id="07678-266">В зависимости от положения в строке настраиваемого формата символ "E" верхнего и нижнего регистра, также как и символы "+" и "-", могут восприниматься как описатели формата.</span><span class="sxs-lookup"><span data-stu-id="07678-266">Depending on their position in a custom format string, the uppercase and lowercase "E" as well as the + and - symbols may also be interpreted as format specifiers.</span></span>  
  
 <span data-ttu-id="07678-267">Чтобы предотвратить интерпретацию символа в качестве описателя формата, перед ним можно поставить так называемый escape-символ — обратную косую черту.</span><span class="sxs-lookup"><span data-stu-id="07678-267">To prevent a character from being interpreted as a format specifier, you can precede it with a backslash, which is the escape character.</span></span> <span data-ttu-id="07678-268">Наличие escape-символа означает, что следующий за ним символ является литералом, который следует перенести в результирующую строку без изменений.</span><span class="sxs-lookup"><span data-stu-id="07678-268">The escape character signifies that the following character is a character literal that should be included in the result string unchanged.</span></span>  
  
 <span data-ttu-id="07678-269">Чтобы включить в результирующую строку обратную косую черту, перед ней нужно поставить дополнительную обратную косую черту (`\\`).</span><span class="sxs-lookup"><span data-stu-id="07678-269">To include a backslash in a result string, you must escape it with another backslash (`\\`).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="07678-270">Кроме того, в некоторых компиляторах, например компиляторах C++ и C#, одиночная обратная косая черта также может восприниматься как escape-символ.</span><span class="sxs-lookup"><span data-stu-id="07678-270">Some compilers, such as the C++ and C# compilers, may also interpret a single backslash character as an escape character.</span></span> <span data-ttu-id="07678-271">Чтобы гарантировать, что строка будет правильно воспринята при форматировании, можно поставить символ буквального строкового литерала (символ "\@") перед строкой в C# или добавить дополнительный символ обратной косой черты перед каждой обратной косой чертой в C# и C++.</span><span class="sxs-lookup"><span data-stu-id="07678-271">To ensure that a string is interpreted correctly when formatting, you can use the verbatim string literal character (the @ character) before the string in C#, or add another backslash character before each backslash in C# and C++.</span></span> <span data-ttu-id="07678-272">В следующем примере кода на языке C# демонстрируются оба подхода.</span><span class="sxs-lookup"><span data-stu-id="07678-272">The following C# example illustrates both approaches.</span></span>  
  
 <span data-ttu-id="07678-273">В следующем примере интерпретация символов #, 0 и \\ в качестве escape-символов или описателей формата при форматировании предотвращается с помощью escape-символа.</span><span class="sxs-lookup"><span data-stu-id="07678-273">The following example uses the escape character to prevent the formatting operation from interpreting the "#", "0", and "\\" characters as either escape characters or format specifiers.</span></span> <span data-ttu-id="07678-274">В примерах на языке C# используется дополнительная обратная косая черта, позволяющая гарантировать, что обратная косая черта будет воспринята как символ-литерал.</span><span class="sxs-lookup"><span data-stu-id="07678-274">The C# examples uses an additional backslash to ensure that a backslash is interpreted as a literal character.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#11](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/escape1.cpp#11)]
 [!code-csharp-interactive[Formatting.Numeric.Custom#11](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/escape1.cs#11)]
 [!code-vb[Formatting.Numeric.Custom#11](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/escape1.vb#11)]  
  
 [<span data-ttu-id="07678-275">К таблице</span><span class="sxs-lookup"><span data-stu-id="07678-275">Back to table</span></span>](#table)  
  
<a name="SectionSeparator"></a>   
## <a name="the--section-separator"></a><span data-ttu-id="07678-276">Разделитель секций ";"</span><span class="sxs-lookup"><span data-stu-id="07678-276">The ";" section separator</span></span>  
 <span data-ttu-id="07678-277">Точка с запятой (";") — это описатель условного формата, применяющий разное форматирование к числу в зависимости от того, является оно положительным числом, отрицательным числом или нулем.</span><span class="sxs-lookup"><span data-stu-id="07678-277">The semicolon (;) is a conditional format specifier that applies different formatting to a number depending on whether its value is positive, negative, or zero.</span></span> <span data-ttu-id="07678-278">Для этого следует создать строку формата, состоящую из трех секций, разделенных точкой с запятой.</span><span class="sxs-lookup"><span data-stu-id="07678-278">To produce this behavior, a custom format string can contain up to three sections separated by semicolons.</span></span> <span data-ttu-id="07678-279">Эти секции описаны в следующей таблице.</span><span class="sxs-lookup"><span data-stu-id="07678-279">These sections are described in the following table.</span></span>  
  
|<span data-ttu-id="07678-280">Число секций</span><span class="sxs-lookup"><span data-stu-id="07678-280">Number of sections</span></span>|<span data-ttu-id="07678-281">Описание</span><span class="sxs-lookup"><span data-stu-id="07678-281">Description</span></span>|  
|------------------------|-----------------|  
|<span data-ttu-id="07678-282">Одна секция</span><span class="sxs-lookup"><span data-stu-id="07678-282">One section</span></span>|<span data-ttu-id="07678-283">Строка форматирования применяется ко всем значениям.</span><span class="sxs-lookup"><span data-stu-id="07678-283">The format string applies to all values.</span></span>|  
|<span data-ttu-id="07678-284">Две секции</span><span class="sxs-lookup"><span data-stu-id="07678-284">Two sections</span></span>|<span data-ttu-id="07678-285">Первая секция применяется для положительных значений и нулей, вторая секция применяется для отрицательных значений.</span><span class="sxs-lookup"><span data-stu-id="07678-285">The first section applies to positive values and zeros, and the second section applies to negative values.</span></span><br /><br /> <span data-ttu-id="07678-286">Если форматируемое число является отрицательным, но становится нулем в результате округления в соответствии с форматом, заданным во второй секции, то результирующий ноль форматируется в соответствии с первой секцией.</span><span class="sxs-lookup"><span data-stu-id="07678-286">If the number to be formatted is negative, but becomes zero after rounding according to the format in the second section, the resulting zero is formatted according to the first section.</span></span>|  
|<span data-ttu-id="07678-287">Три секции</span><span class="sxs-lookup"><span data-stu-id="07678-287">Three sections</span></span>|<span data-ttu-id="07678-288">Первая секция применяется для положительных значений, вторая секция применяется для отрицательных значений, а третья — для нулей.</span><span class="sxs-lookup"><span data-stu-id="07678-288">The first section applies to positive values, the second section applies to negative values, and the third section applies to zeros.</span></span><br /><br /> <span data-ttu-id="07678-289">Вторая секция может быть пустой (между двумя точками с запятой пусто), в этом случае первая секция будет использоваться для форматирования нулевых значений.</span><span class="sxs-lookup"><span data-stu-id="07678-289">The second section can be left empty (by having nothing between the semicolons), in which case the first section applies to all nonzero values.</span></span><br /><br /> <span data-ttu-id="07678-290">Если форматируемое число является ненулевым, но становится нулем в результате округления в соответствии с форматом в первой или второй секции, то результирующий ноль форматируется в соответствии с третьей секцией.</span><span class="sxs-lookup"><span data-stu-id="07678-290">If the number to be formatted is nonzero, but becomes zero after rounding according to the format in the first or second section, the resulting zero is formatted according to the third section.</span></span>|  
  
 <span data-ttu-id="07678-291">При форматировании конечного значения разделители секций игнорируют любое существовавшее ранее форматирование, связанное с числом.</span><span class="sxs-lookup"><span data-stu-id="07678-291">Section separators ignore any preexisting formatting associated with a number when the final value is formatted.</span></span> <span data-ttu-id="07678-292">Например, при использовании разделителей секций отрицательные значения всегда отображаются без знака "минус".</span><span class="sxs-lookup"><span data-stu-id="07678-292">For example, negative values are always displayed without a minus sign when section separators are used.</span></span> <span data-ttu-id="07678-293">Чтобы конечное отформатированное значение содержало знак "минус", его следует явным образом включить в настраиваемый спецификатор формата.</span><span class="sxs-lookup"><span data-stu-id="07678-293">If you want the final formatted value to have a minus sign, you should explicitly include the minus sign as part of the custom format specifier.</span></span>  
  
 <span data-ttu-id="07678-294">В следующем примере описатель формата ";" используется для форматирования положительных чисел, отрицательных чисел и нулей различными способами.</span><span class="sxs-lookup"><span data-stu-id="07678-294">The following example uses the ";" format specifier to format positive, negative, and zero numbers differently.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#8](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/custom.cpp#8)]
 [!code-csharp-interactive[Formatting.Numeric.Custom#8](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/custom.cs#8)]
 [!code-vb[Formatting.Numeric.Custom#8](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/Custom.vb#8)]  
  
 [<span data-ttu-id="07678-295">К таблице</span><span class="sxs-lookup"><span data-stu-id="07678-295">Back to table</span></span>](#table)  

## <a name="character-literals"></a><span data-ttu-id="07678-296">Символьные литералы</span><span class="sxs-lookup"><span data-stu-id="07678-296">Character literals</span></span>  
 
<span data-ttu-id="07678-297">Описатели формата, которые появляются в строке настраиваемых числовых форматов, всегда интерпретируются как символы формата и никогда не обрабатываются как литеральные символы.</span><span class="sxs-lookup"><span data-stu-id="07678-297">Format specifiers that appear in a custom numeric format string are always interpreted as formatting characters and never as literal characters.</span></span> <span data-ttu-id="07678-298">К ним относятся следующие символы:</span><span class="sxs-lookup"><span data-stu-id="07678-298">This includes the following characters:</span></span>  

- [<span data-ttu-id="07678-299">0</span><span class="sxs-lookup"><span data-stu-id="07678-299">0</span></span>](#Specifier0)
- [\#](#SpecifierD)
- [%](#SpecifierPct)
- [<span data-ttu-id="07678-300">‰</span><span class="sxs-lookup"><span data-stu-id="07678-300">‰</span></span>](#SpecifierPerMille)
- <span data-ttu-id="07678-301">'</span><span class="sxs-lookup"><span data-stu-id="07678-301">'</span></span>
- [\\](#SpecifierEscape)
- [<span data-ttu-id="07678-302">.</span><span class="sxs-lookup"><span data-stu-id="07678-302">.</span></span>](#SpecifierPt)
- [<span data-ttu-id="07678-303">,</span><span class="sxs-lookup"><span data-stu-id="07678-303">,</span></span>](#SpecifierTh)
- <span data-ttu-id="07678-304">[E или e](#SpecifierExponent), в зависимости от положения в строке формата.</span><span class="sxs-lookup"><span data-stu-id="07678-304">[E or e](#SpecifierExponent), depending on its position in the format string.</span></span>

<span data-ttu-id="07678-305">Все остальные символы всегда интерпретируется как символьные литералы. В операции форматирования они включаются в результирующую строку без изменений.</span><span class="sxs-lookup"><span data-stu-id="07678-305">All other characters are always interpreted as character literals and, in a formatting operation, are included in the result string unchanged.</span></span>  <span data-ttu-id="07678-306">В операции анализа они должны точно соответствовать символам во входной строке. При сравнении учитывается регистр.</span><span class="sxs-lookup"><span data-stu-id="07678-306">In a parsing operation, they must match the characters in the input string exactly; the comparison is case-sensitive.</span></span>  
  
<span data-ttu-id="07678-307">В следующем примере демонстрируется распространенный пример применения литеральных символов единиц измерения (в данном случае тысяч):</span><span class="sxs-lookup"><span data-stu-id="07678-307">The following example illustrates one common use of literal character units (in this case, thousands):</span></span>
  
 [!code-csharp-interactive[literal characters](~/samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/literal2.cs#1)]
 [!code-vb[literal characters](~/samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/literal2.vb#1)]  
  
 <span data-ttu-id="07678-308">Указать необходимость интерпретации символов как литеральных, а не как символов формата, для их последующего включения в результирующую строку или успешного анализа во входной строке можно двумя способами:</span><span class="sxs-lookup"><span data-stu-id="07678-308">There are two ways to indicate that characters are to be interpreted as literal characters and not as formatting characters, so that they can be included in a result string or successfully parsed in an input string:</span></span>  
  
- <span data-ttu-id="07678-309">Путем экранирования символа формата.</span><span class="sxs-lookup"><span data-stu-id="07678-309">By escaping a formatting character.</span></span> <span data-ttu-id="07678-310">Дополнительные сведения см. в разделе [Escape-символ "\\"](#SpecifierEscape).</span><span class="sxs-lookup"><span data-stu-id="07678-310">For more information, see [The "\\" escape character](#SpecifierEscape).</span></span>
  
- <span data-ttu-id="07678-311">Путем заключения всей литеральной строки в апострофы.</span><span class="sxs-lookup"><span data-stu-id="07678-311">By enclosing the entire literal string in quotation apostrophes.</span></span>

<span data-ttu-id="07678-312">В следующем примере применяются оба подхода, что позволяет включить зарезервированные символы в настраиваемую строку числового формата.</span><span class="sxs-lookup"><span data-stu-id="07678-312">The following example uses both approaches to include reserved characters in a custom numeric format string.</span></span>  
  
 [!code-csharp-interactive[including reserved characters](~/samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/literal1.cs#1)]
 [!code-vb[including reserved characters](~/samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/literal1.vb#1)]  
    
<a name="NotesCustomFormatting"></a>   
## <a name="notes"></a><span data-ttu-id="07678-313">Примечания</span><span class="sxs-lookup"><span data-stu-id="07678-313">Notes</span></span>  
  
### <a name="floating-point-infinities-and-nan"></a><span data-ttu-id="07678-314">Бесконечности действительных чисел с плавающей запятой и NaN</span><span class="sxs-lookup"><span data-stu-id="07678-314">Floating-Point infinities and NaN</span></span>  
 <span data-ttu-id="07678-315">Если вне зависимости от строки формата значение типа с плавающей запятой <xref:System.Single> или <xref:System.Double> является положительной бесконечностью, отрицательной бесконечностью или не является числом (NaN), отформатированная строка будет содержать значение соответствующего свойства ( <xref:System.Globalization.NumberFormatInfo.PositiveInfinitySymbol%2A>, <xref:System.Globalization.NumberFormatInfo.NegativeInfinitySymbol%2A>или <xref:System.Globalization.NumberFormatInfo.NaNSymbol%2A> ), применимого в настоящий момент объекта <xref:System.Globalization.NumberFormatInfo> .</span><span class="sxs-lookup"><span data-stu-id="07678-315">Regardless of the format string, if the value of a <xref:System.Single> or <xref:System.Double> floating-point type is positive infinity, negative infinity, or not a number (NaN), the formatted string is the value of the respective <xref:System.Globalization.NumberFormatInfo.PositiveInfinitySymbol%2A>, <xref:System.Globalization.NumberFormatInfo.NegativeInfinitySymbol%2A>, or <xref:System.Globalization.NumberFormatInfo.NaNSymbol%2A> property specified by the currently applicable <xref:System.Globalization.NumberFormatInfo> object.</span></span>  
  
### <a name="control-panel-settings"></a><span data-ttu-id="07678-316">Параметры панели управления</span><span class="sxs-lookup"><span data-stu-id="07678-316">Control Panel settings</span></span>  
 <span data-ttu-id="07678-317">Параметры элемента панели управления **Язык и региональные стандарты** влияют на выходную строку, получаемую в результате операции форматирования.</span><span class="sxs-lookup"><span data-stu-id="07678-317">The settings in the **Regional and Language Options** item in Control Panel influence the result string produced by a formatting operation.</span></span> <span data-ttu-id="07678-318">Эти параметры используются для инициализации объекта <xref:System.Globalization.NumberFormatInfo> , связанного с текущей культурой потока, а текущая культура потока предоставляет значения, которые используются для управления форматированием.</span><span class="sxs-lookup"><span data-stu-id="07678-318">Those settings are used to initialize the <xref:System.Globalization.NumberFormatInfo> object associated with the current thread culture, and the current thread culture provides values used to govern formatting.</span></span> <span data-ttu-id="07678-319">Результирующие строки будут различаться на компьютерах с разными параметрами.</span><span class="sxs-lookup"><span data-stu-id="07678-319">Computers that use different settings generate different result strings.</span></span>  
  
 <span data-ttu-id="07678-320">Кроме того, если конструктор <xref:System.Globalization.CultureInfo.%23ctor%28System.String%29?displayProperty=nameWithType> используется для создания нового экземпляра объекта <xref:System.Globalization.CultureInfo> , представляющего язык и региональные параметры, аналогичные текущему языку и региональным параметрам системы, то все настройки, заданные в разделе **Язык и региональные стандарты** панели управления, будут применяться к новому объекту <xref:System.Globalization.CultureInfo> .</span><span class="sxs-lookup"><span data-stu-id="07678-320">In addition, if you use the <xref:System.Globalization.CultureInfo.%23ctor%28System.String%29?displayProperty=nameWithType> constructor to instantiate a new <xref:System.Globalization.CultureInfo> object that represents the same culture as the current system culture, any customizations established by the **Regional and Language Options** item in Control Panel will be applied to the new <xref:System.Globalization.CultureInfo> object.</span></span> <span data-ttu-id="07678-321">Можно воспользоваться конструктором <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29?displayProperty=nameWithType> для создания объекта <xref:System.Globalization.CultureInfo> , который не отражает настройки системы.</span><span class="sxs-lookup"><span data-stu-id="07678-321">You can use the <xref:System.Globalization.CultureInfo.%23ctor%28System.String%2CSystem.Boolean%29?displayProperty=nameWithType> constructor to create a <xref:System.Globalization.CultureInfo> object that does not reflect a system's customizations.</span></span>  
  
### <a name="rounding-and-fixed-point-format-strings"></a><span data-ttu-id="07678-322">Строки формата с фиксированной запятой и округлением</span><span class="sxs-lookup"><span data-stu-id="07678-322">Rounding and fixed-point format strings</span></span>  
 <span data-ttu-id="07678-323">Строки формата с фиксированной запятой (строки формата, не содержащие символов экспоненциальной нотации) округляют значение с точностью, определяемой количеством символов-заполнителей, стоящих справа от разделителя целой и дробной частей.</span><span class="sxs-lookup"><span data-stu-id="07678-323">For fixed-point format strings (that is, format strings that do not contain scientific notation format characters), numbers are rounded to as many decimal places as there are digit placeholders to the right of the decimal point.</span></span> <span data-ttu-id="07678-324">Если в строке формата нет десятичной точки, то число округляется до ближайшего целого значения.</span><span class="sxs-lookup"><span data-stu-id="07678-324">If the format string does not contain a decimal point, the number is rounded to the nearest integer.</span></span> <span data-ttu-id="07678-325">Если слева от десятичной точки больше цифр, чем знаков-заместителей цифр, то лишние знаки копируются в выходную строку перед первым знаком-заместителем цифры.</span><span class="sxs-lookup"><span data-stu-id="07678-325">If the number has more digits than there are digit placeholders to the left of the decimal point, the extra digits are copied to the result string immediately before the first digit placeholder.</span></span>  
  
 [<span data-ttu-id="07678-326">К таблице</span><span class="sxs-lookup"><span data-stu-id="07678-326">Back to table</span></span>](#table)  
  
<a name="example"></a>   
## <a name="example"></a><span data-ttu-id="07678-327">Пример</span><span class="sxs-lookup"><span data-stu-id="07678-327">Example</span></span>  
 <span data-ttu-id="07678-328">В следующем примере показаны две строки настраиваемого числового формата.</span><span class="sxs-lookup"><span data-stu-id="07678-328">The following example demonstrates two custom numeric format strings.</span></span> <span data-ttu-id="07678-329">В обоих случаях заполнитель для цифр (`#`) отображает числовые данные, а все остальные символы копируются в результирующую строку.</span><span class="sxs-lookup"><span data-stu-id="07678-329">In both cases, the digit placeholder (`#`) displays the numeric data, and all other characters are copied to the result string.</span></span>  
  
 [!code-cpp[Formatting.Numeric.Custom#10](../../../samples/snippets/cpp/VS_Snippets_CLR/formatting.numeric.custom/cpp/example1.cpp#10)]
 [!code-csharp-interactive[Formatting.Numeric.Custom#10](../../../samples/snippets/csharp/VS_Snippets_CLR/formatting.numeric.custom/cs/example1.cs#10)]
 [!code-vb[Formatting.Numeric.Custom#10](../../../samples/snippets/visualbasic/VS_Snippets_CLR/formatting.numeric.custom/vb/example1.vb#10)]  
  
 [<span data-ttu-id="07678-330">К таблице</span><span class="sxs-lookup"><span data-stu-id="07678-330">Back to table</span></span>](#table)  
  
## <a name="see-also"></a><span data-ttu-id="07678-331">См. также</span><span class="sxs-lookup"><span data-stu-id="07678-331">See also</span></span>

- <xref:System.Globalization.NumberFormatInfo?displayProperty=nameWithType>
- [<span data-ttu-id="07678-332">Типы форматирования</span><span class="sxs-lookup"><span data-stu-id="07678-332">Formatting Types</span></span>](../../../docs/standard/base-types/formatting-types.md)
- [<span data-ttu-id="07678-333">Standard Numeric Format Strings</span><span class="sxs-lookup"><span data-stu-id="07678-333">Standard Numeric Format Strings</span></span>](../../../docs/standard/base-types/standard-numeric-format-strings.md)
- [<span data-ttu-id="07678-334">Практическое руководство. Добавление к числу начальных нулей</span><span class="sxs-lookup"><span data-stu-id="07678-334">How to: Pad a Number with Leading Zeros</span></span>](../../../docs/standard/base-types/how-to-pad-a-number-with-leading-zeros.md)
- [<span data-ttu-id="07678-335">Пример. Служебная программа форматирования .NET Framework 4</span><span class="sxs-lookup"><span data-stu-id="07678-335">Sample: .NET Framework 4 Formatting Utility</span></span>](https://code.msdn.microsoft.com/NET-Framework-4-Formatting-9c4dae8d)
