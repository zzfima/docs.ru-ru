---
title: Библиотеки классов .NET
description: Сведения о том, как библиотеки классов .NET позволяют помещать полезные функции в модули, которые могут использоваться разными приложениями.
author: richlander
ms.date: 06/20/2016
ms.technology: dotnet-standard
ms.assetid: a67484c3-fe92-44d8-8fa3-36fa2071d880
ms.openlocfilehash: b7934e5def202760ab05d363ee5fcda5d012ca72
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2020
ms.locfileid: "77124589"
---
# <a name="net-class-libraries"></a><span data-ttu-id="3cb02-103">Библиотеки классов .NET</span><span class="sxs-lookup"><span data-stu-id="3cb02-103">.NET class libraries</span></span>

<span data-ttu-id="3cb02-104">Библиотеки классов воплощают понятие [общей библиотеки](https://en.wikipedia.org/wiki/Library_%28computing%29#Shared_libraries) в .NET.</span><span class="sxs-lookup"><span data-stu-id="3cb02-104">Class libraries are the [shared library](https://en.wikipedia.org/wiki/Library_%28computing%29#Shared_libraries) concept for .NET.</span></span> <span data-ttu-id="3cb02-105">Они позволяют помещать полезные функции в модули, которые могут использоваться разными приложениями.</span><span class="sxs-lookup"><span data-stu-id="3cb02-105">They enable you to componentize useful functionality into modules that can be used by multiple applications.</span></span> <span data-ttu-id="3cb02-106">Они также могут использоваться для подключения функций, которые не были нужны или не были известны во время запуска приложения.</span><span class="sxs-lookup"><span data-stu-id="3cb02-106">They can also be used as a means of loading functionality that is not needed or not known at application startup.</span></span> <span data-ttu-id="3cb02-107">Библиотеки классов описываются в [формате файла сборки .NET](assembly/file-format.md).</span><span class="sxs-lookup"><span data-stu-id="3cb02-107">Class libraries are described using the [.NET Assembly file format](assembly/file-format.md).</span></span>

<span data-ttu-id="3cb02-108">Существует три доступных для использования типа библиотек классов:</span><span class="sxs-lookup"><span data-stu-id="3cb02-108">There are three types of class libraries that you can use:</span></span>

* <span data-ttu-id="3cb02-109">**Специфические для платформы** библиотеки классов имеют доступ ко всем API данной платформы (например, .NET Framework, Xamarin iOS), но могут использоваться только приложениями и библиотеками, предназначенными для этой платформы.</span><span class="sxs-lookup"><span data-stu-id="3cb02-109">**Platform-specific** class libraries have access to all the APIs in a given platform (for example, .NET Framework, Xamarin iOS), but can only be used by apps and libraries that target that platform.</span></span>
* <span data-ttu-id="3cb02-110">**Переносимые** библиотеки классов имеют доступ к подмножеству API и могут использоваться приложениями и библиотеками, предназначенными для нескольких платформ.</span><span class="sxs-lookup"><span data-stu-id="3cb02-110">**Portable** class libraries have access to a subset of APIs, and can be used by apps and libraries that target multiple platforms.</span></span>
* <span data-ttu-id="3cb02-111">Библиотеки классов **.NET Standard** являются объединением специфических для платформы и переносимых библиотек и сочетают лучшие характеристики обоих типов.</span><span class="sxs-lookup"><span data-stu-id="3cb02-111">**.NET Standard** class libraries are a merger of the platform-specific and portable library concept into a single model that provides the best of both.</span></span>

## <a name="platform-specific-class-libraries"></a><span data-ttu-id="3cb02-112">Специфические для платформы библиотеки классов</span><span class="sxs-lookup"><span data-stu-id="3cb02-112">Platform-specific class libraries</span></span>

<span data-ttu-id="3cb02-113">Специфические для платформы библиотеки привязаны к одной реализации .NET (например, .NET Framework в Windows) и поэтому могут иметь множество зависимостей в конкретной среде выполнения.</span><span class="sxs-lookup"><span data-stu-id="3cb02-113">Platform-specific libraries are bound to a single .NET implementation (for example, .NET Framework on Windows) and can therefore take significant dependencies on a known execution environment.</span></span> <span data-ttu-id="3cb02-114">Такая среда предоставляет известный набор API (API-интерфейсы .NET и ОС), а также поддерживает и предоставляет данные о состоянии (например, реестр Windows).</span><span class="sxs-lookup"><span data-stu-id="3cb02-114">Such an environment will expose a known set of APIs (.NET and OS APIs) and will maintain and expose expected state (for example, Windows registry).</span></span>

<span data-ttu-id="3cb02-115">Разработчики, создающие специфические для платформы библиотеки, могут в полной мере использовать базовую платформу.</span><span class="sxs-lookup"><span data-stu-id="3cb02-115">Developers who create platform specific libraries can fully exploit the underlying platform.</span></span> <span data-ttu-id="3cb02-116">При этом такие библиотеки будут работать только на данной платформе, что делает необязательной проверку платформы или другие виды условного кода (нет единого исходного кода для нескольких платформ).</span><span class="sxs-lookup"><span data-stu-id="3cb02-116">The libraries will only ever run on that given platform, making platform checks or other forms of conditional code unnecessary (modulo single sourcing code for multiple platforms).</span></span>

<span data-ttu-id="3cb02-117">Специфические для платформы библиотеки были основным типом библиотек классов в платформе .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3cb02-117">Platform-specific libraries have been the primary class library type for the .NET Framework.</span></span> <span data-ttu-id="3cb02-118">Даже после появления других реализаций .NET специфические для платформы библиотеки остались доминирующим типом библиотек.</span><span class="sxs-lookup"><span data-stu-id="3cb02-118">Even as other .NET implementations emerged, platform-specific libraries remained the dominant library type.</span></span>

## <a name="portable-class-libraries"></a><span data-ttu-id="3cb02-119">Переносимые библиотеки классов</span><span class="sxs-lookup"><span data-stu-id="3cb02-119">Portable class libraries</span></span>

<span data-ttu-id="3cb02-120">Переносимые библиотеки поддерживаются в нескольких реализациях .NET.</span><span class="sxs-lookup"><span data-stu-id="3cb02-120">Portable libraries are supported on multiple .NET implementations.</span></span> <span data-ttu-id="3cb02-121">Они по-прежнему могут иметь зависимости в известной среде выполнения, но такая среда является искусственной и представляет собой пересечение ряда конкретных реализаций .NET.</span><span class="sxs-lookup"><span data-stu-id="3cb02-121">They can still take dependencies on a known execution environment, however, the environment is a synthetic one that is generated by the intersection of a set of concrete .NET implementations.</span></span> <span data-ttu-id="3cb02-122">Это означает, что предоставляемые API и платформенные допущения являются подмножеством того, что было бы доступно для специфической для платформы библиотеки.</span><span class="sxs-lookup"><span data-stu-id="3cb02-122">This means that exposed APIs and platform assumptions are a subset of what would be available to a platform-specific library.</span></span>

<span data-ttu-id="3cb02-123">Конфигурация платформы выбирается при создании переносимой библиотеки.</span><span class="sxs-lookup"><span data-stu-id="3cb02-123">You choose a platform configuration when you create a portable library.</span></span> <span data-ttu-id="3cb02-124">Существует набор платформ, которые нужно поддерживать (например, .NET Framework 4.5+, Windows Phone 8.0+).</span><span class="sxs-lookup"><span data-stu-id="3cb02-124">These are the set of platforms that you need to support (for example, .NET Framework 4.5+, Windows Phone 8.0+).</span></span> <span data-ttu-id="3cb02-125">Чем больше платформ вы решите поддерживать, тем меньше будет доступно API и платформенных допущений. Здесь действует принцип наименьшего общего знаменателя.</span><span class="sxs-lookup"><span data-stu-id="3cb02-125">The more platforms you opt to support, the fewer APIs and fewer platform assumptions you can make, the lowest common denominator.</span></span> <span data-ttu-id="3cb02-126">На первый взгляд это может вводить в замешательство, так как люди часто думают, что "чем больше, тем лучше", но обнаруживается, что большее количество поддерживаемых платформ приводит к меньшему числу доступных API.</span><span class="sxs-lookup"><span data-stu-id="3cb02-126">This characteristic can be confusing at first, since people often think "more is better", but find that more supported platforms results in fewer available APIs.</span></span>

<span data-ttu-id="3cb02-127">Многие разработчики библиотек перешли с создания нескольких специфических для платформы библиотек для одного исходного кода (с использованием директив условной компиляции) на переносимые библиотеки.</span><span class="sxs-lookup"><span data-stu-id="3cb02-127">Many library developers have switched from producing multiple platform-specific libraries from one source (using conditional compilation directives) to portable libraries.</span></span> <span data-ttu-id="3cb02-128">Существует [несколько подходов](https://blog.stephencleary.com/2012/11/portable-class-library-enlightenment.html) для доступа к функциям конкретной платформы в переносимых библиотеках, но на текущий момент наиболее распространенным методом является механизм [заманить и подменить](https://log.paulbetts.org/the-bait-and-switch-pcl-trick/).</span><span class="sxs-lookup"><span data-stu-id="3cb02-128">There are [several approaches](https://blog.stephencleary.com/2012/11/portable-class-library-enlightenment.html) for accessing platform-specific functionality within portable libraries, with [bait-and-switch](https://log.paulbetts.org/the-bait-and-switch-pcl-trick/) being the most widely accepted technique at this point.</span></span>

## <a name="net-standard-class-libraries"></a><span data-ttu-id="3cb02-129">библиотеки классов .NET Standard;</span><span class="sxs-lookup"><span data-stu-id="3cb02-129">.NET Standard class libraries</span></span>

<span data-ttu-id="3cb02-130">Библиотеки .NET Standard заменяют концепции специфических для платформы и переносимых библиотек.</span><span class="sxs-lookup"><span data-stu-id="3cb02-130">.NET Standard libraries are a replacement of the platform-specific and portable libraries concepts.</span></span> <span data-ttu-id="3cb02-131">Они являются специфичными для платформы в том смысле, что они предоставляют все функциональные возможности базовой платформы (без искусственных платформ или пересечений платформ).</span><span class="sxs-lookup"><span data-stu-id="3cb02-131">They are platform-specific in the sense that they expose all functionality from the underlying platform (no synthetic platforms or platform intersections).</span></span> <span data-ttu-id="3cb02-132">Они являются переносимыми в том смысле, что они работают на всех поддерживаемых платформах.</span><span class="sxs-lookup"><span data-stu-id="3cb02-132">They are portable in the sense that they work on all supporting platforms.</span></span>

<span data-ttu-id="3cb02-133">.NET Standard предоставляет набор библиотечных _контрактов_.</span><span class="sxs-lookup"><span data-stu-id="3cb02-133">The .NET Standard exposes a set of library _contracts_.</span></span> <span data-ttu-id="3cb02-134">Реализации .NET должны поддерживать каждый контракт полностью или не поддерживать вообще.</span><span class="sxs-lookup"><span data-stu-id="3cb02-134">.NET implementations must support each contract fully or not at all.</span></span> <span data-ttu-id="3cb02-135">Таким образом, каждая реализация поддерживает набор стандартных .NET контрактов.</span><span class="sxs-lookup"><span data-stu-id="3cb02-135">Each implementation, therefore, supports a set of .NET Standard contracts.</span></span> <span data-ttu-id="3cb02-136">Следствием из этого является то, что каждая библиотека классов .NET Standard поддерживается на платформах, которые поддерживают ее контрактные зависимости.</span><span class="sxs-lookup"><span data-stu-id="3cb02-136">The corollary is that each .NET Standard class library is supported on the platforms that support its contract dependencies.</span></span>

<span data-ttu-id="3cb02-137">Контракты .NET Standard не предоставляют все функции платформы .NET Framework (и это не является целью), но они предоставляют намного больше API, чем переносимые библиотеки классов.</span><span class="sxs-lookup"><span data-stu-id="3cb02-137">The .NET Standard does not expose the entire functionality of the .NET Framework (nor is that a goal), however, they do expose many more APIs than Portable Class Libraries.</span></span> <span data-ttu-id="3cb02-138">Со временем будут добавлены дополнительные API.</span><span class="sxs-lookup"><span data-stu-id="3cb02-138">More APIs will be added over time.</span></span>

<span data-ttu-id="3cb02-139">Библиотеки .NET Standard поддерживаются в следующих платформах.</span><span class="sxs-lookup"><span data-stu-id="3cb02-139">The following platforms support .NET Standard libraries:</span></span>

* <span data-ttu-id="3cb02-140">.NET Core</span><span class="sxs-lookup"><span data-stu-id="3cb02-140">.NET Core</span></span>
* <span data-ttu-id="3cb02-141">.NET Framework</span><span class="sxs-lookup"><span data-stu-id="3cb02-141">.NET Framework</span></span>
* <span data-ttu-id="3cb02-142">Mono</span><span class="sxs-lookup"><span data-stu-id="3cb02-142">Mono</span></span>
* <span data-ttu-id="3cb02-143">Xamarin.iOS, Xamarin.Mac, Xamarin.Android</span><span class="sxs-lookup"><span data-stu-id="3cb02-143">Xamarin.iOS, Xamarin.Mac, Xamarin.Android</span></span>
* <span data-ttu-id="3cb02-144">Универсальная платформа Windows (UWP)</span><span class="sxs-lookup"><span data-stu-id="3cb02-144">Universal Windows Platform (UWP)</span></span>
* <span data-ttu-id="3cb02-145">Windows</span><span class="sxs-lookup"><span data-stu-id="3cb02-145">Windows</span></span>
* <span data-ttu-id="3cb02-146">Windows Phone</span><span class="sxs-lookup"><span data-stu-id="3cb02-146">Windows Phone</span></span>
* <span data-ttu-id="3cb02-147">Windows Phone Silverlight</span><span class="sxs-lookup"><span data-stu-id="3cb02-147">Windows Phone Silverlight</span></span>

<span data-ttu-id="3cb02-148">Дополнительные сведения см. в разделе [.NET Standard](net-standard.md).</span><span class="sxs-lookup"><span data-stu-id="3cb02-148">For more information, see the [.NET Standard](net-standard.md) topic.</span></span>

## <a name="mono-class-libraries"></a><span data-ttu-id="3cb02-149">Библиотеки классов Mono</span><span class="sxs-lookup"><span data-stu-id="3cb02-149">Mono class libraries</span></span>

<span data-ttu-id="3cb02-150">Библиотеки классов поддерживаются в Mono, включая три типа библиотек, описанных выше.</span><span class="sxs-lookup"><span data-stu-id="3cb02-150">Class libraries are supported on Mono, including the three types of libraries described above.</span></span> <span data-ttu-id="3cb02-151">Mono часто рассматривалась (обоснованно) как кроссплатформенная реализация платформы Microsoft .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="3cb02-151">Mono has often been seen (correctly) as a cross-platform implementation of the Microsoft .NET Framework.</span></span> <span data-ttu-id="3cb02-152">В частности, это было обусловлено тем, что специфические для платформы библиотеки .NET Framework могли запускаться в среде выполнения Mono без изменения или перекомпиляции.</span><span class="sxs-lookup"><span data-stu-id="3cb02-152">In part, this was because platform-specific .NET Framework libraries could run on the Mono runtime without modification or recompilation.</span></span> <span data-ttu-id="3cb02-153">Эта особенность имелась до создания переносимых библиотек классов, поэтому было очевидным решением реализовать переносимость двоичного кода между .NET Framework и Mono (несмотря на то, что она работает только в одном направлении).</span><span class="sxs-lookup"><span data-stu-id="3cb02-153">This characteristic was in place before the creation of portable class libraries, so was an obvious choice to enable binary portability between the .NET Framework and Mono (although it only worked in one direction).</span></span>
