---
title: Модель объектов XML-документов (DOM)
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: b5e52844-4820-47c0-a61d-de2da33e9f54
ms.openlocfilehash: 4faa481a6331863112b7dba65bdbccb69cd12b7d
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2020
ms.locfileid: "75709963"
---
# <a name="xml-document-object-model-dom"></a>Модель объектов XML-документов (DOM)

Класс XML DOM является представлением XML-документа в памяти. Модель DOM позволяет читать, обрабатывать и изменять XML-документ программным образом. Класс **XmlReader** также читает XML, но предоставляет только последовательный доступ для чтения без поддержки кэширования. Это значит, что **XmlReader** не позволит изменять значения атрибутов или содержимое элемента, а также вставлять и удалять узлы. Изменение - основная функция модели DOM. Это стандартизованный, структурированный способ представления XML-данных в памяти, хотя на самом деле данные XML хранятся в файлах и пересылаются из других объектов в строковом виде. Далее приведен пример XML-данных.

## <a name="input"></a>Input

```xml
<?xml version="1.0"?>
  <books>
    <book>
        <author>Carson</author>
        <price format="dollar">31.95</price>
        <pubdate>05/01/2001</pubdate>
    </book>
    <pubinfo>
        <publisher>MSPress</publisher>
        <state>WA</state>
    </pubinfo>
  </books>
```

Далее показано, какая структура будет создана в памяти, когда эти XML-данные считываются в модель структуры DOM.

![Структура XML-документа](../../../../docs/standard/data/xml/media/xml-to-domtree.gif "XML_To_DOMTree") Структура XML-документа

Каждый круг на этой иллюстрации представляет собой узел в структуре XML-документа, называемый объектом **XmlNode**. Объект **XmlNode** является базовым объектом дерева DOM. Класс **XmlDocument**, расширяющий класс **XmlNode**, поддерживает методы для операций над документом в целом (например, для загрузки его в память или сохранения XML в файл). Кроме того, **XmlDocument** предоставляет возможности для просмотра узлов всего XML-документа и выполнения операций над ними. И **XmlNode**, и **XmlDocument** обладают улучшенной производительностью, расширенной функциональностью и содержат методы и свойства, которые позволяют следующее.

- Получать доступ к DOM-специфичным узлам, например к узлам элементов, узлам ссылок на сущности и т. п., и изменять эти узлы.

- Получать целые узлы помимо содержащейся в них информации, например текста в узле элемента.

  > [!NOTE]
  > Для приложений, которым не требуется структуризация или изменение, предоставляемые моделью DOM, классы **XmlReader** и **XmlWriter** обеспечат последовательный потоковый доступ к XML без поддержки кэширования. Дополнительные сведения см. в разделах <xref:System.Xml.XmlReader> и <xref:System.Xml.XmlWriter>.

Объекты **Node** обладают набором методов и свойств, а также хорошо определенных базовых характеристик. Вот некоторые из этих характеристик:

- У каждого узла есть один родительский узел, то есть узел, находящийся непосредственно над данным. Единственный узел, не имеющий родителя - корневой узел документа, так как это узел верхнего уровня, содержащий сам документ и его фрагменты.

- У большинства узлов может быть несколько дочерних узлов, то есть узлов, расположенных непосредственно под ними. Далее следует список типов узлов, которые могут иметь дочерние узлы:

  - **Document**

  - **DocumentFragment**

  - **EntityReference**

  - **Элемент**

  - **Атрибут**

  Узлы **XmlDeclaration**, **Notation**, **Entity**, **CDATASection**, **Text**, **Comment**, **ProcessingInstruction** и **DocumentType** не могут иметь дочерних узлов.

- Узлы, находящиеся на одном уровне наследования, например узлы **book** и **pubinfo** на нашей схеме, называются одноуровневыми.

Одна из характеристик модели DOM - способ обработки атрибутов. Атрибуты не являются узлами, состоящими в родительских, дочерних и одноуровневых связях. Атрибуты считаются собственностью узла элемента и представляют собой пару «имя-значение». Например, если XML-данные представляют собой конструкцию `format="dollar`, связанную с элементом `price`, слово `format` является именем атрибута, а значением атрибута `format` является `dollar`. Чтобы получить атрибут `format="dollar"` узла **price**, воспользуйтесь методом **GetAttribute**, когда курсор расположен в узле элемента `price`. Дополнительные сведения см. в статье [Доступ к атрибутам в модели DOM](../../../../docs/standard/data/xml/accessing-attributes-in-the-dom.md).

По мере считывания XML-документа в память создаются узлы. Узлы бывают разных типов. Правила и синтаксис XML-элемента отличаются от правил и синтаксиса инструкции по обработке. Поэтому по мере считывания разнообразных данных каждому узлу присваивается тип. Тип узла определяет его характеристики и функциональность.

Дополнительные сведения о типах узлов, создаваемых в памяти, см. в статье [Типы XML-узлов](../../../../docs/standard/data/xml/types-of-xml-nodes.md). Дополнительные сведения об объектах, создаваемых в дереве узлов, см. в статье [Сопоставление объектной иерархии с XML-данными](../../../../docs/standard/data/xml/mapping-the-object-hierarchy-to-xml-data.md).

Корпорация Майкрософт расширила API-интерфейсы, доступные в DOM уровней 1 и 2 W3C, чтобы облегчить работу с XML-документами. Дополнительные классы, методы и свойства полностью совместимы со стандартами W3C и добавляют дополнительную функциональность по сравнению с возможностями W3C XML DOM. Новые классы позволяют получить доступ к реляционным данным, предоставляют методы синхронизации с данными ADO.NET, одновременно делая эти данные доступными в виде XML. Дополнительные сведения см. в статье [о синхронизации DataSet с XmlDataDocument](../../../../docs/framework/data/adonet/dataset-datatable-dataview/dataset-and-xmldatadocument-synchronization.md).

Модель DOM чрезвычайно полезна для считывания XML-данных в память, изменения их структуры, добавления и удаления узлов, изменения данных, принадлежащих узлу (например, текста, содержащегося в документе). Однако существуют и другие классы, которые в некоторых ситуациях работают быстрее модели DOM. Классы **XmlReader** и **XmlWriter** предоставляют быстрый последовательный потоковый доступ к XML без поддержки кэширования. Если вам нужен произвольный доступ с моделью курсора и **XPath**, используйте класс **XPathNavigator**.

## <a name="see-also"></a>См. также:

- [Типы XML-узлов](../../../../docs/standard/data/xml/types-of-xml-nodes.md)
- [Сопоставление объектной иерархии с XML-данными](../../../../docs/standard/data/xml/mapping-the-object-hierarchy-to-xml-data.md)
