---
title: Разворачиваемые и не сохраняемые ссылки на сущности
ms.date: 03/30/2017
ms.technology: dotnet-standard
ms.assetid: ffd97806-ab43-4538-8de2-5828bfbbde57
ms.openlocfilehash: ae3db77d7659b7e1d36a9bccf7143f52c536dbbf
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2020
ms.locfileid: "75710938"
---
# <a name="entity-references-are-expanded-and-not-preserved"></a>Разворачиваемые и не сохраняемые ссылки на сущности
Если ссылка на сущность разворачивается и заменяется текстом, который она представляет, узел **XmlEntityReference** не создается. Вместо этого выполняется синтаксический анализ для декларации сущности и на место **XmlEntityReference** копируются узлы, созданные из содержимого этой декларации. Таким образом, в примере `&publisher;` ссылка `&publisher;` не сохраняется, а вместо нее создается узел **XmlText**.  
  
 ![развернутая древовидная структура](../../../../docs/standard/data/xml/media/xmlentityref-expanded-nodes.gif "xmlentityref_expanded_nodes")  
Древовидная структура для разворачиваемых ссылок на сущности  
  
 Сущности-символы, такие как `B` и `<`, не сохраняются. Вместо этого они всегда разворачиваются и представляются в виде текстовых узлов.  
  
 Чтобы сохранить узлы **XmlEntityReference** и дочерние узлы в присоединенной у ней ссылке на сущности, установите флаг **EntityHandling** в значение **ExpandCharEntities**. В противном случае оставьте для флага **EntityHandling** значение по умолчанию - **ExpandEntities**. В этом случае узлы ссылок на сущности не будут отображаться в модели DOM. Эти узлы замещаются узлами-копиями дочерних узлов декларации сущности.  
  
 Один побочный эффект от несохранения ссылок на сущности состоит в том, что после сохранения документа и передачи его в другое приложение этому приложению будет неизвестно, что узлы были порождены ссылкой на сущность. Если же ссылки на сущности сохраняются, то принимающее приложение, обнаружив ссылку на сущность, считает ее дочерние узлы. Очевидно, что дочерние узлы представляют данные, находившиеся в декларации сущности. Например, модель DOM в случае сохранения ссылок на сущности теоретически имела бы следующую структуру.  
  
 XmlElement: publisher  
  
 XmlEntityReference: `&publisher;`  
  
 XmlText: Microsoft Press  
  
 Если ссылки на сущности разворачиваются в модели DOM (метод по умолчанию), древовидная структура имеет следующий вид:  
  
 XmlElement: publisher  
  
 XmlText: Microsoft Press  
  
 Обратите внимание, что ссылка на сущность отсутствует и принимающее приложение не может определить, что узел **XmlText** со значением "Microsoft Press" был создан из декларации сущности.  
  
 Если используется модуль чтения, который не умеет разрешать сущности, метод **Load** создает исключение, когда обнаруживает ссылку на сущность.  
  
## <a name="see-also"></a>См. также:

- [Модель объектов документов XML (DOM)](../../../../docs/standard/data/xml/xml-document-object-model-dom.md)
