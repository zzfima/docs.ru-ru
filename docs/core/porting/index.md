---
title: Перенос кода в .NET Core из .NET Framework
description: Общие сведения о процессе переноса и инструментах, которые могут оказаться полезными при переносе проектов .NET Framework в .NET Core.
author: cartermp
ms.date: 12/04/2018
ms.custom: seodec18
ms.openlocfilehash: e29750340cf272c2e05287482bcbeca703d8720a
ms.sourcegitcommit: 14355b4b2fe5bcf874cac96d0a9e6376b567e4c7
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/30/2019
ms.locfileid: "55266576"
---
# <a name="port-your-code-from-net-framework-to-net-core"></a>Перенос кода в .NET Core из .NET Framework

Если у вас есть код, выполняющийся в .NET Framework, возможно, вам будет интересно запустить его и в .NET Core. В этой статье приводятся общие сведения о процессе переноса и перечислены средства, которые могут оказаться полезными при переносе кода в .NET Core.

## <a name="overview-of-the-porting-process"></a>Общие сведения о переносе

Этот процесс мы рекомендуем для переноса проекта в .NET Core. Каждый из этапов более подробно рассматривается в последующих статьях.

1. Определите и проанализируйте зависимости сторонних разработчиков.

   Вам нужно узнать, какие зависимости сторонних разработчиков доступны, как они используются, как проверить, можно ли использовать их в .NET Core, и что нужно сделать, если нет. В статье также описано, как вы можете преобразовать зависимости в формат [PackageReference](/nuget/consume-packages/package-references-in-project-files), используемый в .NET Core.

2. Переопределите все проекты для переноса в .NET Framework версии 4.7.2 и выше.

   Так вы сможете использовать альтернативные API для целевых платформ .NET Framework в случае, если платформа .NET Core не поддерживает определенный API.

3. Используйте средство [Анализатор переносимости .NET](../../standard/analyzers/portability-analyzer.md) для анализа сборок и разработки плана переноса на основе полученных результатов.

   Анализатор переносимости API анализирует скомпилированные сборки и создает отчет, в котором приводятся обобщенные сведения о переносимости, а также информация с разбивкой по каждому используемому API, который недоступен в .NET Core. Этот отчет можно использовать вместе с результатами анализа базы кода для составления плана переноса кода.

4. Перенести код тестов.

   Так как перенос в .NET Core является важным изменением базы кода, мы настоятельно рекомендуем перенести тесты, чтобы можно было выполнять их при переносе кода. .NET Core поддерживают все основные платформы: MSTest, xUnit и NUnit.

5. Выполните план переноса.

## <a name="tools-to-help"></a>Полезные средства

Ниже перечислены средства, которые могут оказаться полезными при переносе.

* Анализатор переносимости API — [программа командной строки](https://github.com/Microsoft/dotnet-apiport/releases) или [расширение для Visual Studio Extension](https://marketplace.visualstudio.com/items?itemName=ConnieYau.NETPortabilityAnalyzer) — цепочка инструментов для создания отчетов о переносимости кода между .NET Framework и .NET Core с разбивкой проблем по сборкам. См. дополнительные сведения об [анализаторе переносимости .NET](../../standard/analyzers/portability-analyzer.md).
* Анализатор API .NET на основе Roslyn выявляет риски совместимости для API на языке C# на разных платформах, а также отслеживает вызовы устаревших API. См. дополнительные сведения об [анализаторе API .NET](../../standard/analyzers/api-analyzer.md).
* Reverse Package Search — [полезная веб-служба](https://packagesearch.azurewebsites.net), которая позволяет выполнять поиск типа и находить пакеты, содержащие его.

Кроме того, можно попытаться перенести более мелкие решения или отдельные проекты в формат файла проекта .NET Core с помощью средства [CsprojToVs2017](https://github.com/hvanbakel/CsprojToVs2017).

> [!WARNING] 
> CsprojToVs2017 — это стороннее средство. Нет никакой гарантии, что оно будет поддерживать все проекты. Кроме того, оно может вызвать незначительные изменения в ожидаемом поведении. CsprojToVs2017 следует использовать в качестве _начальной точки_, которая автоматизирует соответствующие основные процессы. Это решение не может гарантировать перенос форматов файлов проекта.

>[!div class="step-by-step"]
>[Вперед](third-party-deps.md)
