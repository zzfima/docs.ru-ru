---
title: Введение в Docker
description: Эта статья содержит общие сведения об использовании Docker в контексте приложения .NET Core.
ms.date: 03/20/2019
ms.custom: mvc
ms.openlocfilehash: 278c921de83282d61b25f4d44e91535981285e83
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2020
ms.locfileid: "75715552"
---
# <a name="introduction-to-net-and-docker"></a><span data-ttu-id="a4c96-103">Введение в .NET и Docker</span><span class="sxs-lookup"><span data-stu-id="a4c96-103">Introduction to .NET and Docker</span></span>

<span data-ttu-id="a4c96-104">Приложения .NET Core можно легко выполнять в контейнере Docker.</span><span class="sxs-lookup"><span data-stu-id="a4c96-104">.NET Core can easily run in a Docker container.</span></span> <span data-ttu-id="a4c96-105">Контейнеры обеспечивают простой способ изоляции приложения от остальной части основной системы, совместного использования ядра и использования ресурсов, которые передаются в это приложение.</span><span class="sxs-lookup"><span data-stu-id="a4c96-105">Containers provide a lightweight way to isolate your application from the rest of the host system, sharing just the kernel, and using resources given to your application.</span></span> <span data-ttu-id="a4c96-106">Если вы не знакомы с Docker, настоятельно рекомендуем ознакомиться с [обзорной документацией](https://docs.docker.com/engine/docker-overview/) по Docker.</span><span class="sxs-lookup"><span data-stu-id="a4c96-106">If you're unfamiliar with Docker, it's highly recommended that you read through Docker's [overview documentation](https://docs.docker.com/engine/docker-overview/).</span></span>

<span data-ttu-id="a4c96-107">Дополнительные сведения об установке Docker см. на странице загрузки для версии [Docker Desktop: Community Edition](https://www.docker.com/products/docker-desktop).</span><span class="sxs-lookup"><span data-stu-id="a4c96-107">For more information about how to install Docker, see the download page for [Docker Desktop: Community Edition](https://www.docker.com/products/docker-desktop).</span></span>

## <a name="docker-basics"></a><span data-ttu-id="a4c96-108">Основные сведения о Docker</span><span class="sxs-lookup"><span data-stu-id="a4c96-108">Docker basics</span></span>

<span data-ttu-id="a4c96-109">Существует несколько понятий, с которыми вам следует ознакомиться.</span><span class="sxs-lookup"><span data-stu-id="a4c96-109">There are a few concepts you should be familiar with.</span></span> <span data-ttu-id="a4c96-110">Клиент Docker содержит программу с интерфейсом командной строки, используемую для управления образами и контейнерами.</span><span class="sxs-lookup"><span data-stu-id="a4c96-110">The Docker client has a command line interface program you use to manage images and containers.</span></span> <span data-ttu-id="a4c96-111">Как озвучивалось ранее, вам следует выделить время на ознакомление с [Обзорной документацией по Docker](https://docs.docker.com/engine/docker-overview/).</span><span class="sxs-lookup"><span data-stu-id="a4c96-111">As previously stated, you should take the time to read through the [Docker overview](https://docs.docker.com/engine/docker-overview/) documentation.</span></span> 

### <a name="images"></a><span data-ttu-id="a4c96-112">Образы</span><span class="sxs-lookup"><span data-stu-id="a4c96-112">Images</span></span>

<span data-ttu-id="a4c96-113">Образ — это упорядоченная коллекция изменений файловой системы, которые формируют основу контейнера.</span><span class="sxs-lookup"><span data-stu-id="a4c96-113">An image is an ordered collection of filesystem changes that form the basis of a container.</span></span> <span data-ttu-id="a4c96-114">Образ не имеет состояния и доступен только для чтения.</span><span class="sxs-lookup"><span data-stu-id="a4c96-114">The image doesn't have a state and is read-only.</span></span> <span data-ttu-id="a4c96-115">Чаще всего образ основан на другом образе, но с определенными модификациями.</span><span class="sxs-lookup"><span data-stu-id="a4c96-115">Much the time an image is based on another image, but with some customization.</span></span> <span data-ttu-id="a4c96-116">Например, при создании нового образа для своего приложения вы можете взять за основу существующий образ, который уже содержит среду выполнения .NET Core.</span><span class="sxs-lookup"><span data-stu-id="a4c96-116">For example, when you create an new image for your application, you would base it on an existing image that already contains the .NET Core runtime.</span></span>

<span data-ttu-id="a4c96-117">Так как контейнеры создаются на основе образов, образы содержат набор параметров выполнения (например, начальный исполняемый файл), которые выполняются при запуске контейнера.</span><span class="sxs-lookup"><span data-stu-id="a4c96-117">Because containers are created from images, images have a set of run parameters (such as a starting executable) that run when the container starts.</span></span>

### <a name="containers"></a><span data-ttu-id="a4c96-118">Контейнеры</span><span class="sxs-lookup"><span data-stu-id="a4c96-118">Containers</span></span>

<span data-ttu-id="a4c96-119">Контейнер — исполняемый экземпляр образа.</span><span class="sxs-lookup"><span data-stu-id="a4c96-119">A container is a runnable instance of an image.</span></span> <span data-ttu-id="a4c96-120">При создании образа происходит развертывание приложения и зависимостей.</span><span class="sxs-lookup"><span data-stu-id="a4c96-120">As you build your image, you deploy your application and dependencies.</span></span> <span data-ttu-id="a4c96-121">Затем можно создать несколько изолированных друг от друга контейнеров.</span><span class="sxs-lookup"><span data-stu-id="a4c96-121">Then, multiple containers can be instantiated, each isolated from one another.</span></span> <span data-ttu-id="a4c96-122">Каждый экземпляр контейнера имеет собственную файловую систему, память и сетевой интерфейс.</span><span class="sxs-lookup"><span data-stu-id="a4c96-122">Each container instance has its own filesystem, memory, and network interface.</span></span>

### <a name="registries"></a><span data-ttu-id="a4c96-123">Реестры</span><span class="sxs-lookup"><span data-stu-id="a4c96-123">Registries</span></span>

<span data-ttu-id="a4c96-124">Реестры контейнеров — это коллекции из репозиториев образов.</span><span class="sxs-lookup"><span data-stu-id="a4c96-124">Container registries are a collection of image repositories.</span></span> <span data-ttu-id="a4c96-125">Образ может быть основан на образе из реестра.</span><span class="sxs-lookup"><span data-stu-id="a4c96-125">You can base your images on a registry image.</span></span> <span data-ttu-id="a4c96-126">Контейнеры можно создавать непосредственно из образа в реестре.</span><span class="sxs-lookup"><span data-stu-id="a4c96-126">You can create containers directly from an image in a registry.</span></span> <span data-ttu-id="a4c96-127">[Связь между контейнерами, образами и реестрами Docker](../../architecture/microservices/container-docker-introduction/docker-containers-images-registries.md) — это важный элемент в [разработке архитектуры и создании контейнерных приложений или микрослужб](../../architecture/microservices/architect-microservice-container-applications/index.md).</span><span class="sxs-lookup"><span data-stu-id="a4c96-127">The [relationship between Docker containers, images, and registries](../../architecture/microservices/container-docker-introduction/docker-containers-images-registries.md) is an important concept when [architecting and building containerized applications or microservices](../../architecture/microservices/architect-microservice-container-applications/index.md).</span></span> <span data-ttu-id="a4c96-128">Этой подход значительно сокращает время между разработкой и развертыванием.</span><span class="sxs-lookup"><span data-stu-id="a4c96-128">This approach greatly shortens the time between development and deployment.</span></span>

<span data-ttu-id="a4c96-129">Docker содержит общедоступный реестр, размещенный в [Docker Hub](https://hub.docker.com/).</span><span class="sxs-lookup"><span data-stu-id="a4c96-129">Docker has a public registry hosted at the [Docker Hub](https://hub.docker.com/) that you can use.</span></span> <span data-ttu-id="a4c96-130">[Образы для .NET Core](https://hub.docker.com/_/microsoft-dotnet-core/) также доступны в Docker Hub.</span><span class="sxs-lookup"><span data-stu-id="a4c96-130">[.NET Core related images](https://hub.docker.com/_/microsoft-dotnet-core/) are listed at the Docker Hub.</span></span> 

<span data-ttu-id="a4c96-131">Реестр контейнеров Microsoft (MCR) является официальным источником образов контейнеров, предоставленных корпорацией Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="a4c96-131">The Microsoft Container Registry (MCR) is the official source of Microsoft-provided container images.</span></span> <span data-ttu-id="a4c96-132">MCR использует Azure CDN для обеспечения доступа к глобально реплицированным образам.</span><span class="sxs-lookup"><span data-stu-id="a4c96-132">The MCR is built on Azure CDN to provide globally-replicated images.</span></span> <span data-ttu-id="a4c96-133">Однако MCR не имеет общедоступного веб-сайта и основной способ узнать об образах контейнеров, предоставленных корпорацией Майкрософт, — через [страницу Microsoft Docker Hub](https://hub.docker.com/_/microsoft-dotnet-core/).</span><span class="sxs-lookup"><span data-stu-id="a4c96-133">However, the MCR does not have a public-facing website and the primary way to learn about Microsoft-provided container images is through the [Microsoft Docker Hub pages](https://hub.docker.com/_/microsoft-dotnet-core/).</span></span>

### <a name="dockerfile"></a><span data-ttu-id="a4c96-134">Dockerfile</span><span class="sxs-lookup"><span data-stu-id="a4c96-134">Dockerfile</span></span>

<span data-ttu-id="a4c96-135">Объект **Dockerfile** — это файл, который определяет набор инструкций, создающих образ.</span><span class="sxs-lookup"><span data-stu-id="a4c96-135">A **Dockerfile** is a file that defines a set of instructions that creates an image.</span></span> <span data-ttu-id="a4c96-136">Каждая инструкция в **Dockerfile** создает слой в образе.</span><span class="sxs-lookup"><span data-stu-id="a4c96-136">Each instruction in the **Dockerfile** creates a layer in the image.</span></span> <span data-ttu-id="a4c96-137">В большинстве случаев при пересборке образа модифицируются только слои, которые были изменены.</span><span class="sxs-lookup"><span data-stu-id="a4c96-137">For the most part, when you rebuild the image, only the layers that have changed are rebuilt.</span></span> <span data-ttu-id="a4c96-138">**Dockerfile** можно передавать другим пользователям, что позволяет им повторно создавать новые образы тем же способом, что и вы.</span><span class="sxs-lookup"><span data-stu-id="a4c96-138">The **Dockerfile** can be distributed to others and allows them to recreate a new image in the same manner you created it.</span></span> <span data-ttu-id="a4c96-139">Хотя это позволяет распространять *инструкции* о том, как создать образ, основным способом распространения образа является его публикация в реестре.</span><span class="sxs-lookup"><span data-stu-id="a4c96-139">While this allows you to distribute the *instructions* on how to create the image, the main way to distribute your image is to publish it to a registry.</span></span>

## <a name="net-core-images"></a><span data-ttu-id="a4c96-140">Образы .NET Core</span><span class="sxs-lookup"><span data-stu-id="a4c96-140">.NET Core images</span></span>

<span data-ttu-id="a4c96-141">Официальные образы Docker для .NET Core публикуются в реестре контейнеров Microsoft (MCR) и доступ к ним можно получить в [репозитории Microsoft .NET Core Docker Hub](https://hub.docker.com/_/microsoft-dotnet-core/).</span><span class="sxs-lookup"><span data-stu-id="a4c96-141">Official .NET Core Docker images are published to the Microsoft Container Registry (MCR) and are discoverable at the [Microsoft .NET Core Docker Hub repository](https://hub.docker.com/_/microsoft-dotnet-core/).</span></span> <span data-ttu-id="a4c96-142">Каждый репозиторий содержит рабочие образы для разных сочетаний .NET (пакета SDK или среды выполнения) и операционной системы.</span><span class="sxs-lookup"><span data-stu-id="a4c96-142">Each repository contains images for different combinations of the .NET (SDK or Runtime) and OS that you can use.</span></span> 

<span data-ttu-id="a4c96-143">Корпорация Майкрософт предоставляет образы, которые предназначены для конкретных сценариев.</span><span class="sxs-lookup"><span data-stu-id="a4c96-143">Microsoft provides images that are tailored for specific scenarios.</span></span> <span data-ttu-id="a4c96-144">Например [репозиторий ASP.NET Core](https://hub.docker.com/_/microsoft-dotnet-core-aspnet/) содержит образы, которые предназначены для запуска приложений ASP.NET Core в рабочей среде.</span><span class="sxs-lookup"><span data-stu-id="a4c96-144">For example, the [ASP.NET Core repository](https://hub.docker.com/_/microsoft-dotnet-core-aspnet/) provides images that are built for running ASP.NET Core apps in production.</span></span>

## <a name="azure-services"></a><span data-ttu-id="a4c96-145">Службы Azure</span><span class="sxs-lookup"><span data-stu-id="a4c96-145">Azure services</span></span>

<span data-ttu-id="a4c96-146">Контейнеры поддерживаются различными службами Azure.</span><span class="sxs-lookup"><span data-stu-id="a4c96-146">Various Azure services support containers.</span></span> <span data-ttu-id="a4c96-147">Создать образ Docker для приложения и развернуть его можно в одной из следующих служб:</span><span class="sxs-lookup"><span data-stu-id="a4c96-147">You create a Docker image for your application and deploy it to one of the following services:</span></span>

- <span data-ttu-id="a4c96-148">[Служба Azure Kubernetes (AKS)](https://azure.microsoft.com/services/kubernetes-service/)</span><span class="sxs-lookup"><span data-stu-id="a4c96-148">[Azure Kubernetes Service (AKS)](https://azure.microsoft.com/services/kubernetes-service/)</span></span>\
<span data-ttu-id="a4c96-149">Масштабирование и настройка контейнеров Linux с помощью Kubernetes.</span><span class="sxs-lookup"><span data-stu-id="a4c96-149">Scale and orchestrate Linux containers using Kubernetes.</span></span>

- <span data-ttu-id="a4c96-150">[Служба приложений Azure](https://azure.microsoft.com/services/app-service/containers/)</span><span class="sxs-lookup"><span data-stu-id="a4c96-150">[Azure App Service](https://azure.microsoft.com/services/app-service/containers/)</span></span>\
<span data-ttu-id="a4c96-151">Развертывание веб-приложений или API с помощью контейнеров Linux в среде PaaS.</span><span class="sxs-lookup"><span data-stu-id="a4c96-151">Deploy web apps or APIs using Linux containers in a PaaS environment.</span></span>

- <span data-ttu-id="a4c96-152">[Экземпляры контейнеров Azure](https://azure.microsoft.com/services/container-instances/)</span><span class="sxs-lookup"><span data-stu-id="a4c96-152">[Azure Container Instances](https://azure.microsoft.com/services/container-instances/)</span></span>\
<span data-ttu-id="a4c96-153">Разместите контейнер в облаке без служб управления более высокого уровня.</span><span class="sxs-lookup"><span data-stu-id="a4c96-153">Host your container in the cloud without any higher-level management services.</span></span>

- <span data-ttu-id="a4c96-154">[Пакетная служба Azure](https://azure.microsoft.com/services/batch/)</span><span class="sxs-lookup"><span data-stu-id="a4c96-154">[Azure Batch](https://azure.microsoft.com/services/batch/)</span></span>\
<span data-ttu-id="a4c96-155">Выполнение повторяющихся вычислительных заданий с помощью контейнеров.</span><span class="sxs-lookup"><span data-stu-id="a4c96-155">Run repetitive compute jobs using containers.</span></span>

- <span data-ttu-id="a4c96-156">[Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/)</span><span class="sxs-lookup"><span data-stu-id="a4c96-156">[Azure Service Fabric](https://azure.microsoft.com/services/service-fabric/)</span></span>\
<span data-ttu-id="a4c96-157">Замена и модернизация приложений .NET для микрослужб с помощью контейнеров Windows Server.</span><span class="sxs-lookup"><span data-stu-id="a4c96-157">Lift, shift, and modernize .NET applications to microservices using Windows Server containers.</span></span>

- <span data-ttu-id="a4c96-158">[Реестр контейнеров Azure](https://azure.microsoft.com/services/container-registry/)</span><span class="sxs-lookup"><span data-stu-id="a4c96-158">[Azure Container Registry](https://azure.microsoft.com/services/container-registry/)</span></span>\
<span data-ttu-id="a4c96-159">Хранит образы контейнеров с любыми типами развертывания Azure и управляет ими.</span><span class="sxs-lookup"><span data-stu-id="a4c96-159">Store and manage container images across all types of Azure deployments.</span></span>

## <a name="next-steps"></a><span data-ttu-id="a4c96-160">Следующие шаги</span><span class="sxs-lookup"><span data-stu-id="a4c96-160">Next steps</span></span>

- [<span data-ttu-id="a4c96-161">Узнать больше о контейнеризации приложения .NET Core</span><span class="sxs-lookup"><span data-stu-id="a4c96-161">Learn how to containerize a .NET Core application.</span></span>](build-container.md)
- [<span data-ttu-id="a4c96-162">Узнайте, как упаковать в контейнер приложение ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="a4c96-162">Learn how to containerize an ASP.NET Core application.</span></span>](/aspnet/core/host-and-deploy/docker/building-net-docker-images)
- [<span data-ttu-id="a4c96-163">Ознакомьтесь с руководством по микрослужбам ASP.NET Core.</span><span class="sxs-lookup"><span data-stu-id="a4c96-163">Try the Learn ASP.NET Core Microservice tutorial.</span></span>](https://dotnet.microsoft.com/learn/web/aspnet-microservice-tutorial/intro)
- [<span data-ttu-id="a4c96-164">Дополнительные сведения об инструментах для работы с контейнерами в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="a4c96-164">Learn about Container Tools in Visual Studio</span></span>](/visualstudio/containers/overview)
