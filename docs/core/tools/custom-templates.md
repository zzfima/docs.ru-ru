---
title: "Пользовательские шаблоны для команды dotnet new"
description: "Сведения о пользовательских шаблонах для проектов или файлов .NET любых типов."
keywords: "dotnet new,CLI,команда CLI,.NET Core,шаблон,создание шаблонов"
author: guardrex
ms.author: mairaw
ms.date: 08/11/2017
ms.topic: article
ms.prod: .net-core
ms.technology: dotnet-cli
ms.devlang: dotnet
ms.translationtype: HT
ms.sourcegitcommit: c58ed1b3c09f1e358d0b66f6cf7186821601fd69
ms.openlocfilehash: c68e382450a763fd0521b7defdd79d8433e1acde
ms.contentlocale: ru-ru
ms.lasthandoff: 08/12/2017

---

# <a name="custom-templates-for-dotnet-new"></a><span data-ttu-id="26c2c-104">Пользовательские шаблоны для команды dotnet new</span><span class="sxs-lookup"><span data-stu-id="26c2c-104">Custom templates for dotnet new</span></span>

<span data-ttu-id="26c2c-105">В состав [пакета SDK для .NET Core](https://www.microsoft.com/net/download/core) входит множество готовых шаблонов, предназначенных для использования с [командой `dotnet new`](dotnet-new.md).</span><span class="sxs-lookup"><span data-stu-id="26c2c-105">The [.NET Core SDK](https://www.microsoft.com/net/download/core) comes with many templates pre-installed to use with the [`dotnet new` command](dotnet-new.md).</span></span> <span data-ttu-id="26c2c-106">Начиная с версии .NET Core 2.0, можно создавать собственные шаблоны для проектов любого типа, например приложений, служб, средств или библиотек классов.</span><span class="sxs-lookup"><span data-stu-id="26c2c-106">Starting with .NET Core 2.0, you can create your own custom templates for any type of project, such as an app, service, tool, or class library.</span></span> <span data-ttu-id="26c2c-107">Можно также создать шаблон, формирующий один или несколько отдельных файлов, например файл конфигурации.</span><span class="sxs-lookup"><span data-stu-id="26c2c-107">You can even create a template that outputs one or more independent files, such as a configuration file.</span></span>

<span data-ttu-id="26c2c-108">Устанавливать пользовательские шаблоны из пакета NuGet можно в любом веб-канале NuGet, ссылаясь на файл *NUPKG* NuGet напрямую или указывая каталог в файловой системе, который содержит шаблон.</span><span class="sxs-lookup"><span data-stu-id="26c2c-108">You can install custom templates from a NuGet package on any NuGet feed, by referencing a NuGet *nupkg* file directly, or by specifying a file system directory that contains the template.</span></span> <span data-ttu-id="26c2c-109">Модуль шаблонов предоставляет возможности, которые позволяют заменять значения, включать и исключать файлы или области файлов, а также выполнять пользовательские операции обработки при использовании шаблона.</span><span class="sxs-lookup"><span data-stu-id="26c2c-109">The template engine offers features that allow you to replace values, include and exclude files and regions of files, and execute custom processing operations when your template is used.</span></span>

<span data-ttu-id="26c2c-110">Модуль шаблонов имеет открытый код. Репозиторий кода в Интернете — [dotnet/templating](https://github.com/dotnet/templating/) в GitHub.</span><span class="sxs-lookup"><span data-stu-id="26c2c-110">The template engine is open source, and the online code repository is at [dotnet/templating](https://github.com/dotnet/templating/) on GitHub.</span></span> <span data-ttu-id="26c2c-111">Образцы шаблонов можно найти в репозитории [dotnet/dotnet-template-samples](https://github.com/dotnet/dotnet-template-samples).</span><span class="sxs-lookup"><span data-stu-id="26c2c-111">Visit the [dotnet/dotnet-template-samples](https://github.com/dotnet/dotnet-template-samples) repo for samples of templates.</span></span> <span data-ttu-id="26c2c-112">Дополнительные шаблоны, в том числе шаблоны от сторонних разработчиков, можно найти на странице [Доступные шаблоны для dotnet new](https://github.com/dotnet/templating/wiki/Available-templates-for-dotnet-new) в GitHub.</span><span class="sxs-lookup"><span data-stu-id="26c2c-112">More templates, including templates from third parties, are found at [Available templates for dotnet new](https://github.com/dotnet/templating/wiki/Available-templates-for-dotnet-new) on GitHub.</span></span> <span data-ttu-id="26c2c-113">Дополнительные сведения о создании и использовании пользовательских шаблонов см. в записи блога [Создание собственных шаблонов для команды dotnet new](https://blogs.msdn.microsoft.com/dotnet/2017/04/02/how-to-create-your-own-templates-for-dotnet-new/) и на [вики-сайте, посвященном репозиторию dotnet/templating в GitHub](https://github.com/dotnet/templating/wiki).</span><span class="sxs-lookup"><span data-stu-id="26c2c-113">For more information about creating and using custom templates, see [How to create your own templates for dotnet new](https://blogs.msdn.microsoft.com/dotnet/2017/04/02/how-to-create-your-own-templates-for-dotnet-new/) and the [dotnet/templating GitHub repo Wiki](https://github.com/dotnet/templating/wiki).</span></span>

<span data-ttu-id="26c2c-114">Пошаговое руководство по созданию шаблона см. в учебнике [Создание пользовательского шаблона для команды dotnet new](~/docs/core/tutorials/create-custom-template.md).</span><span class="sxs-lookup"><span data-stu-id="26c2c-114">To follow a walkthrough and create a template, see the [Create a custom template for dotnet new](~/docs/core/tutorials/create-custom-template.md) tutorial.</span></span>

## <a name="configuration"></a><span data-ttu-id="26c2c-115">Конфигурация</span><span class="sxs-lookup"><span data-stu-id="26c2c-115">Configuration</span></span>

<span data-ttu-id="26c2c-116">Шаблон состоит из следующих компонентов:</span><span class="sxs-lookup"><span data-stu-id="26c2c-116">A template is composed of the following components:</span></span>

- <span data-ttu-id="26c2c-117">исходные файлы и папки;</span><span class="sxs-lookup"><span data-stu-id="26c2c-117">Source files and folders</span></span>
- <span data-ttu-id="26c2c-118">файл конфигурации (*template.json*).</span><span class="sxs-lookup"><span data-stu-id="26c2c-118">A configuration file (*template.json*)</span></span>

### <a name="source-files-and-folders"></a><span data-ttu-id="26c2c-119">Исходные файлы и папки</span><span class="sxs-lookup"><span data-stu-id="26c2c-119">Source files and folders</span></span>

<span data-ttu-id="26c2c-120">К исходным файлам и папкам относятся все файлы и папки, которые должны использоваться модулем шаблонов при выполнении команды `dotnet new <TEMPLATE>`.</span><span class="sxs-lookup"><span data-stu-id="26c2c-120">The source files and folders include whatever files and folders you want the template engine to use when the `dotnet new <TEMPLATE>` command is executed.</span></span> <span data-ttu-id="26c2c-121">Модуль шаблонов предполагает использование *запускаемых проектов* в качестве исходного кода для создания проектов.</span><span class="sxs-lookup"><span data-stu-id="26c2c-121">The template engine is designed to use *runnable projects* as source code to produce projects.</span></span> <span data-ttu-id="26c2c-122">Это дает ряд преимуществ.</span><span class="sxs-lookup"><span data-stu-id="26c2c-122">This has several benefits:</span></span>

- <span data-ttu-id="26c2c-123">Модуль шаблонов не требует внедрения специальных токенов в исходный код проекта.</span><span class="sxs-lookup"><span data-stu-id="26c2c-123">The template engine doesn't require you to inject special tokens into your project's source code.</span></span>
- <span data-ttu-id="26c2c-124">Файлы кода не являются особыми файлами и не требуют каких-либо изменений для работы с модулем шаблонов.</span><span class="sxs-lookup"><span data-stu-id="26c2c-124">The code files aren't special files or modified in any way to work with the template engine.</span></span> <span data-ttu-id="26c2c-125">Поэтому для работы с содержимым шаблонов можно использовать те же средства, которые вы обычно используете при работе с проектами.</span><span class="sxs-lookup"><span data-stu-id="26c2c-125">So, the tools you normally use when working with projects also work with template content.</span></span>
- <span data-ttu-id="26c2c-126">Сборка, выполнение и отладка проектов шаблонов осуществляется так же, как и в случае с любыми другими проектами.</span><span class="sxs-lookup"><span data-stu-id="26c2c-126">You build, run, and debug your template projects just like you do for any of your other projects.</span></span>
- <span data-ttu-id="26c2c-127">Вы можете быстро создать шаблон на основе существующего проекта, просто добавив файл конфигурации *template.json* в проект.</span><span class="sxs-lookup"><span data-stu-id="26c2c-127">You can quickly create a template from an existing project just by adding a *template.json* configuration file to the project.</span></span>

<span data-ttu-id="26c2c-128">Файлы и папки, которые могут храниться в шаблоне, не ограничены формальными типами проектов .NET, такими как решения .NET Core или .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="26c2c-128">Files and folders stored in the template aren't limited to formal .NET project types, such as .NET Core or .NET Framework solutions.</span></span> <span data-ttu-id="26c2c-129">Исходные файлы и папки могут включать в себя любое содержимое, которое требуется создавать при использовании шаблона, даже если модуль шаблонов создает только один файл в качестве выходного, например файл конфигурации или файл решения.</span><span class="sxs-lookup"><span data-stu-id="26c2c-129">Source files and folders may consist of any content that you wish to create when the template is used, even if the template engine produces just one file for its output, such as a configuration file or a solution file.</span></span> <span data-ttu-id="26c2c-130">Например, можно создать шаблон, который содержит исходный файл *web.config* и создает измененный файл *web.config* для проектов, в которых используется этот шаблон.</span><span class="sxs-lookup"><span data-stu-id="26c2c-130">For example, you can create a template that contains a *web.config* source file and creates a modified *web.config* file for projects where the template is used.</span></span> <span data-ttu-id="26c2c-131">Изменения в исходные файлы вносятся на основе логики и параметров, указанных в файле конфигурации *template.json*, а также значений, предоставляемых пользователем и передаваемых в качестве параметров в команду `dotnet new <TEMPLATE>`.</span><span class="sxs-lookup"><span data-stu-id="26c2c-131">The modifications to source files are based on logic and settings you've provided in the *template.json* configuration file along with values provided by the user passed as options to the `dotnet new <TEMPLATE>` command.</span></span>

### <a name="templatejson"></a><span data-ttu-id="26c2c-132">template.json</span><span class="sxs-lookup"><span data-stu-id="26c2c-132">template.json</span></span>

<span data-ttu-id="26c2c-133">Файл *template.json* размещается в папке *.template.config* в корневом каталоге шаблона.</span><span class="sxs-lookup"><span data-stu-id="26c2c-133">The *template.json* file is placed in a *.template.config* folder in the root directory of the template.</span></span> <span data-ttu-id="26c2c-134">Он предоставляет сведения о конфигурации модулю шаблонов.</span><span class="sxs-lookup"><span data-stu-id="26c2c-134">The file provides configuration information to the template engine.</span></span> <span data-ttu-id="26c2c-135">В приведенной ниже таблице приведены элементы конфигурации, которые необходимы и достаточны для создания работающего шаблона.</span><span class="sxs-lookup"><span data-stu-id="26c2c-135">The minimum configuration requires the members shown in the following table, which is sufficient to create a functional template.</span></span>

| <span data-ttu-id="26c2c-136">Член</span><span class="sxs-lookup"><span data-stu-id="26c2c-136">Member</span></span>            | <span data-ttu-id="26c2c-137">Тип</span><span class="sxs-lookup"><span data-stu-id="26c2c-137">Type</span></span>          | <span data-ttu-id="26c2c-138">Описание</span><span class="sxs-lookup"><span data-stu-id="26c2c-138">Description</span></span> |
| ----------------- | ------------- | ----------- |
| `$schema`         | <span data-ttu-id="26c2c-139">URI</span><span class="sxs-lookup"><span data-stu-id="26c2c-139">URI</span></span>           | <span data-ttu-id="26c2c-140">Схема JSON для файла *template.json*.</span><span class="sxs-lookup"><span data-stu-id="26c2c-140">The JSON schema for the *template.json* file.</span></span> <span data-ttu-id="26c2c-141">Редакторы, поддерживающие схемы JSON, обеспечивают возможности редактирования JSON при указании схемы.</span><span class="sxs-lookup"><span data-stu-id="26c2c-141">Editors that support JSON schemas enable JSON-editing features when the schema is specified.</span></span> <span data-ttu-id="26c2c-142">Например, в [Visual Studio Code](https://code.visualstudio.com/) требуется, чтобы этот элемент включал поддержку IntelliSense.</span><span class="sxs-lookup"><span data-stu-id="26c2c-142">For example, [Visual Studio Code](https://code.visualstudio.com/) requires this member to enable IntelliSense.</span></span> <span data-ttu-id="26c2c-143">Используйте значение `http://json.schemastore.org/template`.</span><span class="sxs-lookup"><span data-stu-id="26c2c-143">Use a value of `http://json.schemastore.org/template`.</span></span> |
| `author`          | <span data-ttu-id="26c2c-144">string</span><span class="sxs-lookup"><span data-stu-id="26c2c-144">string</span></span>        | <span data-ttu-id="26c2c-145">Автор шаблона.</span><span class="sxs-lookup"><span data-stu-id="26c2c-145">The author of the template.</span></span> |
| `classifications` | <span data-ttu-id="26c2c-146">array(string)</span><span class="sxs-lookup"><span data-stu-id="26c2c-146">array(string)</span></span> | <span data-ttu-id="26c2c-147">Ноль или более характеристик шаблона, по которым пользователь может найти его.</span><span class="sxs-lookup"><span data-stu-id="26c2c-147">Zero or more characteristics of the template that a user might use to find the template when searching for it.</span></span> <span data-ttu-id="26c2c-148">Если шаблон присутствует в списке шаблонов, созданных с помощью команды <code>dotnet new -l&#124;--list</code>, классификации также приводятся в столбце *Теги*.</span><span class="sxs-lookup"><span data-stu-id="26c2c-148">The classifications also appear in the *Tags* column when it appears in a list of templates produced by using the <code>dotnet new -l&#124;--list</code> command.</span></span> |
| `identity`        | <span data-ttu-id="26c2c-149">string</span><span class="sxs-lookup"><span data-stu-id="26c2c-149">string</span></span>        | <span data-ttu-id="26c2c-150">Уникальное имя шаблона.</span><span class="sxs-lookup"><span data-stu-id="26c2c-150">A unique name for this template.</span></span> |
| `name`            | <span data-ttu-id="26c2c-151">string</span><span class="sxs-lookup"><span data-stu-id="26c2c-151">string</span></span>        | <span data-ttu-id="26c2c-152">Имя шаблона, которое видят пользователи.</span><span class="sxs-lookup"><span data-stu-id="26c2c-152">The name for the template that users should see.</span></span> |
| `shortName`       | <span data-ttu-id="26c2c-153">string</span><span class="sxs-lookup"><span data-stu-id="26c2c-153">string</span></span>        | <span data-ttu-id="26c2c-154">Сокращение по умолчанию для выбора шаблона, которое используется во всех средах, где имя шаблона указывается пользователем, а не выбирается в графическом пользовательском интерфейсе.</span><span class="sxs-lookup"><span data-stu-id="26c2c-154">A default shorthand for selecting the template that applies to environments where the template name is specified by the user, not selected via a GUI.</span></span> <span data-ttu-id="26c2c-155">Например, короткое имя полезно при использовании шаблонов из командной строки с помощью команд CLI.</span><span class="sxs-lookup"><span data-stu-id="26c2c-155">For example, the short name is useful when using templates from a command prompt with CLI commands.</span></span> |

#### <a name="example"></a><span data-ttu-id="26c2c-156">Пример.</span><span class="sxs-lookup"><span data-stu-id="26c2c-156">Example:</span></span>

```json
{
  "$schema": "http://json.schemastore.org/template",
  "author": "Catalina Garcia",
  "classifications": [ "Common", "Console" ],
  "identity": "GarciaSoftware.ConsoleTemplate.CSharp",
  "name": "Garcia Software Console Application",
  "shortName": "garciaconsole"
}
```

<span data-ttu-id="26c2c-157">Полная схема файла *template.json* находится в [хранилище схем JSON](http://json.schemastore.org/template).</span><span class="sxs-lookup"><span data-stu-id="26c2c-157">The full schema for the *template.json* file is found at the [JSON Schema Store](http://json.schemastore.org/template).</span></span>

## <a name="net-default-templates"></a><span data-ttu-id="26c2c-158">Шаблоны .NET по умолчанию</span><span class="sxs-lookup"><span data-stu-id="26c2c-158">.NET default templates</span></span>

<span data-ttu-id="26c2c-159">При установке [пакета SDK для .NET Core](https://www.microsoft.com/net/download/core) вы получаете более десяти встроенных шаблонов для создания проектов и файлов, включая консольные приложения, библиотеки классов, проекты модульных тестов, приложения ASP.NET Core (в том числе проекты [Angular](https://angular.io/) и [React](https://facebook.github.io/react/)) и файлы конфигурации.</span><span class="sxs-lookup"><span data-stu-id="26c2c-159">When you install the [.NET Core SDK](https://www.microsoft.com/net/download/core), you receive over a dozen built-in templates for creating projects and files, including console apps, class libraries, unit test projects, ASP.NET Core apps (including [Angular](https://angular.io/) and [React](https://facebook.github.io/react/) projects), and configuration files.</span></span> <span data-ttu-id="26c2c-160">Чтобы получить список встроенных шаблонов, выполните команду `dotnet new` с параметром `-l|--list`.</span><span class="sxs-lookup"><span data-stu-id="26c2c-160">To list the built-in templates, execute the `dotnet new` command with the `-l|--list` option:</span></span>

```console
dotnet new -l
```

## <a name="packing-a-template-into-a-nuget-package-nupkg-file"></a><span data-ttu-id="26c2c-161">Упаковка шаблона в пакет NuGet (файл NUPKG)</span><span class="sxs-lookup"><span data-stu-id="26c2c-161">Packing a template into a NuGet package (nupkg file)</span></span>

<span data-ttu-id="26c2c-162">В настоящее время пользовательский шаблон упаковывается в Windows с помощью [nuget.exe](https://dist.nuget.org/win-x86-commandline/latest/nuget.exe) (а не команды [dotnet pack](dotnet-pack.md)).</span><span class="sxs-lookup"><span data-stu-id="26c2c-162">Currently, a custom template is packed on Windows with [nuget.exe](https://dist.nuget.org/win-x86-commandline/latest/nuget.exe) (not [dotnet pack](dotnet-pack.md)).</span></span> <span data-ttu-id="26c2c-163">Для кроссплатформенной упаковки рекомендуется использовать [NuGetizer 3000](https://github.com/NuGet/Home/wiki/NuGetizer-3000).</span><span class="sxs-lookup"><span data-stu-id="26c2c-163">For cross-platform packaging, consider using [NuGetizer 3000](https://github.com/NuGet/Home/wiki/NuGetizer-3000).</span></span>

<span data-ttu-id="26c2c-164">Содержимое папки проекта вместе с файлом *.template.config/template.json* помещаются в папку *content*.</span><span class="sxs-lookup"><span data-stu-id="26c2c-164">The contents of the project folder, together with its *.template.config/template.json* file, are placed into a folder named *content*.</span></span> <span data-ttu-id="26c2c-165">Рядом с папкой *content* добавьте [файл *NUSPEC*](/nuget/create-packages/creating-a-package), который представляет собой XML-файл манифеста, описывающий содержимое пакета и управляющий процессом создания пакета NuGet.</span><span class="sxs-lookup"><span data-stu-id="26c2c-165">Next to the *content* folder, add a [*nuspec* file](/nuget/create-packages/creating-a-package), which is an XML manifest file that describes a package's contents and drives the process of creating the NuGet package.</span></span> <span data-ttu-id="26c2c-166">Внутри элемента **\<packageTypes>** в файле *NUSPEC* добавьте элемент **\<packageType>** с атрибутом `name`, имеющим значение `Template`.</span><span class="sxs-lookup"><span data-stu-id="26c2c-166">Inside of a **\<packageTypes>** element in the *nuspec* file, include a **\<packageType>** element with a `name` attribute value of `Template`.</span></span> <span data-ttu-id="26c2c-167">Папка *content* и файл *NUSPEC* должны находиться в одном каталоге.</span><span class="sxs-lookup"><span data-stu-id="26c2c-167">Both the *content* folder and the *nuspec* file should reside in the same directory.</span></span> <span data-ttu-id="26c2c-168">В таблице ниже приведен минимальный набор элементов файла *NUSPEC*, необходимых для создания шаблона как пакета NuGet.</span><span class="sxs-lookup"><span data-stu-id="26c2c-168">The table shows the minimum *nuspec* file elements required to produce a template as a NuGet package.</span></span>

| <span data-ttu-id="26c2c-169">Элемент</span><span class="sxs-lookup"><span data-stu-id="26c2c-169">Element</span></span>            | <span data-ttu-id="26c2c-170">Тип</span><span class="sxs-lookup"><span data-stu-id="26c2c-170">Type</span></span>   | <span data-ttu-id="26c2c-171">Описание</span><span class="sxs-lookup"><span data-stu-id="26c2c-171">Description</span></span> |
| ------------------ | ------ | ----------- |
| <span data-ttu-id="26c2c-172">**\<authors>**</span><span class="sxs-lookup"><span data-stu-id="26c2c-172">**\<authors>**</span></span>     | <span data-ttu-id="26c2c-173">string</span><span class="sxs-lookup"><span data-stu-id="26c2c-173">string</span></span> | <span data-ttu-id="26c2c-174">Разделенный запятыми список авторов пакетов, совпадающих с именами профилей на сайте nuget.org.</span><span class="sxs-lookup"><span data-stu-id="26c2c-174">A comma-separated list of packages authors, matching the profile names on nuget.org.</span></span> <span data-ttu-id="26c2c-175">Авторы отображаются в коллекции NuGet на сайте nuget.org и используются для перекрестных ссылок на пакеты тех же авторов.</span><span class="sxs-lookup"><span data-stu-id="26c2c-175">Authors are displayed in the NuGet Gallery on nuget.org and are used to cross-reference packages by the same authors.</span></span> |
| <span data-ttu-id="26c2c-176">**\<description>**</span><span class="sxs-lookup"><span data-stu-id="26c2c-176">**\<description>**</span></span> | <span data-ttu-id="26c2c-177">string</span><span class="sxs-lookup"><span data-stu-id="26c2c-177">string</span></span> | <span data-ttu-id="26c2c-178">Подробное описание пакета для отображения пользовательского интерфейса.</span><span class="sxs-lookup"><span data-stu-id="26c2c-178">A long description of the package for UI display.</span></span> |
| <span data-ttu-id="26c2c-179">**\<id>**</span><span class="sxs-lookup"><span data-stu-id="26c2c-179">**\<id>**</span></span>          | <span data-ttu-id="26c2c-180">string</span><span class="sxs-lookup"><span data-stu-id="26c2c-180">string</span></span> | <span data-ttu-id="26c2c-181">Идентификатор пакета без учета регистра, который должен быть уникальным в пределах сайта nuget.org или иной коллекции, в которой будет находиться пакет.</span><span class="sxs-lookup"><span data-stu-id="26c2c-181">The case-insensitive package identifier, which must be unique across nuget.org or whatever gallery the package will reside in.</span></span> <span data-ttu-id="26c2c-182">Идентификаторы не должны содержать пробелов или символов, которые недопустимы в URL-адресах, и в них должны соблюдаться общие правила касательно пространств имен .NET.</span><span class="sxs-lookup"><span data-stu-id="26c2c-182">IDs may not contain spaces or characters that are not valid for a URL and generally follow .NET namespace rules.</span></span> <span data-ttu-id="26c2c-183">Инструкции см. в разделе [Выбор уникального идентификатора пакета и задание номера версии](/nuget/create-packages/creating-a-package#choosing-a-unique-package-identifier-and-setting-the-version-number).</span><span class="sxs-lookup"><span data-stu-id="26c2c-183">See [Choosing a unique package identifier and setting the version number](/nuget/create-packages/creating-a-package#choosing-a-unique-package-identifier-and-setting-the-version-number) for guidance.</span></span> |
| <span data-ttu-id="26c2c-184">**\<packageType>**</span><span class="sxs-lookup"><span data-stu-id="26c2c-184">**\<packageType>**</span></span> | <span data-ttu-id="26c2c-185">string</span><span class="sxs-lookup"><span data-stu-id="26c2c-185">string</span></span> | <span data-ttu-id="26c2c-186">Поместите этот элемент внутри элемента **\<packageTypes>** среди элементов **\<metadata>**.</span><span class="sxs-lookup"><span data-stu-id="26c2c-186">Place this element inside a **\<packageTypes>** element among the **\<metadata>** elements.</span></span> <span data-ttu-id="26c2c-187">Присвойте атрибуту `name` элемента **\<packageType>** значение `Template`.</span><span class="sxs-lookup"><span data-stu-id="26c2c-187">Set the `name` attribute of the **\<packageType>** element to `Template`.</span></span> |
| <span data-ttu-id="26c2c-188">**\<version>**</span><span class="sxs-lookup"><span data-stu-id="26c2c-188">**\<version>**</span></span>     | <span data-ttu-id="26c2c-189">string</span><span class="sxs-lookup"><span data-stu-id="26c2c-189">string</span></span> | <span data-ttu-id="26c2c-190">Версия пакета, указываемая согласно шаблону основной_номер.дополнительный_номер.исправление.</span><span class="sxs-lookup"><span data-stu-id="26c2c-190">The version of the package, following the major.minor.patch pattern.</span></span> <span data-ttu-id="26c2c-191">Номер версии может включать в себя суффикс предварительной версии, как описано в разделе, посвященном [предварительным версиям](/nuget/create-packages/prerelease-packages#semantic-versioning).</span><span class="sxs-lookup"><span data-stu-id="26c2c-191">Version numbers may include a pre-release suffix as described in the [Pre-release versions](/nuget/create-packages/prerelease-packages#semantic-versioning) topic.</span></span> |

<span data-ttu-id="26c2c-192">Полную схему файла *NUSPEC* см. в [справочнике по NUSPEC](/nuget/schema/nuspec).</span><span class="sxs-lookup"><span data-stu-id="26c2c-192">See the [.nuspec reference](/nuget/schema/nuspec) for the complete *nuspec* file schema.</span></span> <span data-ttu-id="26c2c-193">Пример файла *NUSPEC* для шаблона приведен в учебнике по [созданию пользовательского шаблона для команды dotnet new](~/docs/core/tutorials/create-custom-template.md).</span><span class="sxs-lookup"><span data-stu-id="26c2c-193">An example *nuspec* file for a template appears in the [Create a custom template for dotnet new](~/docs/core/tutorials/create-custom-template.md) tutorial.</span></span>

<span data-ttu-id="26c2c-194">[Создайте пакет](/nuget/create-packages/creating-a-package#creating-the-package) с помощью команды `nuget pack <PATH_TO_NUSPEC_FILE>`.</span><span class="sxs-lookup"><span data-stu-id="26c2c-194">[Create a package](/nuget/create-packages/creating-a-package#creating-the-package) using the `nuget pack <PATH_TO_NUSPEC_FILE>` command.</span></span>

## <a name="installing-a-template"></a><span data-ttu-id="26c2c-195">Установка шаблона</span><span class="sxs-lookup"><span data-stu-id="26c2c-195">Installing a template</span></span>

<span data-ttu-id="26c2c-196">Установите пользовательский шаблон из пакета NuGet в любом веб-канале NuGet, сославшись на файл *NUPKG* NuGet напрямую или указав каталог в файловой системе, который содержит конфигурацию шаблона.</span><span class="sxs-lookup"><span data-stu-id="26c2c-196">Install a custom template from a NuGet package on any NuGet feed by referencing a *nupkg* file directly or by specifying a file system directory that contains a templating configuration.</span></span> <span data-ttu-id="26c2c-197">Используйте параметр `-i|--install` с командой [dotnet new](dotnet-new.md).</span><span class="sxs-lookup"><span data-stu-id="26c2c-197">Use the `-i|--install` option with the [dotnet new](dotnet-new.md) command.</span></span>

### <a name="to-install-a-template-from-a-nuget-package-stored-at-nugetorg"></a><span data-ttu-id="26c2c-198">Установка шаблона из пакета NuGet, хранящегося на сайте nuget.org</span><span class="sxs-lookup"><span data-stu-id="26c2c-198">To install a template from a NuGet package stored at nuget.org</span></span>

```console
dotnet new -i <NUGET_PACKAGE_ID>
```

### <a name="to-install-a-template-from-a-local-nupkg-file"></a><span data-ttu-id="26c2c-199">Установка шаблона из локального файла NUPKG</span><span class="sxs-lookup"><span data-stu-id="26c2c-199">To install a template from a local nupkg file</span></span>

```console
dotnet new -i <PATH_TO_NUPKG_FILE>
```

### <a name="to-install-a-template-from-a-file-system-directory"></a><span data-ttu-id="26c2c-200">Установка шаблона из каталога в файловой системе</span><span class="sxs-lookup"><span data-stu-id="26c2c-200">To install a template from a file system directory</span></span>

<span data-ttu-id="26c2c-201">`FILE_SYSTEM_DIRECTORY` — это папка проекта, содержащая проект и папку *.template.config*.</span><span class="sxs-lookup"><span data-stu-id="26c2c-201">The `FILE_SYSTEM_DIRECTORY` is the project folder containing the project and the *.template.config* folder:</span></span>

```console
dotnet new -i <FILE_SYSTEM_DIRECTORY>
```

## <a name="uninstalling-a-template"></a><span data-ttu-id="26c2c-202">Удаление шаблона</span><span class="sxs-lookup"><span data-stu-id="26c2c-202">Uninstalling a template</span></span>

<span data-ttu-id="26c2c-203">Удалите пользовательский шаблон, сославшись на пакет NuGet по `id` или указав каталог в файловой системе, который содержит конфигурацию шаблона.</span><span class="sxs-lookup"><span data-stu-id="26c2c-203">Uninstall a custom template by referencing a NuGet package by its `id` or by specifying a file system directory that contains a templating configuration.</span></span> <span data-ttu-id="26c2c-204">Используйте параметр установки `-u|--uninstall` с командой [dotnet new](dotnet-new.md).</span><span class="sxs-lookup"><span data-stu-id="26c2c-204">Use the `-u|--uninstall` install option with the [dotnet new](dotnet-new.md) command.</span></span>

### <a name="to-uninstall-a-template-from-a-nuget-package-stored-at-nugetorg"></a><span data-ttu-id="26c2c-205">Удаление шаблона из пакета NuGet, хранящегося на сайте nuget.org</span><span class="sxs-lookup"><span data-stu-id="26c2c-205">To uninstall a template from a NuGet package stored at nuget.org</span></span>

```console
dotnet new -u <NUGET_PACKAGE_ID>
```

### <a name="to-uninstall-a-template-from-a-local-nupkg-file"></a><span data-ttu-id="26c2c-206">Удаление шаблона из локального файла NUPKG</span><span class="sxs-lookup"><span data-stu-id="26c2c-206">To uninstall a template from a local nupkg file</span></span>

<span data-ttu-id="26c2c-207">Если необходимо удалить шаблон, не пытайтесь использовать путь к файлу *NUPKG*.</span><span class="sxs-lookup"><span data-stu-id="26c2c-207">When you wish to uninstall the template, don't attempt to use the path to the *nupkg* file.</span></span> <span data-ttu-id="26c2c-208">*Попытка удалить шаблон с помощью команды `dotnet new -u <PATH_TO_NUPKG_FILE>` завершится сбоем.*</span><span class="sxs-lookup"><span data-stu-id="26c2c-208">*Attempting to uninstall a template using `dotnet new -u <PATH_TO_NUPKG_FILE>` fails.*</span></span> <span data-ttu-id="26c2c-209">Ссылайтесь на пакет по `id`.</span><span class="sxs-lookup"><span data-stu-id="26c2c-209">Reference the package by its `id`:</span></span>

```console
dotnet new -u <NUGET_PACKAGE_ID>
```

### <a name="to-uninstall-a-template-from-a-file-system-directory"></a><span data-ttu-id="26c2c-210">Удаление шаблона из каталога в файловой системе</span><span class="sxs-lookup"><span data-stu-id="26c2c-210">To uninstall a template from a file system directory</span></span>

<span data-ttu-id="26c2c-211">`FILE_SYSTEM_DIRECTORY` — это папка проекта, содержащая проект и папку *.template.config*.</span><span class="sxs-lookup"><span data-stu-id="26c2c-211">The `FILE_SYSTEM_DIRECTORY` is the project folder containing the project and the *.template.config* folder:</span></span>

```console
dotnet new -u <FILE_SYSTEM_DIRECTORY>
```

## <a name="create-a-project-using-a-custom-template"></a><span data-ttu-id="26c2c-212">Создание проекта с помощью пользовательского шаблона</span><span class="sxs-lookup"><span data-stu-id="26c2c-212">Create a project using a custom template</span></span>

<span data-ttu-id="26c2c-213">После установки шаблона для его использования выполните команду `dotnet new <TEMPLATE>` так же, как и в случае с любым другим предустановленным шаблоном.</span><span class="sxs-lookup"><span data-stu-id="26c2c-213">After a template is installed, use the template by executing the `dotnet new <TEMPLATE>` command as you would with any other pre-installed template.</span></span> <span data-ttu-id="26c2c-214">Кроме того, можно указать [параметры](dotnet-new.md#options) для команды `dotnet new`, в том числе относящиеся к шаблону параметры, заданные в настройках шаблона.</span><span class="sxs-lookup"><span data-stu-id="26c2c-214">You can also specify [options](dotnet-new.md#options) to the `dotnet new` command, including template specific options you configured in the template settings.</span></span> <span data-ttu-id="26c2c-215">Укажите короткое имя шаблона непосредственно в команде.</span><span class="sxs-lookup"><span data-stu-id="26c2c-215">Supply the template's short name directly to the command:</span></span>

```console
dotnet new <TEMPLATE>
```

## <a name="see-also"></a><span data-ttu-id="26c2c-216">См. также</span><span class="sxs-lookup"><span data-stu-id="26c2c-216">See also</span></span>

[<span data-ttu-id="26c2c-217">Создание пользовательского шаблона для команды dotnet new (учебник)</span><span class="sxs-lookup"><span data-stu-id="26c2c-217">Create a custom template for dotnet new (tutorial)</span></span>](../tutorials/create-custom-template.md)  
[<span data-ttu-id="26c2c-218">Вики-сайт, посвященный репозиторию dotnet/templating в GitHub</span><span class="sxs-lookup"><span data-stu-id="26c2c-218">dotnet/templating GitHub repo Wiki</span></span>](https://github.com/dotnet/templating/wiki)  
[<span data-ttu-id="26c2c-219">Репозиторий dotnet/dotnet-template-samples в GitHub</span><span class="sxs-lookup"><span data-stu-id="26c2c-219">dotnet/dotnet-template-samples GitHub repo</span></span>](https://github.com/dotnet/dotnet-template-samples)  
[<span data-ttu-id="26c2c-220">Создание собственных шаблонов для команды dotnet new</span><span class="sxs-lookup"><span data-stu-id="26c2c-220">How to create your own templates for dotnet new</span></span>](https://blogs.msdn.microsoft.com/dotnet/2017/04/02/how-to-create-your-own-templates-for-dotnet-new/)  
[<span data-ttu-id="26c2c-221">Схема *template.json* в хранилище схем JSON</span><span class="sxs-lookup"><span data-stu-id="26c2c-221">*template.json* schema at the JSON Schema Store</span></span>](http://json.schemastore.org/template)  

