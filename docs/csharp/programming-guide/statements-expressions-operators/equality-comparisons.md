---
title: "Сравнения на равенство (Руководство по программированию на C#) | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-csharp"
ms.tgt_pltfrm: ""
ms.topic: "article"
dev_langs: 
  - "CSharp"
helpviewer_keywords: 
  - "равенство объектов [C#]"
ms.assetid: 10b865ea-4e7b-4127-9242-c9b8f57d9f04
caps.latest.revision: 14
caps.handback.revision: 14
author: "BillWagner"
ms.author: "wiwagn"
manager: "wpickett"
---
# Сравнения на равенство (Руководство по программированию на C#)
[!INCLUDE[vs2017banner](../../../csharp/includes/vs2017banner.md)]

Иногда возникает необходимость проверить равенство двух значений.  В некоторых случаях проверяется *равенство значений*, которое также называют их *эквивалентностью*, что означает, что содержащиеся в двух переменных значениях равны.  В других случаях требуется определить, ссылаются ли две переменные на один и тот же объект в памяти.  Такой тип равенства называется *равенством ссылок* или *идентичностью*.  В этом разделе описаны эти два типа равенства и приведены ссылки на разделы, содержащие дополнительные сведения.  
  
## Равенство ссылок  
 Равенство ссылок означает, что два объекта ссылаются на один и тот же объект.  Это может произойти при простом присваивании, как показано в следующем примере.  
  
 [!code-cs[csProgGuideStatements#18](../../../csharp/programming-guide/classes-and-structs/codesnippet/CSharp/equality-comparisons_1.cs)]  
  
 В этом фрагменте кода создается два объекта, но после инструкции присваивания они оба ссылаются на один и тот же объект.  Поэтому между ними устанавливается равенство ссылок.  Метод <xref:System.Object.ReferenceEquals%2A> позволяет определить, относятся ли две ссылки к одному и тому же объекту.  
  
 Концепция равенства ссылок применима только к ссылочным типам.  Объекты типа значения не могут иметь равенства ссылок, поскольку, когда переменной присваивается экземпляр типа значения, создается копия этого значения.  Поэтому две распакованные структуры никогда не могут ссылаться на одно и то же расположение в памяти.  Более того, если для сравнения двух типов значения используется метод <xref:System.Object.ReferenceEquals%2A>, всегда будет возвращаться результат `false`, даже если содержащиеся в объектах значения идентичны.  Это связано с тем, что каждая переменная запакована в отдельный экземпляр объекта.  Дополнительные сведения см. в разделе [Практическое руководство. Тестирование на равенство \(идентичность\) ссылок](../../../csharp/programming-guide/statements-expressions-operators/how-to-test-for-reference-equality-identity.md).  
  
## Равенство значений  
 Равенство значений означает, что два объекта содержат одинаковое значение или одинаковые значения.  Для примитивных типов значений, таких как [int](../../../csharp/language-reference/keywords/int.md) и [bool](../../../csharp/language-reference/keywords/bool.md), проверка на равенство значений представляет собой очевидную задачу.  Можно использовать оператор [\=\=](../../../csharp/language-reference/operators/equality-comparison-operator.md), как показано в следующем примере.  
  
```c#  
int a = GetOriginalValue();  
int b = GetCurrentValue();  
  
// Test for value equality.   
if( b == a)   
{  
    // The two integers are equal.  
}  
```  
  
 Для большинства других типов проверка равенства значений является более сложной, поскольку при этом необходимо понимать, как равенство определено в типе.  Для всех классов и структур, имеющих несколько полей или свойств, равенство значений часто определяется как равенство значений всех полей и свойств.  Например, два объекта `Point` могут быть определены как равные, если значение pointA.X равняется pointB.X, а значение pointA.Y равняется pointB.Y.  
  
 Однако общего требования о том, что равенство должно определяться на основе всех полей в типе, нет.  Оно может определяться и на основе части полей.  При сравнении значений типов сторонних разработчиков необходимо понимать, как именно реализовано равенство для таких типов.  Дополнительные сведения об определении равенства значений в собственных классах и структурах см. в разделе [Практическое руководство. Определение равенства значений для типа](../../../csharp/programming-guide/statements-expressions-operators/how-to-define-value-equality-for-a-type.md).  
  
### Равенство значений с плавающей запятой  
 Проверка равенства значений с плавающей запятой \([double](../../../csharp/language-reference/keywords/double.md) и [float](../../../csharp/language-reference/keywords/float.md)\) представляет проблему из\-за неточности арифметических операций с плавающей запятой на двоичных компьютерах.  Дополнительные сведения см. в примечаниях в разделе <xref:System.Double?displayProperty=fullName>.  
  
## Связанные разделы  
  
|Заголовок|Описание|  
|---------------|--------------|  
|[Практическое руководство. Тестирование на равенство \(идентичность\) ссылок](../../../csharp/programming-guide/statements-expressions-operators/how-to-test-for-reference-equality-identity.md)|Описание процедуры проверки равенства ссылок двух переменных.|  
|[Практическое руководство. Определение равенства значений для типа](../../../csharp/programming-guide/statements-expressions-operators/how-to-define-value-equality-for-a-type.md)|Предоставление пользовательского определения равенства значений для типа.|  
|[Руководство по программированию на C\#](../../../csharp/programming-guide/index.md)|Ссылки на подробные сведения о важных элементах языка C\#, а также об элементах, доступных в этом языке благодаря .NET Framework.|  
|[Типы](../../../csharp/programming-guide/types/index.md)|Сведения о системе типов C\# и ссылки на дополнительные сведения.|  
  
## См. также  
 [Руководство по программированию на C\#](../../../csharp/programming-guide/index.md)