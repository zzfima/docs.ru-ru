---
title: "Типы и переменные в C#. Краткий обзор языка C#"
description: "Сведения о типах и об объявлении переменных в C#"
keywords: ".NET, C#, тип, ссылочный тип, тип значения"
author: BillWagner
ms.author: wiwagn
ms.date: 08/10/2016
ms.topic: article
ms.prod: .net
ms.technology: devlang-csharp
ms.devlang: csharp
ms.assetid: f8a8051e-0049-43f1-b594-9c84cc7b1224
ms.openlocfilehash: 1f1031384520b9ed37246361da8bbc1b42addb0b
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/18/2017
---
# <a name="types-and-variables"></a>Типы и переменные

В C# существуют две разновидности типов: *ссылочные типы* и *типы значений*. Переменные типа значений содержат непосредственно данные, а в переменных ссылочных типов хранятся ссылки на нужные данные, которые именуются объектами. Две переменные ссылочного типа могут ссылаться на один и тот же объект, поэтому может случиться так, что операции над одной переменной затронут объект, на который ссылается другая переменная. Каждая переменная типа значения имеет собственную копию данных, и операции над одной переменной не могут затрагивать другую (за исключением переменных параметров `ref` и `out`).

Типы значений в C# подразделяются на *простые типы*, *типы перечисления*, *типы структур* и *типы, допускающие значение Null*. Ссылочные типы в C# подразделяются на *типы классов*, *типы интерфейсов*, *типы массивов* и *типы делегатов*.

Далее представлены общие сведения о системе типов в C#.

* Типы значений
    - Простые типы
        * Целочисленный со знаком: `sbyte`, `short`, `int`,`long`
        * Целочисленный без знака: `byte`, `ushort`, `uint`,`ulong`
        * Символы Юникода: `char`
        * IEEE-представление с плавающей запятой: `float`, `double`
        * Десятичный с повышенной точностью: `decimal`
        * Логическое значение: `bool`
    - Типы перечисления
        * Пользовательские типы в формате `enum E {...}`
    - Типы структур
        * Пользовательские типы в формате `struct S {...}`
    - Типы значений, допускающие значение NULL
        * Расширения других типов значений, допускающие значение `null`
* Ссылочные типы
    - Типы классов
        * Исходный базовым классом для всех типов: `object`
        * Строки Юникода: `string`
        * Пользовательские типы в формате `class C {...}`
    - Типы интерфейса
        * Пользовательские типы в формате `interface I {...}`
    - Типы массивов
        * Одно- и многомерные, например, `int[]` и `int[,]`
    - Тип делегатов
        * Пользовательские типы в формате `delegate int D(...)`

Восемь целочисленных типов обеспечивают поддержку 8-разрядных, 16-разрядных, 32-разрядных и 64-разрядных значений со знаком или без знака.

Два типа чисел с плавающей запятой, `float` и `double`, представляются в следующих форматах IEC 60559: 32-разрядный одиночной точности и 64-разрядный двойной точности.

Тип `decimal` — это 128-разрядный тип данных для финансовых и денежных расчетов.

Тип `bool` в C# используется для представления логических значений, которые могут иметь значение `true` или `false`.

Обработка знаков и строк в C# выполняется в кодировке Юникода. Тип `char` представляет элемент в кодировке UTF-16, а тип `string` представляет последовательность элементов в кодировке UTF-16.

Полный список числовых типов в C#.

* Целочисленный со знаком
    - `sbyte`: 8 бит, в диапазоне от –128 до 127
    - `short`: 16 бит, в диапазоне от –32 768 до 32 767
    - `int`: 32 бита, в диапазоне от –2 147 483 648 до 2 147 483 647
    - `long`: 64 бита, в диапазоне от –9 223 372 036 854 775 808 до 9 223 372 036 854 775 807
* Целочисленный без знака
    - `byte`: 8 бит, в диапазоне от 0 до 255
    - `ushort`: 16 бит, в диапазоне от 0 до 65 535
    - `uint`: 32 бита, в диапазоне от 0 до 4 294 967 295
    - `ulong`: 64 бит, в диапазоне от 0 до 18 446 744 073 709 551 615
* С плавающей запятой
    - `float`: 32 бита, в диапазоне от 1,5 × 10<sup>–45</sup> до 3,4 × 10<sup>38</sup>, с точностью до 7 цифр
    - `double`: 64 бита, в диапазоне от 5,0 × 10<sup>–324</sup> до 1,7 × 10<sup>308</sup>, с точностью до 15 цифр
* Десятичное число
    - `decimal`: 128 бит, в диапазоне по крайней мере от –7,9 × 10<sup>−28</sup> до 7,9 × 10<sup>28</sup>, с точностью не менее 28 цифр
    
Программы C# используют *объявления типов* для создания новых типов. В объявлении типа указываются имя и члены нового типа. Пять категорий типов в C# определяются пользователем: типы классов, типы структур, типы интерфейсов, типы перечисления и типы делегатов.

Тип `class` определяет структуру данных, которая содержит данные-члены (поля) и функции-члены (методы, свойства и т. д.). Классы поддерживают механизмы одиночного наследования и полиморфизма, которые позволяют создавать производные классы, расширяющие и уточняющие определения базовых классов.

Тип `struct` похож на тип класса тем, что он представляет структуру с данными-членами и функциями-членами. Но в отличие от классов, структуры являются типами значений и обычно не требуют выделения памяти из кучи. Типы структуры не поддерживают определяемое пользователем наследование, и все типы структуры неявно наследуют от типа `object`.

Тип `interface` (интерфейс) определяет контракт в виде именованного набора открытых функций-членов. Объект типа `class` или `struct`, реализующий `interface`, должен предоставить реализации для всех функций-членов интерфейса. Тип `interface` может наследовать от нескольких базовых интерфейсов, а `class` или `struct` могут реализовывать несколько интерфейсов.

Тип `delegate` (делегат) представляющий ссылки на методы с конкретным списком параметров и типом возвращаемого значения. Делегаты позволяют использовать методы как сущности, сохраняя их в переменные и передавая в качестве параметров. Делегаты аналогичны типам функций, которые используются в функциональных языках. Также принцип их работы близок к указателям функций из некоторых языков, но в отличие от указателей функций делегаты являются объектно-ориентированными и строго типизированными.

Типы `class`, `struct`, `interface` и `delegate` поддерживают универсальные шаблоны, которые позволяют передавать им другие типы в качестве параметров.

Тип `enum` является отдельным типом со списком именованных констант. Каждый тип `enum` имеет базовый тип, в роли которого выступает одним из восьми целочисленных типов. Набор значений типа `enum` аналогичен набору значений его базового типа.

C# поддерживает одно- и многомерные массивы любого типа. В отличие от перечисленных выше типов, типы массивов не требуется объявлять перед использованием. Типы массивов можно сформировать, просто введя квадратные скобки после имени типа. Например, `int[]` является одномерным массивом значений типа `int`, а `int[,]` — двумерным массивом значений типа `int`, тогда как `int[][]` представляет собой одномерный массив одномерных массивов значений типа `int`.

Типы значений, допускающие значение Null, также не нужно отдельно объявлять перед использованием. Для каждого обычного типа значений `T`, который не допускает значение Null, существует идентичный тип `T?`, который отличается только тем, что может содержать значение `null`. Например `int?` — это тип, который может содержать любое 32-разрядное целое число или значение `null`.

Система типов в C# унифицирована таким образом, что значение любого типа можно рассматривать как `object` (объект). Каждый тип в C# является прямо или косвенно производным от типа класса `object`, и этот тип `object` является исходным базовым классом для всех типов. Чтобы значения ссылочного типа обрабатывались как объекты, им просто присваивается тип `object`. Чтобы значения типов значений обрабатывались как объекты, выполняются операции *упаковки-преобразования* и *распаковки-преобразования*. В следующем примере значение `int` преобразуется в `object`, а затем обратно в `int`.

[!code-csharp[Boxing](../../../samples/snippets/csharp/tour/types-and-variables/Program.cs#L1-L10)]

Если значение для типа значения преобразуется в тип `object`, то для хранения этого значения выделяется экземпляр `object`, который также называется "упаковкой", и значение копируется в эту упаковку. И наоборот, если ссылка типа `object` используется для типа значения, для соответствующего `object` выполняется проверка, является ли он упаковкой правильного типа. Если эта проверка завершается успешно, копируется значение этой упаковки.

Унифицированная система типов C# фактически позволяет преобразовывать типы значений в объекты "по требованию". Такая унификация позволяет применять универсальные библиотеки, использующие тип `object`, как со ссылочными типами, так и с типами значений.

В C# существует несколько типов *переменных*, в том числе поля, элементы массива, локальные переменные и параметры. Переменные представляют места хранения, и каждая переменная имеет тип, который определяет допустимые значения для хранения в этой переменной. Примеры представлены ниже.

* Тип значения, не допускающий значения Null
    - Значение такого типа
* Тип значения, допускающий значение Null
    - Значение `null` или значение такого типа
* object
    - Ссылка `null`, ссылка на объект любого ссылочного типа или ссылка на упакованное значение любого типа значения
* Тип класса
    - Ссылка `null`, ссылка на экземпляр такого типа класса или ссылка на экземпляр любого класса, производного от такого типа класса
* Тип интерфейса
    - Ссылка `null`, ссылка на экземпляр типа класса, который реализует такой тип интерфейса, или ссылка на упакованное значение типа значения, которое реализует такой тип интерфейса
* Тип массива
    - Ссылка `null`, ссылка на экземпляр такого типа массива или ссылка на экземпляр любого совместимого типа массива
* Тип делегата
    - Ссылка `null` или ссылка на экземпляр совместимого типа делегата

>[!div class="step-by-step"]
[Назад](program-structure.md)
[Вперед](expressions.md)
