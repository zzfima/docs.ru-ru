---
title: "Предложение from (справочник по C#) | Microsoft Docs"
ms.custom: ""
ms.date: "12/05/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "devlang-csharp"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "from_CSharpKeyword"
  - "from"
dev_langs: 
  - "CSharp"
helpviewer_keywords: 
  - "from - предложение [C#]"
  - "from - ключевое слово [C#]"
ms.assetid: 1aefd18c-1314-47f8-99ec-9bcefb09e699
caps.latest.revision: 27
caps.handback.revision: 27
author: "BillWagner"
ms.author: "wiwagn"
manager: "wpickett"
---
# Предложение from (справочник по C#)
[!INCLUDE[vs2017banner](../../../csharp/includes/vs2017banner.md)]

Выражение запроса должно начинаться с предложения `from`.  Кроме того, выражение запроса может включать вложенные запросы, начинающиеся с предложения `from`.  Предложение `from` определяет следующее:  
  
-   Источник данных, применительно к которому запрос или вложенный запрос будет выполняться.  
  
-   Локальную *переменную диапазона*, представляющую каждый элемент исходной последовательности.  
  
 Переменная диапазона и источник данных являются строго типизированными.  Указанный в предложении `from` источник данных должен иметь тип <xref:System.Collections.IEnumerable>, <xref:System.Collections.Generic.IEnumerable%601> или производный тип, например <xref:System.Linq.IQueryable%601>.  
  
 В следующем примере источником данных является переменная `numbers`, а `num` является переменной диапазона.  Обратите внимание, что обе переменные являются строго типизированными, хотя и используется ключевое слово [var](../../../csharp/language-reference/keywords/var.md).  
  
 [!code-cs[cscsrefQueryKeywords#1](../../../csharp/language-reference/keywords/codesnippet/CSharp/from-clause_1.cs)]  
  
## Переменная диапазона  
 Компилятор выводит тип переменной диапазона, если источник данных реализует интерфейс <xref:System.Collections.Generic.IEnumerable%601>.  Например, если источник данных имеет тип `IEnumerable<Customer>`, то предполагается, что типом переменной диапазона является `Customer`.  Единственным случаем, когда тип необходимо указывать явным образом, является ситуация, когда источник имеет не универсальный тип `IEnumerable`, а, например, тип <xref:System.Collections.ArrayList>.  Дополнительные сведения см. в разделе [How to: Query an ArrayList with LINQ](../Topic/How%20to:%20Query%20an%20ArrayList%20with%20LINQ.md).  
  
 В предыдущем примере предполагается, типом `num` является `int`.  Так как переменная диапазона является строго типизированной, для нее можно вызывать методы или использовать ее в других операциях.  Например, вместо того чтобы написать `select num`, можно написать `select num.ToString()`, чтобы выражение запроса возвратило последовательность строк, а не целочисленных значений.  Или можно написать `select n + 10`, чтобы выражение возвратило последовательность 14, 11, 13, 12, 10.  Дополнительные сведения см. в разделе [Предложение select](../../../csharp/language-reference/keywords/select-clause.md).  
  
 Переменная диапазона аналогична переменной итерации из инструкции [foreach](../../../csharp/language-reference/keywords/foreach-in.md) за исключением одного очень важного отличия: фактически, в переменной диапазона никогда не хранятся данные, полученные из источника.  Это всего лишь синтаксическое удобство, позволяющее запросу описывать, что произойдет при выполнении запроса.  Дополнительные сведения см. в разделе [Introduction to LINQ Queries \(C\#\)](../../../csharp/programming-guide/concepts/linq/introduction-to-linq-queries.md).  
  
## Составные предложения from  
 В некоторых случаях каждый элемент исходной последовательности может также являться последовательностью или содержать последовательность.  Например, типом источника данных может быть `IEnumerable<Student>`, в котором каждый объект student последовательности содержит список полученных за выполнение тестов баллов.  Для доступа к внутреннему списку, находящемуся в каждом элементе `Student`, можно воспользоваться составными предложениями `from`.  Эта методика аналогична методике использования вложенных инструкций [foreach](../../../csharp/language-reference/keywords/foreach-in.md).  Существует возможность в каждое предложение `from` добавить предложения [where](../../../csharp/language-reference/keywords/partial-method.md) или [orderby](../../../csharp/language-reference/keywords/orderby-clause.md) для фильтрации результатов.  В следующем примере показана последовательность объектов типа `Student`, каждый из которых содержит внутренний список `List` целочисленных значений, представляющих полученные при выполнении тестов баллы.  Для доступа к внутреннему списку можно воспользоваться составным предложением `from`.  При необходимости существует возможность вставлять предложения между двумя предложениями `from`.  
  
 [!code-cs[cscsrefQueryKeywords#2](../../../csharp/language-reference/keywords/codesnippet/CSharp/from-clause_2.cs)]  
  
## Использование нескольких предложений from для выполнения объединения  
 Составное предложение `from` используется для доступа к внутренним коллекциям в едином источнике данных.  Однако запрос может также содержать несколько предложений `from`, генерирующих вспомогательные запросы данных из независимых источников.  Эта методика позволяет выполнять операции соединения определенных типов, выполнение которых невозможно при использовании [предложения join](../../../csharp/language-reference/keywords/join-clause.md).  
  
 В следующем примере показано, каким образом можно использовать для предложения `from` для формирования полного перекрестного соединения двух источников данных.  
  
 [!code-cs[cscsrefQueryKeywords#3](../../../csharp/language-reference/keywords/codesnippet/CSharp/from-clause_3.cs)]  
  
 Дополнительные сведения об операциях соединения, в которых используется несколько предложений `from`, см. раздел [Практическое руководство. Выполнение пользовательских операций соединения](../../../csharp/programming-guide/linq-query-expressions/how-to-perform-custom-join-operations.md).  
  
## См. также  
 [Ключевые слова запроса \(LINQ\)](../../../csharp/language-reference/keywords/query-keywords.md)   
 [Выражения запросов LINQ](../../../csharp/programming-guide/linq-query-expressions/index.md)