---
title: MageUI.exe (средство создания и редактирования манифестов, графический клиент)
ms.date: 03/30/2017
helpviewer_keywords:
- Manifest Generation and Editing tool
- MageUI.exe
ms.assetid: f9e130a6-8117-49c4-839c-c988f641dc14
ms.openlocfilehash: 7d09e1283be8ec75df89957e91f0d8411c125b3b
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2020
ms.locfileid: "74714460"
---
# <a name="mageuiexe-manifest-generation-and-editing-tool-graphical-client"></a>MageUI.exe (средство создания и редактирования манифестов, графический клиент)

Средство MageUI.exe поддерживает те же функциональные возможности, что и средство командной строки Mage.exe, но имеет пользовательский интерфейс Windows. С его помощью можно создавать, редактировать и подписывать манифесты развертывания и приложения. Целевой платформой новых манифестов, созданных с помощью MageUI.exe, является клиентский профиль NET Framework 4. Для предыдущих версий .NET Framework следует использовать предыдущие версии MageUI.exe. При добавлении и удалении сборок из манифеста, а также повторной подписи существующих манифестов MageUI.exe не обновляет манифест для использования клиентского профиля NET Framework 4. Дополнительные сведения см. в разделе [Mage.exe (средство создания и редактирования манифеста)](mage-exe-manifest-generation-and-editing-tool.md).

 Это средство автоматически устанавливается с Visual Studio. Чтобы применить этот инструмент, воспользуйтесь командной строкой разработчика для Visual Studio (или командной строкой Visual Studio в Windows 7). Дополнительные сведения см. в разделе [Командные строки](developer-command-prompt-for-vs.md).

 Две версии программ Mage.exe и MageUI.exe включены в Visual Studio в качестве компонентов. Чтобы просмотреть сведения о версии, запустите программу MageUI.exe, откройте меню **Справка**и выберите пункт **О программе**. В данной документации представлено описание программ Mage.exe и MageUI.exe версии 4.0.x.x.

> [!NOTE]
> MageUI.exe не поддерживает элемент [compatibleFrameworks](/visualstudio/deployment/compatibleframeworks-element-clickonce-deployment) при сохранении манифеста приложения, уже подписанного с помощью сертификата посредством MageUI.exe. Вместо этого средства используйте [Mage.exe](mage-exe-manifest-generation-and-editing-tool.md).  
  
## <a name="uielement-list"></a>Список элементов пользовательского интерфейса  
 В следующей таблице перечислены доступные элементы меню и панели инструментов.  
  
|Get-Help|Меню|Клавиша|Описание:|  
|-------------|----------|--------------|-----------------|  
|**Основные сведения о манифесте приложения Azure Active Directory**|**Файл, Создать**||Создает новый манифест приложения.|  
|**Манифест развертывания**|**Файл, Создать**||Создает новый манифест развертывания.|  
|**Открыть**|**Файл**|CTRL + O|Открывает для редактирования существующий манифест развертывания, манифест приложения или лицензию доверия.|  
|**Закрыть**|**Файл**|CTRL + F4|Закрывает открытый файл.<br /><br /> Если файл был изменен, MageUI.exe выводит запрос о повторной подписи файла открытым ключом, парой ключей или сохраненным сертификатом.|  
|**Сохранить**|**Файл**|CTRL+S|Сохраняет на диск документ, на котором находится фокус пользовательского ввода.|  
|**Сохранить как**|**Файл**||Сохраняет файл на диск, позволяя указать новое имя и местоположение файла.|  
|**Сохранить все**|**Файл**||Сохраняет изменения, внесенные во все файлы, открытые в настоящий момент в программе MageUI.exe.|  
|**Параметры**|**Файл**||Открывает диалоговое окно **Параметры**. Дополнительные сведения см. в следующем разделе.|  
|**Выход**|**Файл**|ALT+F4|Закрывает программу MageUI.exe.|  
|**Вырезать**|**Edit** (Изменение)|CTRL + X|Удаляет выделенный текст из приложения и перемещает его в буфер обмена системы.|  
|**Copy**.|**Edit** (Изменение)|CTRL+C|Копирует выделенный текст в буфер обмена системы.|  
|**Вставить**|**Edit** (Изменение)|CTRL + V|Вставляет текст из буфера обмена системы в активный текстовый элемент.|  
|**Удаление**|**Edit** (Изменение)||Удаляет выбранный в списке элемент, например лицензию доверия на вкладке **Манифест развертывания**.|  
|**Закрыть все**|**Окно**||Закрывает все файлы, открытые в MageUI.exe в настоящий момент. Для файлов, которые требуется сохранить, MageUI.exe выводит соответствующий запрос. MageUI.exe также отображает запрос на выбор ключа подписи для каждого неподписанного или измененного файла.|  
|**О программе**|**Справка**||Отображает сведения о версии MageUI.exe и соответствующих авторских правах.|  
  
## <a name="preferences-dialog-box"></a>Диалоговое окно "Параметры"  
 Диалоговое окно **Параметры** содержит следующие элементы.  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Подписывать при сохранении**|Выводит запрос на подпись файла при сохранении внесенных изменений.|  
|**Использовать сертификат подписи по умолчанию**|Использует для подписи всех файлов ключ, введенный в текстовом поле **Файл сертификата**. В результате будет отключен запрос на подпись, который обычно выводится при сохранении файла, если выбран параметр **Подписывать при сохранении**. Для выбора файла ключа нажмите кнопку с многоточием ( **...** ), расположенную рядом с текстовым полем **Файл сертификата**.|  
|Алгоритм хэш-кода|Определяет алгоритм создания дайджестов зависимостей. Допустимые значения: sha256RSA и sha1RSA. Значение по умолчанию — SHA1. Используется как в манифестах приложения, так и в манифестах развертывания. Если при сохранении манифеста пользователь предоставляет сертификат, то при создании дайджестов зависимостей используются указанные в сертификате алгоритмы.|  
  
## <a name="signing-options-dialog-box"></a>Диалоговое окно "Параметры создания подписей"  
 Диалоговое окно **Параметры создания подписей** отображается при сохранении манифеста или лицензии доверия в первый раз, а также при изменении манифеста или лицензии доверия. Это окно появляется, только если в диалоговом окне **Параметры** выбран параметр **Подписывать при сохранении**. При подписи манифеста, задающего значение в текстовом поле **URI-код метки времени**, необходимо подключение к Интернету.  
  
 Это диалоговое окно содержит следующие элементы.  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Подписывать файлом сертификата**|Подписывает манифест цифровым сертификатом, хранящимся в файловой системе.|  
|**Файл**|Предоставляет область для ввода пути к PFX-файлу, представляющему сертификат.|  
|**...**|Открывает диалоговое окно **Выбор файла**, где можно выбрать существующий PFX-файл.|  
|**Создать**|Создает новый PFX-файл, не подлежащий проверке при помощи центра сертификации. Подробнее о типах сертификатов, используемых для подписи развертываний ClickOnce, см. в разделе [Общие сведения о развертывании доверенных приложений](/visualstudio/deployment/trusted-application-deployment-overview).|  
|**Пароль**|Предоставляет область для ввода пароля, используемого для подписи этим сертификатом. Если пароль не требуется, это поле можно оставить пустым.|  
|**Подписывать сохраненным сертификатом**|Отображает список цифровых сертификатов, находящихся в хранилище сертификатов на компьютере, в котором можно выбрать нужный сертификат.|  
|**URI-код метки времени**|Отображает URL-адрес (уникальный код ресурса) службы цифровых меток времени. Установка меток времени в манифестах предотвращает необходимость повторной подписи манифестов, когда срок действия цифрового сертификата истекает до развертывания следующей версии приложения. Дополнительные сведения см. в статье [Члены программы корневых сертификатов Windows](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2012-R2-and-2012/dn265983(v=ws.11)) и в разделе [ClickOnce и технология Authenticode](/visualstudio/deployment/clickonce-and-authenticode).|  
|**Не подписывать**|Позволяет сохранить манифест без добавления подписи из цифрового сертификата.|  
  
## <a name="tab-and-panel-descriptions"></a>Описания вкладок и областей  
 Когда документ открывается в MageUI.exe, он отображается на отдельной вкладке. Каждая вкладка содержит набор областей свойств. Области содержат сгруппированные поднаборы данных документа.  
  
### <a name="application-manifest-tab"></a>Вкладка "Манифест приложения"  
 На вкладке **Манифест приложения** приводится содержимое манифеста приложения. В манифесте приложения описаны все файлы, включенные в развертывание, а также разрешения, требуемые для выполнения приложения на клиентском компьютере.  
  
 Вкладка **Манифест приложения** содержит перечисленные ниже вкладки.  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Название**|Задает идентификационные сведения о развертывании.|  
|**Описание**|Задает сведения об издателе, продукте и поддержке.|  
|**Параметры приложения**|Определяет, является ли это приложение браузерным и является ли этот манифест источником информации о доверии.|  
|**Файлы**|Задает все файлы, образующие это развертывание.|  
|**Требуемые разрешения**|Задает минимальный набор разрешений, требуемый для выполнения приложения на клиентском компьютере.|  
  
### <a name="name-tab"></a>Вкладка "Имя"  
 При создании или открытии манифеста приложения отображается вкладка **Имя**. Она содержит уникальный идентификатор развертывания. На ней также может указываться допустимая целевая платформа.  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Название**|Обязательный. Имя манифеста приложения. Как правило, совпадает с именем файла.|  
|**Версия**|Обязательный. Номер версии развертывания в форме *N.N.N.N*. Обязательным является только первый основной номер сборки. Например, для приложения версии 1.0 допустимы значения `1`, `1.0`, `1.0.0` и `1.0.0.0`.|  
|**Процессор**|Необязательный параметр. Архитектура компьютера, в которой может выполняться это развертывание. Значение по умолчанию — `msil`, то есть язык MSIL, который является форматом по умолчанию для всех управляемых сборок. Это поле следует изменять, если была выполнена предварительная компиляция сборок приложения для конкретной архитектуры. Подробнее о предварительной компиляции см. в разделе [Ngen.exe (генератор образов в машинном коде)](ngen-exe-native-image-generator.md).|  
|**Язык и региональные параметры**|Необязательный параметр. Состоящий из двух частей ISO-код страны и региона, где будет выполняться приложение. Значение по умолчанию: `neutral`.|  
|**Токен открытого ключа**|Необязательный параметр. Открытый ключ, которым был подписан этот манифест приложения. Если это новый или неподписанный манифест, в этом поле будет значение `Unsigned`.|  
  
### <a name="description-tab"></a>Вкладка "Описание"  
 Эти сведения обычно содержатся в манифесте развертывания. Эти поля можно изменять только в том случае, если на вкладке **Параметры приложения** установлен флажок **Использовать манифест приложения для доверенной информации**.  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Издатель**|Имя лица или организации, ответственных за приложение. Это значение используется как имя папки в меню "Пуск".|  
|**Продукт**|Полное название продукта. Если на вкладке **Параметры развертывания** манифеста развертывания для элемента **Тип приложения** выбрано значение **Установить локально**, это название появится в ссылке меню **Пуск** и в диалоговом окне **Установка и удаление программ** для этого приложения.|  
|**Техническая поддержка**|URL-адрес, по которому заказчики могут получить справку и поддержку по приложению.|  
  
### <a name="application-options-tab"></a>Вкладка "Параметры приложения"  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Приложение браузера Windows Presentation Foundation**|Указывает, является ли это приложение приложением WPF, выполняемым в браузере как приложение браузера XAML (XBAP).|  
|**Использовать манифест приложения для доверенной информации**|Указывает, содержит ли этот манифест доверенную информацию.|  
  
### <a name="files-tab"></a>Вкладка "Файлы"  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Каталог приложения**|Каталог, в котором находятся файлы приложения. Для выбора каталога нажмите кнопку с многоточием ( **…** ).|  
|**Заполнить**|Добавляет в манифест приложения все файлы из каталога приложения и его подкаталогов. Если средство MageUI.exe находит в каталоге единственный исполняемый файл, оно автоматически отмечает его как точку входа, то есть этот файл будет выполнен первым при запуске приложения ClickOnce на клиентском компьютере.|  
|**Файлы приложения**|Список всех файлов в приложении. Каждый файл имеет три редактируемых атрибута, которые рассматриваются ниже.|  
|**Тип файла**|Файл может иметь один из четырех следующих типов:<br /><br /> — Нет.<br />— Точка входа. Основной исполняемый файл приложения. Только один исполняемый файл может быть помечен как точка входа.<br />— Файл данных. Файл, например в формате XML, который предоставляет данные приложению.<br />— Файл значка. Значок приложения, который отображается на рабочем столе или в углу окна приложения.|  
|**Необязательно**|Файлы, отмеченные как необязательные, не загружаются при первичной установке или обновлении, однако они могут быть загружены с помощью API развертывания по запросу System.Deployment во время выполнения. Подробнее см. в разделе [Пошаговое руководство. Загрузка сборок по требованию с помощью API развертывания ClickOnce с использованием конструктора](/visualstudio/deployment/walkthrough-downloading-assemblies-on-demand-with-the-clickonce-deployment-api-using-the-designer).|  
|**Группирование**|Метка для набора необязательных файлов. Метку "Группа" можно применить к набору файлов, а затем воспользоваться API развертывания по запросу, чтобы загрузить пакет файлов в одном вызове API.|  
  
### <a name="permissions-required-tab"></a>Вкладка "Требуемые разрешения"  
 Вкладка **Требуемые разрешения** позволяет предоставить приложению более широкий доступ к локальному компьютеру по сравнению с доступом, определенным параметрами по умолчанию. Дополнительные сведения см. в разделе [Защита приложений ClickOnce](/visualstudio/deployment/securing-clickonce-applications).  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Тип набора разрешений**|Минимальный набор разрешений, требуемый для выполнения данного приложения на клиентском компьютере. Описание наборов разрешений и требуемых ими разрешений см. в разделе [Именованные наборы разрешений](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/4652tyx7(v=vs.100)).|  
|**Подробные сведения**|XML-код, созданный для манифеста приложения, который должен представлять набор разрешений. Для редактирования этого XML-кода вручную необходимо хорошо понимать формат XML-кода манифеста приложения. Дополнительные сведения см. в разделе [Манифест приложения ClickOnce](/visualstudio/deployment/clickonce-application-manifest).|  
  
### <a name="deployment-manifest-tab"></a>Вкладка "Манифест развертывания"  
 Вкладка **Манифест развертывания** содержит перечисленные ниже вкладки.  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Название**|Задает идентификационные сведения о развертывании.|  
|**Описание**|Задает сведения об издателе, продукте и поддержке.|  
|**Параметры развертывания**|Задает дополнительные сведения о развертывании, такие как тип приложения и расположение запуска.|  
|**Параметры обновления**|Указывает, как часто ClickOnce будет проверять наличие обновлений приложения.|  
|**Ссылка приложения**|Задает манифест приложения для развертывания.|  
  
### <a name="name-tab"></a>Вкладка "Имя"  
 При создании или открытии манифеста развертывания отображается вкладка **Имя**. Она содержит уникальный идентификатор развертывания. На ней также может указываться допустимая целевая платформа.  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Название**|Обязательный. Имя манифеста развертывания. Как правило, совпадает с именем файла.|  
|**Версия**|Обязательный. Номер версии развертывания в форме *N.N.N.N*. Обязательным является только первый основной номер сборки. Например, для приложения версии 1.0 допустимы значения `1`, `1.0`, `1.0.0` и `1.0.0.0`.|  
|**Процессор**|Необязательный параметр. Архитектура компьютера, в которой может выполняться это развертывание. Значение по умолчанию — `msil`, то есть язык MSIL, который является форматом по умолчанию для всех управляемых сборок. Это поле следует изменять, если была выполнена компиляция сборок приложения для конкретной архитектуры.|  
|**Язык и региональные параметры**|Необязательный параметр. Состоящий из двух частей ISO-код страны и региона, где будет выполняться приложение. Значение по умолчанию: `neutral`.|  
|**Токен открытого ключа**|Необязательный параметр. Открытый ключ, которым был подписан этот манифест развертывания. Если это новый или неподписанный манифест, в этом поле будет значение `Unsigned`.|  
  
### <a name="description-tab"></a>Вкладка "Описание"  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Издатель**|Обязательный. Имя лица или организации, ответственных за приложение. Это значение используется как имя папки в меню "Пуск".|  
|**Продукт**|Обязательный. Полное название продукта. Если на вкладке **Параметры развертывания** для элемента **Тип приложения** выбрано значение **Установить локально**, это название появится в ссылке меню **Пуск** и в диалоговом окне **Установка и удаление программ** для этого приложения.|  
|**Техническая поддержка**|Необязательный параметр. URL-адрес, по которому заказчики могут получить справку и поддержку по приложению.|  
  
### <a name="deployment-options-tab"></a>Вкладка "Параметры развертывания"  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Тип приложения**|Необязательный параметр. Указывает, устанавливается ли это приложение на клиентский компьютер (**Установить локально**), выполняется по сети (**Только в сети**) или является приложением WPF, выполняемым в браузере (**Приложение браузера WPF**). Значение по умолчанию — **Установить локально**.|  
|**Местоположение начала**|Необязательный параметр. URL-адрес, с которого должно фактически запускаться приложение. Полезно при развертывании с компакт-диска приложения, которое должно обновляться по сети.|  
|**Включить в манифест начальное расположение (ProviderURL)**|Необязательный параметр. Задает URL-адрес, который приложение ClickOnce будет использовать для обновлений приложения.|  
|**Автоматически запустить приложение после установки**|Обязательный. Указывает, что приложение ClickOnce должно запускаться сразу же после первоначальной установки с URL-адреса. По умолчанию этот флажок установлен.|  
|**Разрешить передачу параметров URL в приложение**|Обязательный. Разрешает передачу данных параметров в приложение ClickOnce с помощью строки запроса, добавленной к URL-адресу манифеста развертывания. По умолчанию этот флажок снят.|  
|**Использовать расширение файла DEPLOY**|Обязательный. Если этот флажок установлен, все файлы манифеста приложения должны иметь расширение .deploy. По умолчанию этот флажок снят.|  
  
### <a name="update-options-tab"></a>Вкладка "Параметры обновления"  
 Вкладка **Параметры обновления** содержит указанные здесь параметры только в том случае, если в поле выбора **Тип приложения** на вкладке **Имя** задано значение **Установить локально**.  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Это приложение должно проверять наличие обновлений**|Указывает, должно ли приложение ClickOnce проверять наличие обновлений. Если этот флажок не установлен, приложение не проверяет наличие обновлений, пока разработчик не обновит его программно с помощью интерфейсов API в пространстве имен <xref:System.Deployment.Application>.|  
|**Выберите, когда приложение должно проверять наличие обновлений**|Возможны два варианта проверки обновлений:<br /><br /> -   **Перед запуском приложения**. Проверка обновлений выполняется перед запуском приложения.<br />-   **После запуска приложения**. Проверка наличия обновлений начинается после инициализации главной формы приложения и выполняется при следующем запуске приложения.|  
|**Частота проверки наличия обновлений**|Определяет, как часто приложение ClickOnce должно проверять наличие обновлений.<br /><br /> -   **Проверять при каждом запуске приложения**. ClickOnce будет проверять наличие обновлений всякий раз, когда пользователь открывает приложение.<br />-   **Проверять каждые**: выберите единицу измерения (часы, дни или недели) и интервал времени для проверки наличия обновлений.|  
|**Укажите минимальную требуемую версию для данного приложения**|Необязательный параметр. Указывает, что конкретная версия приложения является обязательной к установке, не разрешая пользователям работать с более ранней версией.|  
|**Версия**|Обязательно, если установлен флажок **Укажите минимальную требуемую версию для данного приложения**. Номер версии должен задаваться в следующем виде: *N.N.N.N*. Обязательным является только первый основной номер сборки. Например, для приложения версии 1.0 допустимы значения `1`, `1.0`, `1.0.0` и `1.0.0.0`.|  
  
### <a name="application-reference-tab"></a>Вкладка «Ссылка приложения»  
 Вкладка **Ссылка приложения** содержит те же поля, что и вкладка **Имя**, описанная ранее в этом разделе. Единственным исключением является указанное ниже поле.  
  
|Элемент пользовательского интерфейса|Описание:|  
|----------------|-----------------|  
|**Выбрать манифест**|Позволяет выбрать манифест приложения. Остальные поля на этой странице заполняются при выборе манифеста приложения.|  
  
## <a name="see-also"></a>См. также раздел

- [Развертывание и безопасность технологии ClickOnce](/visualstudio/deployment/clickonce-security-and-deployment)
- [Разбор примера: развертывание вручную приложения ClickOnce](/visualstudio/deployment/walkthrough-manually-deploying-a-clickonce-application)
- [Mage.exe (средство создания и редактирования манифеста)](mage-exe-manifest-generation-and-editing-tool.md)
