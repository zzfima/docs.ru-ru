---
title: Руководство по развертыванию .NET Framework для администраторов
ms.date: 04/10/2018
helpviewer_keywords:
- administrator's guide, deploying .NET Framework
- deployment [.NET Framework], administrator's guide
ms.assetid: bee14036-0436-44e8-89f5-4bc61317977a
ms.openlocfilehash: be15ce0b0bed37da6fe400e98bfdd118c48f7ba0
ms.sourcegitcommit: 5f236cd78cf09593c8945a7d753e0850e96a0b80
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/07/2020
ms.locfileid: "75716527"
---
# <a name="net-framework-deployment-guide-for-administrators"></a>Руководство по развертыванию .NET Framework для администраторов

В этой статье представлено пошаговое описание развертывания администратором платформы .NET Framework 4.5 и системных зависимостей в сети с помощью Microsoft Endpoint Configuration Manager. В рамках этой статьи предполагается, что все целевые клиентские компьютеры соответствуют минимальным требованиям для .NET Framework. Список требований к программному обеспечению и оборудованию для установки .NET Framework 4.5 см. в разделе [Системные требования](../get-started/system-requirements.md).

> [!NOTE]
> Упоминаемое в этом документе программное обеспечение, в том числе .NET Framework 4.5, Configuration Manager и Active Directory, используется в соответствии с условиями лицензионного соглашения. В приведенных здесь инструкциях предполагается, что эти условия лицензионного соглашения были прочитаны и приняты соответствующими приобретателями лицензий на программное обеспечение. Данные инструкции не предполагают отказа от каких-либо условий этих лицензионных соглашений.
>
> Сведения о поддержке платформы .NET Framework см. на странице [Официальная политика поддержки .NET Framework](https://dotnet.microsoft.com/platform/support/policy/dotnet-framework) веб-сайта службы поддержки Майкрософт.

В этом разделе содержатся следующие подразделы.

- [Процесс развертывания](#the_deployment_process)
- [Развертывание .NET Framework](#deploying_in_a_test_environment)
- [Создание коллекции](#creating_a_collection)
- [Создание пакета и программы](#creating_a_package)
- [Выбор точки распространения](#select_dist_point)
- [Развертывание пакета](#deploying_package)
- [Ресурсы](#resources)
- [Устранение неполадок](#troubleshooting)

<a name="the_deployment_process"></a>

## <a name="the-deployment-process"></a>Процесс развертывания

После создания инфраструктуры поддержки распространяемый пакет .NET Framework можно развернуть на компьютерах сети с помощью Configuration Manager. Построение инфраструктуры включает в себя создание и определение пяти основных областей: коллекции, пакет и программа для программного обеспечения, точки распространения и развертывания.

- **Коллекции** — группы ресурсов Configuration Manager, такие как пользователи, группы пользователей или компьютеры, на которых развертывается .NET Framework. Дополнительные сведения см. в статье [Общие сведения о коллекциях в System Center Configuration Manager](https://docs.microsoft.com/configmgr/core/clients/manage/collections/introduction-to-collections) в библиотеке документации по Configuration Manager.

- **Пакеты и программы** обычно представляют программные приложения, которые подлежат установке на клиентском компьютере. Сюда также могут относиться отдельные файлы, обновления и даже отдельные команды. Дополнительные сведения см. в статье [Пакеты и программы в Configuration Manager](https://docs.microsoft.com/configmgr/apps/deploy-use/packages-and-programs) в библиотеке документации по Configuration Manager.

- **Точки распространения** — роли системы сайта Configuration Manager, где хранятся файлы, необходимые для работы программного обеспечения на клиентских компьютерах. Когда клиент Configuration Manager получает и обрабатывает развертывание программного обеспечения, он связывается с точкой распространения для загрузки содержимого, связанного с программным обеспечением, и запуска процесса установки. Дополнительные сведения см. в статье [Основные принципы управления содержимым в Configuration Manager](https://docs.microsoft.com/configmgr/core/plan-design/hierarchy/fundamental-concepts-for-content-management) в библиотеке документации по Configuration Manager.

- **Развертывания** сообщают подходящим членам целевой коллекции о необходимости установить программный пакет.

> [!IMPORTANT]
> Процедуры в этом разделе содержат обычные параметры для создания и развертывания пакета и программы и могут не охватывать все возможные настройки. Другие варианты развертывания Configuration Manager см. в [библиотеке документации по Configuration Manager](https://docs.microsoft.com/previous-versions/system-center/system-center-2012-R2/gg682041%28v=technet.10%29).

<a name="deploying_in_a_test_environment"></a>

## <a name="deploying-the-net-framework"></a>Развертывание .NET Framework

Для развертывания автоматической установки платформы .NET Framework 4.5, при которой пользователи не участвуют в процессе установки, можно использовать Configuration Manager. Выполните следующие действия.

1. [Создайте коллекцию](#creating_a_collection).

2. [Создайте пакет и программу для распространяемого пакета .NET Framework](#creating_a_package).

3. [Выберите точку распространения](#select_dist_point).

4. [Осуществите развертывание пакета](#deploying_package).

<a name="creating_a_collection"></a>

### <a name="create-a-collection"></a>Создание коллекции

На этом этапе необходимо выбрать компьютеры, на которых будет выполнено развертывание пакета и программы, и объединить их в коллекцию устройств. Для создания коллекции в Configuration Manager можно использовать правила непосредственного членства (где необходимо вручную указать членов коллекции) или правила запросов (где Configuration Manager определяет членов коллекции на основе заданных критериев). Дополнительные сведения о правилах членства, включая правила непосредственного членства и правила запросов, см. в статье [Введение в коллекции в Configuration Manager](https://docs.microsoft.com/configmgr/core/clients/manage/collections/introduction-to-collections) в библиотеке документации по Configuration Manager.

Создание коллекции

1. В консоли Configuration Manager выберите **Активы и соответствие**.

2. В рабочей области **Активы и соответствие** выберите **Коллекции устройств**.

3. На вкладке **Главная** в группе **Создать** выберите **Создать коллекцию устройств**.

4. На странице**Общие** **мастера создания коллекций устройств** введите имя коллекции.

5. Выберите **Обзор**, чтобы определить ограничивающую коллекцию.

6. На странице **Правила членства в коллекции** выберите **Добавить правило**, после чего выберите **Прямое правило**, чтобы открыть **мастер создания статических правил членства в коллекции**. Нажмите кнопку **Далее**.

7. На странице **Поиск ресурсов** в списке **Класс ресурсов** выберите **Системный ресурс**. В списке **Имя атрибута** выберите пункт **Имя**. В поле **Значение** введите `%`% **, а затем нажмите кнопку** Далее.

8. На странице **Выделите ресурсы** установите флажок для каждого компьютера, на котором вы хотите развернуть .NET Framework. Нажмите кнопку **Далее**, после чего завершите работу мастера.

9. На странице **Правила членства в коллекции** **мастера создания коллекций устройств** нажмите кнопку **Далее**, после чего завершите работу мастера.

<a name="creating_a_package"></a>

### <a name="create-a-package-and-program-for-the-net-framework-redistributable-package"></a>Создание пакета и программы для распространяемого пакета .NET Framework

На следующих этапах вручную создается пакет для распространяемого пакета .NET Framework. Пакет будет содержать заданные параметры для установки платформы .NET Framework и расположение, из которого этот пакет будет распространяться на целевые компьютеры.

Создание пакета

1. В консоли Configuration Manager выберите **Библиотека программного обеспечения**.

2. В рабочей области **Библиотека программного обеспечения** разверните узел **Управление приложениями**, а затем выберите **Пакеты**.

3. На вкладке **Главная** в группе **Создать** выберите **Создать пакет**.

4. На странице **Пакет** **мастера создания пакетов и программ** введите следующие сведения:

    - Имя: `.NET Framework 4.5`

    - Производитель: `Microsoft`

    - Язык. `English (US)`

5. Выберите **Этот пакет содержит исходные файлы**, после чего нажмите кнопку **Обзор**, чтобы выбрать локальную или сетевую папку, в которой содержатся файлы установки .NET Framework. После выбора папки нажмите кнопку **ОК**, а затем нажмите кнопку **Далее**.

6. На странице **Тип программы** мастера выберите **Стандартная программа**, после чего нажмите кнопку **Далее**.

7. На странице **Программа** **мастера создания пакетов и программ** введите следующие сведения:

    1. **Имя:** `.NET Framework 4.5`

    2. **Командная строка:** `dotNetFx45_Full_x86_x64.exe /q /norestart /ChainingPackage ADMINDEPLOYMENT` (параметры командной строки описаны в таблице ниже)

    3. **Выполнить:** выберите **Скрытый**.

    4. **Требования для запуска:** выберите параметр выполнения программы независимо от того, вошел ли пользователь в систему.

8. На странице **Требования** нажмите кнопку **Далее**, чтобы принять значения по умолчанию, после чего завершите работу мастера.

В следующей таблице описываются параметры командной строки, указанные на шаге 7.

|Параметр|Описание|
|------------|-----------------|
|**/q**|Включает автоматический режим. Ввод данных пользователем необязателен, вывод не отображается.|
|**/norestart**|Запрещает программе установки автоматически перезагружать компьютер. При использовании этого параметра Configuration Manager должен обрабатывать перезагрузку компьютера.|
|**/chainingpackage** *PackageName*|Указывает имя пакета, осуществляющего привязку. Эта информация передается вместе с другими данными сеанса установки для тех, кто подписался на программу улучшения качества программного обеспечения корпорации Майкрософт (CEIP). Если в имени пакета присутствуют пробелы, в качестве разделителей необходимо использовать двойные кавычки (например, **/chainingpackage "Chaining Product"** ).|

На этих этапах создается пакет с именем .NET Framework 4.5. Программа развертывает автоматическую установку .NET Framework 4.5. При автоматической установке пользователи не взаимодействуют с процедурой установки, и привязываемое приложение должно захватить код возврата и обработать перезагрузку; см. раздел с описанием [получения сведений о ходе выполнения из пакета установки](https://docs.microsoft.com/previous-versions/cc825975(v=vs.100)).

<a name="select_dist_point"></a>

### <a name="select-a-distribution-point"></a>Выбор точки распространения

Для распространения пакета и программы на клиентских компьютерах необходимо сначала назначить систему сайта в качестве точки распространения, после чего передать на нее пакет и программу.

Чтобы выбрать точку распространения для пакета .NET Framework 4.5, созданную в предыдущем разделе, выполните следующие действия:

1. В консоли Configuration Manager выберите **Библиотека программного обеспечения**.

2. В рабочей области **Библиотека программного обеспечения** разверните узел **Управление приложениями**, а затем выберите **Пакеты**.

3. В списке пакетов выберите пакет **.NET Framework 4.5**, созданный в предыдущем разделе.

4. На вкладке **Главная** в группе **Развертывание** выберите **Распространение содержимого**.

5. На вкладке **Общие** **мастера распространения содержимого** нажмите кнопку **Далее**.

6. На странице **Места распространения содержимого** мастера нажмите кнопку **Добавить**, после чего выберите **Точка распространения**.

7. В диалоговом окне **Добавление точек распространения** выберите точки распространения, которые будут содержать пакет и программу, после чего нажмите кнопку **ОК**.

8. Завершите работу мастера.

Теперь пакет содержит все сведения, необходимые для автоматического развертывания платформы .NET Framework 4.5. Перед развертыванием пакета и программы убедитесь, что она установлена в точке распространения (см. раздел "Мониторинг статуса содержимого" в статье [Мониторинг содержимого, распространенного с помощью Configuration Manager](https://docs.microsoft.com/configmgr/core/servers/deploy/configure/monitor-content-you-have-distributed) в библиотеке документации по Configuration Manager).

<a name="deploying_package"></a>

### <a name="deploy-the-package"></a>Развертывание пакета

Чтобы выполнить развертывание пакета и программы .NET Framework 4.5, выполните следующие действия:

1. В консоли Configuration Manager выберите **Библиотека программного обеспечения**.

2. В рабочей области **Библиотека программного обеспечения** разверните узел **Управление приложениями**, а затем выберите **Пакеты**.

3. В списке пакетов выберите созданный вами пакет **.NET Framework 4.5**.

4. На вкладке **Главная** в группе **Развертывание** выберите **Развертывание**.

5. На странице **Общие** **мастера развертывания программного обеспечения** нажмите кнопку **Обзор**, после чего выберите ранее созданную коллекцию. Нажмите кнопку **Далее**.

6. На странице **Содержимое** мастера убедитесь, что отображается нужная точка распространения, после чего нажмите кнопку **Далее**.

7. На странице **Параметры развертывания** убедитесь, что в поле **Действие** выбрано **Установить**, а в поле **Цель** — **Обязательно**. После этого установка программного пакета на целевых компьютерах будет обязательной. Нажмите кнопку **Далее**.

8. На странице **Планирование** укажите, когда нужно установить .NET Framework. Выберите **Создать**, чтобы задать время установки, или настройте выполнение установки при входе или выходе пользователя либо как можно скорее. Нажмите кнопку **Далее**.

9. На странице **Взаимодействие с пользователем** оставьте значения по умолчанию и нажмите кнопку **Далее**.

    > [!WARNING]
    > В вашей рабочей среде могут использоваться политики, требующие выбора других параметров для расписания развертывания. Сведения об этих параметрах см. в статье [Свойства имени объявления: вкладка "Расписание"](https://docs.microsoft.com/previous-versions/system-center/configuration-manager-2007/bb694016%28v=technet.10%29).

10. На странице **Точки распространения** оставьте значения по умолчанию и нажмите кнопку **Далее**.

11. Завершите работу мастера. Ход развертывания можно отслеживать в узле **Развертывания** рабочей области **Отслеживание**.

Произойдет развертывание пакета в целевой коллекции и начнется автоматическая установка платформы .NET Framework 4.5. Дополнительные сведения о кодах ошибок установки .NET Framework 4.5 см. подразделе [Коды возврата](#return_codes) далее в этом разделе.

<a name="resources"></a>

## <a name="resources"></a>Ресурсы

Для получения дополнительных сведений об инфраструктуре для тестирования развертывания распространяемого пакета .NET Framework 4.5 обратитесь к следующим ресурсам.

**Active Directory, DNS, DHCP**

- [Active Directory Domain Services](/windows/desktop/ad/active-directory-domain-services) (Доменные службы Active Directory)

- [Domain Name System (DNS)](/windows-server/networking/dns/dns-top) (Служба доменных имен (DNS))

- [Dynamic Host Configuration Protocol (DHCP)](/windows-server/networking/technologies/dhcp/dhcp-top) (Протокол DHCP)

**SQL Server 2008**

- [Установка SQL Server 2008 (видеоматериал по SQL Server)](https://docs.microsoft.com/previous-versions/sql/sql-server-2008/dd299415(v=sql.100))

- [Обзор безопасности SQL Server 2008 для администраторов баз данных](https://download.microsoft.com/download/a/c/d/acd8e043-d69b-4f09-bc9e-4168b65aaa71/SQL2008SecurityOverviewforAdmins.docx)

**System Center 2012 Configuration Manager (точка управления, точка распространения)**

- [Администрирование сайтов для System Center 2012 Configuration Manager](https://docs.microsoft.com/previous-versions/system-center/system-center-2012-R2/gg681983%28v=technet.10%29)

- [Планирование и развертывание одного сайта Configuration Manager](https://docs.microsoft.com/previous-versions/system-center/configuration-manager-2007/bb680961%28v=technet.10%29)

**Клиент System Center 2012 Configuration Manager для компьютеров под управлением Windows**

- [Развертывание клиентов для System Center 2012 Configuration Manager](https://docs.microsoft.com/previous-versions/system-center/system-center-2012-R2/gg699391%28v=technet.10%29)

<a name="troubleshooting"></a>

## <a name="troubleshooting"></a>Устранение неполадок

### <a name="log-file-locations"></a>Расположение файлов журнала

Во время установки .NET Framework создаются следующие файлы журнала:

- %temp%\Microsoft .NET Framework *версия*\*.txt
- %temp%\Microsoft .NET Framework *версия*\*.html

Здесь *версия* — это устанавливаемая версия платформы .NET Framework, например 4.5 или 4.7.2.

Вы также можете указать каталог, в который записываются файлы журнала, с помощью параметра командной строки `/log` в команде установки .NET Framework. Дополнительные сведения см. в статье [Руководство по развертыванию .NET Framework для разработчиков](deployment-guide-for-developers.md#command-line-options).

Для сбора файлов журнала .NET Framework и создания CAB-файла, уменьшающего размер файлов, можно использовать [средство сбора журналов](https://www.microsoft.com/download/details.aspx?id=12493).

<a name="return_codes"></a>

### <a name="return-codes"></a>Коды возврата

В следующей таблице перечислены наиболее распространенные коды возврата программы установки распространяемого пакета .NET Framework 4.5. Коды возврата одинаковы для всех версий установщика.

Подробные сведения см. в разделе [Коды ошибок загрузки](#additional_error_codes).

|Код возврата|Описание|
|-----------------|-----------------|
|0|Установка успешно завершена.|
|1602|Установка отменена пользователем.|
|1603|Во время установки произошла неустранимая ошибка.|
|1641|Для завершения установки необходима перезагрузка. Сообщение указывает на успешное завершение действия.|
|3010|Для завершения установки необходима перезагрузка. Сообщение указывает на успешное завершение действия.|
|5100|Компьютер пользователя не отвечает системным требованиям.|

<a name="additional_error_codes"></a>

### <a name="download-error-codes"></a>Коды ошибок загрузки

- [Коды ошибок Background Intelligent Transfer Service (BITS)](/windows/desktop/Bits/bits-return-values)

- [Коды ошибок моникера URL](https://docs.microsoft.com/previous-versions/windows/internet-explorer/ie-developer/platform-apis/ms775145%28v=vs.85%29)

- [Коды ошибок WinHttp](/windows/desktop/WinHttp/error-messages)

Другие коды ошибок

- [Коды ошибок установщика Windows](/windows/desktop/msi/error-codes)

- [Коды результатов агента обновления Windows](https://docs.microsoft.com/previous-versions/windows/it-pro/windows-server-2008-R2-and-2008/cc720442(v=ws.10))

## <a name="see-also"></a>См. также

- [Руководство по развертыванию для разработчиков](deployment-guide-for-developers.md)
- [Требования к системе](../get-started/system-requirements.md)
