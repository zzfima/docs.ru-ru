---
title: Устаревшие возможности .NET Framework
ms.custom: updateeachrelease
ms.date: 04/02/2019
helpviewer_keywords:
- obsolete [.NET Framework]
- what's obsolete [.NET Framework]
- deprecated [.NET Framework]
ms.assetid: d356a43a-73df-4ae2-a457-b9628074c7cd
ms.openlocfilehash: eda60ce9e1396805541229c9756b13cdd167dc72
ms.sourcegitcommit: 7088f87e9a7da144266135f4b2397e611cf0a228
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/11/2020
ms.locfileid: "75901336"
---
# <a name="whats-obsolete-in-the-net-framework-class-library"></a>Что устарело в библиотеке классов .NET Framework

Изменения .NET с течением времени. В каждой новой версии добавляются новые типы и члены типов, предоставляющие новые функциональные возможности. Существующие типы и их члены постепенно изменяются. Например, некоторые типы становятся менее важными из-за того, что поддерживаемая ими технология заменяется другой, а некоторые методы вытесняются новыми, более удобными в использовании.

Платформа .NET Framework и среда CLR ориентированы на поддержку обратной совместимости (которая позволяет запускать приложения, разработанные в одной версии платформы .NET Framework, в более новой версии .NET Framework). Это затрудняет простое удаление типа или его члена. Вместо этого платформа .NET указывает, что отдельный тип или член типа больше не следует использовать, помечая его как устаревший или нерекомендуемый. Для перевода типа или члена типа в разряд нерекомендуемых он помечается, чтобы разработчики знали об отказе от него и у них было время к этому подготовиться. Однако существующий код, в котором используется этот тип или член, продолжает выполняться в новой версии .NET.

> [!NOTE]
> При применении к типам и членам платформы .NET, термины *устаревший* и *нерекомендуемый* имеют одинаковое значение.

## <a name="the-obsoleteattribute-attribute"></a>Атрибут ObsoleteAttribute

Платформа .NET Framework указывает, что тип или член типа является устаревшим, помечая его с помощью атрибута <xref:System.ObsoleteAttribute>. Применение этого атрибута к типу или члену указывает на то, что этот тип или член будет удален в одной из последующих версий платформы .NET Framework без нарушения работы скомпилированного кода, в котором он используется.

Кроме обозначения устаревшего типа или члена типа, атрибут <xref:System.ObsoleteAttribute> определяет, как компилятор обрабатывает исходный код, содержащий такой тип или член. Компилятор может компилировать код, выдавая предупреждение, или считать использование такого типа или члена ошибкой. В первом случае код успешно компилируется, но выдается предупреждение о том, что тип или член является устаревшим. Во втором случае происходит сбой компиляции.

Даже если во время компиляции вместо предупреждения происходит ошибка, атрибут <xref:System.ObsoleteAttribute> не влияет на поведение во время выполнения. Таким образом, приложения, использующие тип или член, который был успешно скомпилирован, всегда выполняются успешно. Сбой вызывает только повторная компиляция такого приложения.

## <a name="how-to-handle-obsolete-types-and-members"></a>Способ обработки устаревших типов и членов

При обновлении и повторной компиляции существующего кода использование типа или члена, вызывающего предупреждение компилятора, полностью приемлемо. Однако следует просматривать предупреждение компилятора для того, чтобы определить, следует ли изменить код приложения. Если в предупреждении не указан допустимый альтернативный вариант, следует выполнить одно из следующих действий:

- Измените код, удалив такой тип или член, если это возможно.

     -или-

- Просмотрите документацию по данной технологии, чтобы определить, что делать с таким нерекомендуемым типом или членом.

Можно не выполнять повторную компиляцию существующего кода в более новой версии .NET Framework. Вместо этого можно указать версию .NET Framework, в которой запускается имеющийся скомпилированный код. Предположим, что у вас есть приложение app1.exe, скомпилированное на платформе .NET Framework 3.5, но требуется его запуск на платформе .NET Framework 4.5. Для этого необходимо выполнить следующие действия:

1. Создайте файл конфигурации для основного исполняемого файла и назовите его *appName*.exe.config, где *appName* — это имя исполняемого файла приложения. Для используемого в данном примере приложения *app1.exe* необходимо создать файл конфигурации *app1.exe.config*.

2. Добавьте в этот файл конфигурации следующее.

    ```xml
    <configuration>
       <startup> 
          <supportedRuntime version="v4.0" />
       </startup>
    </configuration>
    ```

Чтобы выбрать конкретную версию .NET Framework, назначьте атрибуту `version` одно из следующих строковых значений:

|Версия платформы .NET Framework|`version` строковое значение|
|-|-|
|4.8|v4.0|
|4.7 (включая 4.7.1 и 4.7.2)|v4.0|
|4.6 (включая 4.6.1 и 4.6.2)|v4.0|
|4.5 (включая 4.5.1 и 4.5.2)|v4.0|
|4|v4.0|
|3.5|v2.0.50727|
|2.0|v2.0.50727|
|1.1|v1.1.4322|
|1.0|v1.0.3705|

## <a name="obsolete-apis-for-net-framework-45-and-later-versions"></a>Списки устаревших API для .NET Framework 4.5 и более поздних версий

- [Устаревшие типы](obsolete-types.md)
- [Устаревшие члены](obsolete-members.md)

## <a name="obsolete-apis-for-previous-versions"></a>Списки устаревших API для предыдущих версий

- [Устаревшие типы в платформе .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee461503(v=vs.100))
- [Устаревшие члены в платформе .NET Framework 4](https://docs.microsoft.com/previous-versions/dotnet/netframework-4.0/ee471421(v=vs.100))
- [Список устаревших элементов в платформе .NET Framework 3.5](https://docs.microsoft.com/previous-versions/cc835481(v=msdn.10))
- [Список устаревших элементов в платформе .NET Framework 2.0](https://docs.microsoft.com/previous-versions/aa497286(v=msdn.10))

## <a name="see-also"></a>См. также

- [\<Поддерживаемый элемент среды выполнения](../configure-apps/file-schema/startup/supportedruntime-element.md)
