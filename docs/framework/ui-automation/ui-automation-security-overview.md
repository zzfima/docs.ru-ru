---
title: Общие сведения о безопасности модели автоматизации пользовательского интерфейса
ms.date: 03/30/2017
helpviewer_keywords:
- UI Automation, security model
- security model, UI Automation
ms.assetid: 1d853695-973c-48ae-b382-4132ae702805
ms.openlocfilehash: 70d24c3dcc531abcec6d4dce75b5f0b31757e0c0
ms.sourcegitcommit: 9a39f2a06f110c9c7ca54ba216900d038aa14ef3
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/23/2019
ms.locfileid: "74448772"
---
# <a name="ui-automation-security-overview"></a>Общие сведения о безопасности модели автоматизации пользовательского интерфейса

> [!NOTE]
> Эта документация предназначена для разработчиков .NET Framework, желающих использовать управляемые классы [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] , заданные в пространстве имен <xref:System.Windows.Automation> . Последние сведения о [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)]см. в разделе [API автоматизации Windows. Автоматизация пользовательского интерфейса](/windows/win32/winauto/entry-uiauto-win32).

В этом обзоре описывается модель безопасности для [!INCLUDE[TLA#tla_uiautomation](../../../includes/tlasharptla-uiautomation-md.md)] в Windows Vista.

<a name="User_Account_Control"></a>

## <a name="user-account-control"></a>Контроль учетных записей

Безопасность является важным аспектом Windows Vista, и в других нововведениях пользователи могут работать как стандартные пользователи (без прав администратора), не требуя от них блокирования запуска приложений и служб, которым требуются более высокие привилегии.

В Windows Vista большинство приложений предоставляются с помощью стандартного или административного маркера. Если приложение не идентифицировано как административное приложение, оно запускается в качестве стандартного приложения по умолчанию. Перед запуском приложения, идентифицированного как административное, Windows Vista запрашивает у пользователя разрешение на запуск приложения с повышенными правами. Запрос на продолжение отображается по умолчанию, даже если пользователь является членом локальной группы администраторов, так как администраторы выполняют запуск как обычные пользователи, пока приложение или системный компонент, которому требуются административные учетные данные, не запросит разрешение на запуск.

<a name="Tasks_Requiring_Higher_Privileges"></a>

## <a name="tasks-requiring-higher-privileges"></a>Задачи, требующие повышенных привилегий

Когда пользователь пытается выполнить задачу, для которой требуются права администратора, в Windows Vista появится диалоговое окно с запросом на продолжение. Это диалоговое окно защищено от межпроцессного взаимодействия, чтобы вредоносные программы не могли имитировать ввод данных пользователем. Аналогичным образом экран входа в систему обычно недоступен для других процессов.

Клиенты автоматизации пользовательского интерфейса должны взаимодействовать с другими процессами, а некоторые из них могут запускаться с высоким уровнем привилегий. Клиентам также может требоваться доступ к диалоговым окнам системы, которые обычно невидимы для других процессов. Таким образом, клиенты [!INCLUDE[TLA2#tla_uiautomation](../../../includes/tla2sharptla-uiautomation-md.md)] должны быть доверенными для системы и должны запускаться со специальными привилегиями.

Чтобы быть доверенными для взаимодействия с приложениями, работающими на более высоком уровне привилегий, приложения должны быть подписаны.

<a name="Manifest_Files"></a>

## <a name="manifest-files"></a>Файлы манифеста

Чтобы получить доступ к защищенному системному ИНТЕРФЕЙСу, приложения должны быть построены с помощью файла манифеста, который включает атрибут `uiAccess` в тег `requestedExecutionLevel` следующим образом:

```xml
<trustInfo xmlns="urn:schemas-microsoft-com:asm.v3">
  <security>
    <requestedPrivileges>
      <requestedExecutionLevel
        level="highestAvailable"
        uiAccess="true" />
    </requestedPrivileges>
  </security>
</trustInfo>
```

Значение атрибута `level` в этом коде приводится только для примера.

по умолчанию `uiAccess` имеет значение false; Это значит, что если атрибут не указан или для сборки нет манифеста, приложение не сможет получить доступ к защищенному пользовательскому интерфейсу.
