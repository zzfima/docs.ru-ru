---
title: Прозрачный код безопасности, уровень 1
ms.date: 03/30/2017
helpviewer_keywords:
- transparent
- SecurityTreatAsSafeAttribute
- SecurityTransparentAttribute
- SecurityCriticalAttribute
- security-transparent code
- security [.NET Framework], security-transparent code
ms.assetid: 5fd8f46d-3961-46a7-84af-2eb1f48e75cf
ms.openlocfilehash: 980c684bced685a61ad82ff5713ccff2b974028f
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2020
ms.locfileid: "79181128"
---
# <a name="security-transparent-code-level-1"></a><span data-ttu-id="1583c-102">Прозрачный код безопасности, уровень 1</span><span class="sxs-lookup"><span data-stu-id="1583c-102">Security-Transparent Code, Level 1</span></span>
[!INCLUDE[net_security_note](../../../includes/net-security-note-md.md)]  
  
 <span data-ttu-id="1583c-103">Прозрачность позволяет разработчикам создавать более безопасные библиотеки .NET Framework, предоставляющие частично доверенному коду доступ к функциям.</span><span class="sxs-lookup"><span data-stu-id="1583c-103">Transparency helps developers write more secure .NET Framework libraries that expose functionality to partially trusted code.</span></span> <span data-ttu-id="1583c-104">Прозрачность уровня 1 появилась в платформе .NET Framework версии 2.0 и в основном использовалась только корпорацией Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="1583c-104">Level 1 transparency was introduced in the .NET Framework version 2.0 and was primarily used only within Microsoft.</span></span> <span data-ttu-id="1583c-105">Начиная с .NET Framework 4, вы можете использовать [прозрачность уровня 2.](security-transparent-code-level-2.md)</span><span class="sxs-lookup"><span data-stu-id="1583c-105">Starting with the .NET Framework 4, you can use [level 2 transparency](security-transparent-code-level-2.md).</span></span> <span data-ttu-id="1583c-106">При этом прозрачность уровня 1 была сохранена, что позволяет определить устаревший код, который необходимо запускать с прежними правилами безопасности.</span><span class="sxs-lookup"><span data-stu-id="1583c-106">However, level 1 transparency has been retained so that you can identify legacy code that must run with the earlier security rules.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="1583c-107">Прозрачность уровня 1 следует указывать только для совместимости, то есть уровень 1 следует задавать только для кода, разработанного на платформе .NET Framework 3.5 или более ранней версии и использующего <xref:System.Security.AllowPartiallyTrustedCallersAttribute> или не использующего модель прозрачности.</span><span class="sxs-lookup"><span data-stu-id="1583c-107">You should specify level 1 transparency for compatibility only; that is, specify level 1 only for code that was developed with the .NET Framework 3.5 or earlier that uses the <xref:System.Security.AllowPartiallyTrustedCallersAttribute> or does not use the transparency model.</span></span> <span data-ttu-id="1583c-108">Например, используйте прозрачность уровня 1 для сборок .NET Framework 2.0, которые допускают вызовы из частично доверенных вызывающих объектов (APTCA).</span><span class="sxs-lookup"><span data-stu-id="1583c-108">For example, use level 1 transparency for .NET Framework 2.0 assemblies that allow calls from partially trusted callers (APTCA).</span></span> <span data-ttu-id="1583c-109">Для кода, разработанного для .NET Framework 4, всегда используйте прозрачность уровня 2.</span><span class="sxs-lookup"><span data-stu-id="1583c-109">For code that is developed for the .NET Framework 4, always use level 2 transparency.</span></span>  
  
 <span data-ttu-id="1583c-110">Этот раздел состоит из следующих подразделов.</span><span class="sxs-lookup"><span data-stu-id="1583c-110">This topic contains the following sections:</span></span>  
  
- [<span data-ttu-id="1583c-111">Модель прозрачности уровня 1</span><span class="sxs-lookup"><span data-stu-id="1583c-111">The Level 1 Transparency Model</span></span>](#the_level_1_transparency_model)  
  
- [<span data-ttu-id="1583c-112">Атрибуты прозрачности</span><span class="sxs-lookup"><span data-stu-id="1583c-112">Transparency Attributes</span></span>](#transparency_attributes)  
  
- [<span data-ttu-id="1583c-113">Примеры использования прозрачности безопасности</span><span class="sxs-lookup"><span data-stu-id="1583c-113">Security Transparency Examples</span></span>](#security_transparency_examples)  
  
<a name="the_level_1_transparency_model"></a>
## <a name="the-level-1-transparency-model"></a><span data-ttu-id="1583c-114">Модель прозрачности уровня 1</span><span class="sxs-lookup"><span data-stu-id="1583c-114">The Level 1 Transparency Model</span></span>  
 <span data-ttu-id="1583c-115">При использовании прозрачности уровня 1 применяемая модель безопасности разделяет весь код на прозрачные, надежные и критические с точки зрения безопасности методы.</span><span class="sxs-lookup"><span data-stu-id="1583c-115">When you use Level 1 transparency, you are using a security model that separates code into security-transparent, security-safe-critical, and security-critical methods.</span></span>  
  
 <span data-ttu-id="1583c-116">Пометить как прозрачную с точки зрения безопасности можно всю сборку, некоторые ее классы или некоторые методы класса.</span><span class="sxs-lookup"><span data-stu-id="1583c-116">You can mark a whole assembly, some classes in an assembly, or some methods in a class as security-transparent.</span></span> <span data-ttu-id="1583c-117">Прозрачный с точки зрения безопасности код не может повышать уровень привилегий.</span><span class="sxs-lookup"><span data-stu-id="1583c-117">Security-transparent code cannot elevate privileges.</span></span> <span data-ttu-id="1583c-118">Это ограничение имеет три последствия.</span><span class="sxs-lookup"><span data-stu-id="1583c-118">This restriction has three consequences:</span></span>  
  
- <span data-ttu-id="1583c-119">Прозрачный с точки зрения безопасности код не может выполнять действия <xref:System.Security.Permissions.SecurityAction.Assert>.</span><span class="sxs-lookup"><span data-stu-id="1583c-119">Security-transparent code cannot perform <xref:System.Security.Permissions.SecurityAction.Assert> actions.</span></span>  
  
- <span data-ttu-id="1583c-120">Требования связывания, которым должен удовлетворять прозрачный с точки зрения безопасности код, становятся полными требованиями.</span><span class="sxs-lookup"><span data-stu-id="1583c-120">Any link demand that would be satisfied by security-transparent code becomes a full demand.</span></span>  
  
- <span data-ttu-id="1583c-121">Небезопасный (непроверяемый) код, который должен выполняться в рамках прозрачного с точки зрения безопасности кода, вызывает полное требование для разрешения безопасности <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode>.</span><span class="sxs-lookup"><span data-stu-id="1583c-121">Any unsafe (unverifiable) code that must execute in security-transparent code causes a full demand for the <xref:System.Security.Permissions.SecurityPermissionFlag.UnmanagedCode> security permission.</span></span>  
  
 <span data-ttu-id="1583c-122">Применение этих правил во время выполнения обеспечивается средой CLR.</span><span class="sxs-lookup"><span data-stu-id="1583c-122">These rules are enforced during execution by the common language runtime (CLR).</span></span> <span data-ttu-id="1583c-123">Прозрачный с точки зрения безопасности код передает все требования безопасности вызываемого кода вызывающим объектам.</span><span class="sxs-lookup"><span data-stu-id="1583c-123">Security-transparent code passes all the security requirements of the code it calls back to its callers.</span></span> <span data-ttu-id="1583c-124">Требования, которые обрабатываются прозрачным с точки зрения безопасности кодом, не могут повышать уровень привилегий.</span><span class="sxs-lookup"><span data-stu-id="1583c-124">Demands that flow through the security-transparent code cannot elevate privileges.</span></span> <span data-ttu-id="1583c-125">Если приложение с низким уровнем доверия обращается к прозрачному с точки зрения безопасности коду и вызывает требование высокой привилегии, это требование будет перенаправлено обратно в код с низким уровнем доверия и не будет удовлетворено.</span><span class="sxs-lookup"><span data-stu-id="1583c-125">If a low-trust application calls security-transparent code and causes a demand for high privilege, the demand will flow back to the low-trust code and fail.</span></span> <span data-ttu-id="1583c-126">Прозрачный с точки зрения безопасности код не может приостановить действие требования, так как он не может осуществлять действия Assert.</span><span class="sxs-lookup"><span data-stu-id="1583c-126">The security-transparent code cannot stop the demand because it cannot perform assert actions.</span></span> <span data-ttu-id="1583c-127">При вызове того же прозрачного с точки зрения безопасности кода из кода с полным доверием требование будет удовлетворено.</span><span class="sxs-lookup"><span data-stu-id="1583c-127">The same security-transparent code called from full-trust code results in a successful demand.</span></span>  
  
 <span data-ttu-id="1583c-128">Критические с точки зрения безопасности методы являются противоположностью прозрачных с точки зрения безопасности.</span><span class="sxs-lookup"><span data-stu-id="1583c-128">Security-critical is the opposite of security-transparent.</span></span> <span data-ttu-id="1583c-129">Критический с точки зрения безопасности код выполняется с полным доверием и может выполнять операции с любым уровнем привилегий.</span><span class="sxs-lookup"><span data-stu-id="1583c-129">Security-critical code executes with full trust and can perform all privileged operations.</span></span> <span data-ttu-id="1583c-130">Надежный с точки зрения безопасности код является привилегированным кодом, прошедшим расширенный аудит безопасности, в результате которого было подтверждено, что он не позволяет частично доверенным вызывающим объектам использовать ресурсы, на доступ к которым у них нет разрешения.</span><span class="sxs-lookup"><span data-stu-id="1583c-130">Security-safe-critical code is privileged code that has been through an extensive security audit to confirm that it does not allow partially trusted callers to use resources they do not have permission to access.</span></span>  
  
 <span data-ttu-id="1583c-131">Прозрачность необходимо применять явно.</span><span class="sxs-lookup"><span data-stu-id="1583c-131">You have to apply transparency explicitly.</span></span> <span data-ttu-id="1583c-132">Большая часть кода, отвечающая за обработку данных и логику, обычно может быть помечена как прозрачная с точки зрения безопасности, в то время как меньшая часть, выполняющая повышение привилегий, помечается как критическая или надежная с точки зрения безопасности.</span><span class="sxs-lookup"><span data-stu-id="1583c-132">The majority of your code that handles data manipulation and logic can typically be marked as security-transparent, whereas the lesser amount of code that performs elevations of privileges is marked as security-critical or security-safe-critical.</span></span>  
  
> [!IMPORTANT]
> <span data-ttu-id="1583c-133">Прозрачность уровня 1 ограничена областью сборки; она не применяется между сборками.</span><span class="sxs-lookup"><span data-stu-id="1583c-133">Level 1 transparency is limited to assembly scope; it is not enforced between assemblies.</span></span> <span data-ttu-id="1583c-134">Прозрачность уровня 1 первоначально использовалась в продуктах Майкрософт в целях аудита безопасности.</span><span class="sxs-lookup"><span data-stu-id="1583c-134">Level 1 transparency was primarily used within Microsoft for security audit purposes.</span></span> <span data-ttu-id="1583c-135">К критическим с точки зрения безопасности типам и членам сборки уровня 1 может получать доступ прозрачный с точки зрения безопасности код из других сборок.</span><span class="sxs-lookup"><span data-stu-id="1583c-135">Security-critical types and members within a level 1 assembly can be accessed by security-transparent code in other assemblies.</span></span> <span data-ttu-id="1583c-136">Очень важно выполнять запросы компоновки с полным доверием во всех критических с точки зрения безопасности типах и членах уровня 1.</span><span class="sxs-lookup"><span data-stu-id="1583c-136">It is important that you perform link demands for full trust in all your level 1 security-critical types and members.</span></span> <span data-ttu-id="1583c-137">Надежные с точки зрения безопасности типы и члены также должны подтверждать, что вызывающие объекты обладают разрешениями в отношении защищенных ресурсов, доступ к которым осуществляется типом или членом.</span><span class="sxs-lookup"><span data-stu-id="1583c-137">Security-safe-critical types and members must also confirm that callers have permissions for protected resources that are accessed by the type or member.</span></span>  
  
 <span data-ttu-id="1583c-138">Для обеспечения обратной совместимости с предыдущими версиями .NET Framework все члены, не помеченные атрибутами прозрачности, считаются надежными с точки зрения безопасности.</span><span class="sxs-lookup"><span data-stu-id="1583c-138">For backward compatibility with earlier versions of the .NET Framework, all members that are not annotated with transparency attributes are considered to be security-safe-critical.</span></span> <span data-ttu-id="1583c-139">Все непомеченные типы считаются прозрачными.</span><span class="sxs-lookup"><span data-stu-id="1583c-139">All types that are not annotated are considered to be transparent.</span></span> <span data-ttu-id="1583c-140">Для проверки прозрачности не существует правил статического анализа.</span><span class="sxs-lookup"><span data-stu-id="1583c-140">There are no static analysis rules to validate transparency.</span></span> <span data-ttu-id="1583c-141">Поэтому может потребоваться отладка ошибок времени выполнения, связанных с прозрачностью.</span><span class="sxs-lookup"><span data-stu-id="1583c-141">Therefore, you may need to debug transparency errors at run time.</span></span>  
  
<a name="transparency_attributes"></a>
## <a name="transparency-attributes"></a><span data-ttu-id="1583c-142">Атрибуты прозрачности</span><span class="sxs-lookup"><span data-stu-id="1583c-142">Transparency Attributes</span></span>  
 <span data-ttu-id="1583c-143">В таблице ниже описываются три атрибута, используемые для указания прозрачности кода.</span><span class="sxs-lookup"><span data-stu-id="1583c-143">The following table describes the three attributes that you use to annotate your code for transparency.</span></span>  
  
|<span data-ttu-id="1583c-144">attribute</span><span class="sxs-lookup"><span data-stu-id="1583c-144">Attribute</span></span>|<span data-ttu-id="1583c-145">Описание</span><span class="sxs-lookup"><span data-stu-id="1583c-145">Description</span></span>|  
|---------------|-----------------|  
|<xref:System.Security.SecurityTransparentAttribute>|<span data-ttu-id="1583c-146">Применяется только на уровне сборки.</span><span class="sxs-lookup"><span data-stu-id="1583c-146">Allowed only at the assembly level.</span></span> <span data-ttu-id="1583c-147">Помечает все типы и члены внутри сборки как прозрачные с точки зрения безопасности.</span><span class="sxs-lookup"><span data-stu-id="1583c-147">Identifies all types and members in the assembly as security-transparent.</span></span> <span data-ttu-id="1583c-148">При этом сборка не может содержать критический с точки зрения безопасности код.</span><span class="sxs-lookup"><span data-stu-id="1583c-148">The assembly cannot contain any security-critical code.</span></span>|  
|<xref:System.Security.SecurityCriticalAttribute>|<span data-ttu-id="1583c-149">При использовании на уровне сборки без свойства <xref:System.Security.SecurityCriticalAttribute.Scope%2A> помечает весь код внутри сборки как прозрачный с точки зрения безопасности по умолчанию, однако показывает, что сборка может содержать критический с точки зрения безопасности код.</span><span class="sxs-lookup"><span data-stu-id="1583c-149">When used at the assembly level without the <xref:System.Security.SecurityCriticalAttribute.Scope%2A> property, identifies all code in the assembly as security-transparent by default, but indicates that the assembly may contain security-critical code.</span></span><br /><br /> <span data-ttu-id="1583c-150">При использовании на уровне класса помечает класс или метод как критический с точки зрения безопасности.</span><span class="sxs-lookup"><span data-stu-id="1583c-150">When used at the class level, identifies the class or method as security-critical, but not the members of the class.</span></span> <span data-ttu-id="1583c-151">Чтобы пометить все члены как критические с точки зрения безопасности, установите для свойства <xref:System.Security.SecurityCriticalAttribute.Scope%2A> значение <xref:System.Security.SecurityCriticalScope.Everything>.</span><span class="sxs-lookup"><span data-stu-id="1583c-151">To make all the members security-critical, set the <xref:System.Security.SecurityCriticalAttribute.Scope%2A> property to <xref:System.Security.SecurityCriticalScope.Everything>.</span></span><br /><br /> <span data-ttu-id="1583c-152">При использовании на уровне члена атрибут применяется только к этому члену.</span><span class="sxs-lookup"><span data-stu-id="1583c-152">When used at the member level, the attribute applies only to that member.</span></span><br /><br /> <span data-ttu-id="1583c-153">Класс или метод, помеченный как критический с точки зрения безопасности, может осуществлять повышение привилегий.</span><span class="sxs-lookup"><span data-stu-id="1583c-153">The class or member identified as security-critical can perform elevations of privilege.</span></span> <span data-ttu-id="1583c-154">**Важно:**  В уровне 1 прозрачности, критически важные типы и члены, критически настроенные по безопасности, рассматриваются как безопасные, критически ели, когда они вызваны из-за пределов сборки.</span><span class="sxs-lookup"><span data-stu-id="1583c-154">**Important:**  In level 1 transparency, security-critical types and members are treated as security-safe-critical when they are called from outside the assembly.</span></span> <span data-ttu-id="1583c-155">Чтобы предотвратить несанкционированное повышение привилегий, нужно защитить критические с точки зрения безопасности типы и члены запросом компоновки с полным доверием.</span><span class="sxs-lookup"><span data-stu-id="1583c-155">You should protect security-critical types and members with a link demand for full trust to avoid unauthorized elevation of privilege.</span></span>|  
|<xref:System.Security.SecuritySafeCriticalAttribute>|<span data-ttu-id="1583c-156">Помечает критический с точки зрения безопасности код, доступ к которому может получить прозрачный с точки зрения безопасности код в сборке.</span><span class="sxs-lookup"><span data-stu-id="1583c-156">Identifies security-critical code that can be accessed by security-transparent code in the assembly.</span></span> <span data-ttu-id="1583c-157">В противном случае прозрачный с точки зрения безопасности код не может получить доступ к закрытым или внутренним членам, критическим с точки зрения безопасности, внутри этой же сборки.</span><span class="sxs-lookup"><span data-stu-id="1583c-157">Otherwise, security-transparent code cannot access private or internal security-critical members in the same assembly.</span></span> <span data-ttu-id="1583c-158">Возможность такого доступа могла бы повлиять на работу критического с точки зрения безопасности кода и сделать возможным непредусмотренное повышение привилегий.</span><span class="sxs-lookup"><span data-stu-id="1583c-158">Doing so would influence security-critical code and make unexpected elevations of privilege possible.</span></span> <span data-ttu-id="1583c-159">Надежный с точки зрения безопасности код должен проходить строгий аудит безопасности.</span><span class="sxs-lookup"><span data-stu-id="1583c-159">Security-safe-critical code should undergo a rigorous security audit.</span></span> <span data-ttu-id="1583c-160">**Примечание:**  Типы и участники, обладатели безопасности, должны проверять разрешения абонентов, чтобы определить, имеет ли абонент право на доступ к защищенным ресурсам.</span><span class="sxs-lookup"><span data-stu-id="1583c-160">**Note:**  Security-safe-critical types and members must validate the permissions of callers to determine whether the caller has authority to access protected resources.</span></span>|  
  
 <span data-ttu-id="1583c-161">Атрибут <xref:System.Security.SecuritySafeCriticalAttribute> позволяет прозрачному с точки зрения безопасности коду получать доступ к критическим с точки зрения безопасности членам внутри этой же сборки.</span><span class="sxs-lookup"><span data-stu-id="1583c-161">The <xref:System.Security.SecuritySafeCriticalAttribute> attribute enables security-transparent code to access security-critical members in the same assembly.</span></span> <span data-ttu-id="1583c-162">Следует стараться разграничивать прозрачный и критический с точки зрения безопасности код внутри сборки, как если бы он принадлежал двум разным сборкам.</span><span class="sxs-lookup"><span data-stu-id="1583c-162">Consider the security-transparent and security-critical code in your assembly as separated into two assemblies.</span></span> <span data-ttu-id="1583c-163">Прозрачный с точки зрения безопасности код не сможет получать доступ к закрытым или внутренним членам критического с точки зрения безопасности кода.</span><span class="sxs-lookup"><span data-stu-id="1583c-163">The security-transparent code would not be able to see the private or internal members of the security-critical code.</span></span> <span data-ttu-id="1583c-164">Кроме того, для критического с точки зрения безопасности кода обычно применяется контролируемый доступ к его открытому интерфейсу.</span><span class="sxs-lookup"><span data-stu-id="1583c-164">Additionally, the security-critical code is generally audited for access to its public interface.</span></span> <span data-ttu-id="1583c-165">Доступ к закрытому или внутреннему состоянию извне сборки обычно является нежелательным. Как правило, стремятся изолировать это состояние.</span><span class="sxs-lookup"><span data-stu-id="1583c-165">You would not expect a private or internal state to be accessible outside the assembly; you would want to keep the state isolated.</span></span> <span data-ttu-id="1583c-166">Атрибут <xref:System.Security.SecuritySafeCriticalAttribute> обеспечивает изоляцию состояния между прозрачным и критическим с точки зрения безопасности кодом, но в то же время дает возможность при необходимости переопределить изоляцию.</span><span class="sxs-lookup"><span data-stu-id="1583c-166">The <xref:System.Security.SecuritySafeCriticalAttribute> attribute maintains the isolation of state between security-transparent and security-critical code while providing the ability to override the isolation when it is necessary.</span></span> <span data-ttu-id="1583c-167">Прозрачный с точки зрения безопасности код может получить доступ к закрытым или внутренним членам критического с точки зрения безопасности кода, только если эти члены помечены атрибутом <xref:System.Security.SecuritySafeCriticalAttribute>.</span><span class="sxs-lookup"><span data-stu-id="1583c-167">Security-transparent code cannot access private or internal security-critical code unless those members have been marked with <xref:System.Security.SecuritySafeCriticalAttribute>.</span></span> <span data-ttu-id="1583c-168">Перед применением атрибута <xref:System.Security.SecuritySafeCriticalAttribute> проведите аудит соответствующего члена, как если бы он был открытым.</span><span class="sxs-lookup"><span data-stu-id="1583c-168">Before applying the <xref:System.Security.SecuritySafeCriticalAttribute>, audit that member as if it were publicly exposed.</span></span>  
  
### <a name="assembly-wide-annotation"></a><span data-ttu-id="1583c-169">Заметка на уровне сборки</span><span class="sxs-lookup"><span data-stu-id="1583c-169">Assembly-wide Annotation</span></span>  
 <span data-ttu-id="1583c-170">В таблице ниже описываются последствия использования атрибутов безопасности на уровне сборки.</span><span class="sxs-lookup"><span data-stu-id="1583c-170">The following table describes the effects of using security attributes at the assembly level.</span></span>  
  
|<span data-ttu-id="1583c-171">Атрибут сборки</span><span class="sxs-lookup"><span data-stu-id="1583c-171">Assembly attribute</span></span>|<span data-ttu-id="1583c-172">Состояние сборки</span><span class="sxs-lookup"><span data-stu-id="1583c-172">Assembly state</span></span>|  
|------------------------|--------------------|  
|<span data-ttu-id="1583c-173">Частично доверенная сборка без атрибутов</span><span class="sxs-lookup"><span data-stu-id="1583c-173">No attribute on a partially trusted assembly</span></span>|<span data-ttu-id="1583c-174">Все типы и члены являются прозрачными.</span><span class="sxs-lookup"><span data-stu-id="1583c-174">All types and members are transparent.</span></span>|  
|<span data-ttu-id="1583c-175">Полностью доверенная сборка без атрибутов (находящаяся в глобальном кэше сборок или помеченная как полностью доверенная в `AppDomain`)</span><span class="sxs-lookup"><span data-stu-id="1583c-175">No attribute on a fully trusted assembly (in the global assembly cache or identified as full trust in the `AppDomain`)</span></span>|<span data-ttu-id="1583c-176">Все типы являются прозрачными, а все члены — надежными с точки зрения безопасности.</span><span class="sxs-lookup"><span data-stu-id="1583c-176">All types are transparent and all members are security-safe-critical.</span></span>|  
|`SecurityTransparent`|<span data-ttu-id="1583c-177">Все типы и члены являются прозрачными.</span><span class="sxs-lookup"><span data-stu-id="1583c-177">All types and members are transparent.</span></span>|  
|`SecurityCritical(SecurityCriticalScope.Everything)`|<span data-ttu-id="1583c-178">Все типы и члены являются прозрачными.</span><span class="sxs-lookup"><span data-stu-id="1583c-178">All types and members are security-critical.</span></span>|  
|`SecurityCritical`|<span data-ttu-id="1583c-179">Весь код по умолчанию является прозрачным.</span><span class="sxs-lookup"><span data-stu-id="1583c-179">All code defaults to transparent.</span></span> <span data-ttu-id="1583c-180">Однако отдельные типы и члены могут иметь другие атрибуты.</span><span class="sxs-lookup"><span data-stu-id="1583c-180">However, individual types and members can have other attributes.</span></span>|  
  
<a name="security_transparency_examples"></a>
## <a name="security-transparency-examples"></a><span data-ttu-id="1583c-181">Примеры использования прозрачности безопасности</span><span class="sxs-lookup"><span data-stu-id="1583c-181">Security Transparency Examples</span></span>  
 <span data-ttu-id="1583c-182">Чтобы применить правила прозрачности платформы .NET Framework 2.0 (прозрачность уровня 1), используйте в сборке следующую заметку:</span><span class="sxs-lookup"><span data-stu-id="1583c-182">To use the .NET Framework 2.0 transparency rules (level 1 transparency), use the following assembly annotation:</span></span>  
  
```csharp
[assembly: SecurityRules(SecurityRuleSet.Level1)]  
```  
  
 <span data-ttu-id="1583c-183">Если нужно сделать прозрачной всю сборку, указав тем самым, что она не содержит критический код и не может повышать уровень привилегий, можно задать прозрачность для сборки явным образом с помощью следующего атрибута:</span><span class="sxs-lookup"><span data-stu-id="1583c-183">If you want to make a whole assembly transparent to indicate that the assembly does not contain any critical code and does not elevate privileges in any way, you can explicitly add transparency to the assembly with the following attribute:</span></span>  
  
```csharp  
[assembly: SecurityTransparent]  
```  
  
 <span data-ttu-id="1583c-184">Если сборка должна содержать как критический, так и прозрачный код, сначала примените атрибут <xref:System.Security.SecurityCriticalAttribute> ко всей сборке, чтобы указать на возможность включения в нее критического кода. Это можно сделать следующим образом:</span><span class="sxs-lookup"><span data-stu-id="1583c-184">If you want to mix critical and transparent code in the same assembly, start by marking the assembly with the <xref:System.Security.SecurityCriticalAttribute> attribute to indicate that the assembly can contain critical code, as follows:</span></span>  
  
```csharp  
[assembly: SecurityCritical]  
```  
  
 <span data-ttu-id="1583c-185">Если нужно выполнять критические с точки зрения безопасности операции, следует явно применить еще один атрибут <xref:System.Security.SecurityCriticalAttribute> к коду, выполняющему критическую операцию, как показано в примере ниже.</span><span class="sxs-lookup"><span data-stu-id="1583c-185">If you want to perform security-critical actions, you must explicitly mark the code that will perform the critical action with another <xref:System.Security.SecurityCriticalAttribute> attribute, as shown in the following code example:</span></span>  
  
```csharp  
[assembly: SecurityCritical]  
public class A  
{  
    [SecurityCritical]  
    private void Critical()  
    {  
        // critical  
    }  
  
    public int SomeProperty  
    {  
        get {/* transparent */ }  
        set {/* transparent */ }  
    }  
}  
public class B  
{
    internal string SomeOtherProperty  
    {  
        get { /* transparent */ }  
        set { /* transparent */ }  
    }  
}  
```  
  
 <span data-ttu-id="1583c-186">Приведенный выше код является прозрачным за исключением метода `Critical`, который явным образом помечен как критический с точки зрения безопасности.</span><span class="sxs-lookup"><span data-stu-id="1583c-186">The previous code is transparent except for the `Critical` method, which is explicitly marked as security-critical.</span></span> <span data-ttu-id="1583c-187">Прозрачность задается по умолчанию даже при установленном на уровне сборки атрибуте <xref:System.Security.SecurityCriticalAttribute>.</span><span class="sxs-lookup"><span data-stu-id="1583c-187">Transparency is the default setting, even with the assembly-level <xref:System.Security.SecurityCriticalAttribute> attribute.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="1583c-188">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="1583c-188">See also</span></span>

- [<span data-ttu-id="1583c-189">Прозрачный с точки зрения безопасности код, уровень 2</span><span class="sxs-lookup"><span data-stu-id="1583c-189">Security-Transparent Code, Level 2</span></span>](security-transparent-code-level-2.md)
- [<span data-ttu-id="1583c-190">Изменения безопасности</span><span class="sxs-lookup"><span data-stu-id="1583c-190">Security Changes</span></span>](../security/security-changes.md)
