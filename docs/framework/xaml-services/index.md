---
title: Службы XAML
ms.date: 03/30/2017
helpviewer_keywords:
- XAML [XAML Services], System.Xaml concepts
- XAML Services in WPF [XAML Services]
- System.Xaml [XAML Services], conceptual documentation
ms.assetid: 0e11f386-808c-4eae-9ba6-029ad7ba2211
ms.openlocfilehash: 373478e8c21fca66cbfbf7a58fc7d53f65ce5d0b
ms.sourcegitcommit: efff8f331fd9467f093f8ab8d23a203d6ecb5b60
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/01/2018
ms.locfileid: "43396944"
---
# <a name="xaml-services"></a>Службы XAML
В этом разделе описываются возможности набора технологий, известный как .NET Framework XAML служб. Большинство служб и интерфейсов API, описанных находятся в сборке System.Xaml, который является сборкой, обусловленные появлением [!INCLUDE[net_v40_short](../../../includes/net-v40-short-md.md)] набор сборок .NET core. Службы включают в себя средства чтения и записи, классы схемы и поддержка схемы, фабрики, классов, встроенную поддержку для языка XAML и другие возможности языка XAML с атрибутами.  
  
## <a name="about-this-documentation"></a>О данном документе  
 Основная документация для служб XAML .NET Framework предполагается, что у вас есть опыт разработки в язык XAML и его применения к конкретной платформе, например [!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)] или Windows Workflow Foundation или средство определенной технологии область, например возможностей настройки построения в <xref:Microsoft.Build.Framework.XamlTypes>. Эта документация не пытается объяснить основы XAML как языка разметки XAML синтаксическая терминология и других вводный материал. Вместо этого эта документация посвящена специально с использованием служб XAML платформы .NET Framework, доступных в библиотеке сборки System.Xaml. Большинство этих интерфейсов API предназначены для сценариев интеграции языка XAML и расширяемости. Это может включать любое из следующих:  
  
-   Расширение возможностей базового средства чтения XAML или записи XAML (непосредственная обработка потока узлов XAML, разработка собственного средства чтения XAML или модуль записи XAML).  
  
-   Определение можно использовать XAML пользовательских типов, не имеющие зависимостей в конкретной платформы и типы для передачи их XAML с атрибутами типов характеристик системы служб XAML .NET Framework.  
  
-   Размещение средства чтения XAML и записи XAML в качестве компонента приложения, такие как визуальный конструктор или интерактивный редактор для источников разметки XAML.  
  
-   Написание XAML преобразователи значений (расширения разметки; преобразователи типов для пользовательских типов).  
  
-   Определение пользовательского контекста схемы XAML (использование альтернативных методик загрузки сборок для источников резервных типов; использование методик поиска известных типов, а не всегда отражения сборок; использование концепций загруженных сборок, не использующих CLR `AppDomain` и модель безопасности связанных).  
  
-   Расширение базовой системы типов XAML.  
  
-   С помощью `Lookup` или `Invoker` введите методы, которые влияют на XAML, системы и оценке резервов типов.  
  
 Если вы ищете вводный материал на XAML как языка, можно попробовать [Обзор XAML (WPF)](../../../docs/framework/wpf/advanced/xaml-overview-wpf.md). Этой теме описывается XAML для аудитории новых оба [!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)] и с использованием разметки XAML и возможностей языка XAML. Другим полезным документ является вводный материал в [спецификации языка XAML](https://go.microsoft.com/fwlink/?LinkId=114525).  
  
## <a name="net-framework-xaml-services-and-systemxaml-in-the-net-architecture"></a>Службы XAML .NET framework и System.Xaml в архитектуре .NET  
 В предыдущих версиях платформы Microsoft .NET Framework, поддержка возможностей языка XAML, реализованной с платформ, которые на базе Microsoft .NET Framework ([!INCLUDE[TLA#tla_winclient](../../../includes/tlasharptla-winclient-md.md)], Windows Workflow Foundation и Windows Communication Foundation (WCF)) и, следовательно, изменять его поведение и API, используемый, в зависимости от какой конкретной платформы, на который вы использовали. Это включены XAML средство синтаксического анализа и с ним объект графа механизм создания, встроенные функции языка XAML, поддержка сериализации и т. д.  
  
 В [!INCLUDE[net_v40_long](../../../includes/net-v40-long-md.md)], служб XAML .NET Framework и в сборке System.Xaml определять большую часть необходимых для поддержки возможностей языка XAML. Это включает базовые классы для средства чтения XAML и записи XAML. Добавляемый служб XAML .NET Framework, которые отсутствуют во всех реализациях XAML для отдельных наиболее важной возможностью является представление системы типов для XAML. Представление системы типов XAML представляет в объектно ориентированному подходу, посвященных возможности XAML, не переводя зависимости от конкретных возможностей платформы.  
  
 Система типов XAML не ограничивается разметки формы или во время выполнения особенности источника XAML; а также она ограничена любой системе типов дополняющими. Система типов XAML входят объектные представления для типов, членов, контекста схемы XAML, понятий уровня XML и другие основные понятия языка XAML или встроенных функций XAML. Использование или расширение системы типов XAML позволяет являются производными от классов, таких как средства чтения XAML и записи XAML и расширять функциональные возможности представлений XAML в определенные возможности, инфраструктуру, технологию или приложение, использующее или выдает XAML. Понятие контекста схемы XAML включает операции записи графа объектов из комбинации реализацию модуля записи объектов XAML, система резервных типов это технология как информацией о сборке в контексте и узел XAML источник. Дополнительные сведения о концепции схемы XAML. см. в разделе [по умолчанию контекст схемы XAML и контекст схемы XAML WPF](../../../docs/framework/xaml-services/default-xaml-schema-context-and-wpf-xaml-schema-context.md).  
  
## <a name="xaml-node-streams-xaml-readers-and-xaml-writers"></a>Потоки узлов XAML, средства чтения XAML и записи XAML  
 Чтобы понять роль служб XAML .NET Framework во взаимосвязи языка XAML и конкретных технологий, использующих XAML в качестве языка, полезно понять концепцию поток узлов XAML и с влиянием этой концепции API и Терминология. Поток узлов XAML — это концептуальный посредник между представлением языка XAML и граф объекта, который представляет XAML, или определяет.  
  
-   Средство чтения XAML — это сущность, которая обрабатывает XAML в определенной форме и создает поток узлов XAML. В API, средство чтения XAML представляется базовым классом <xref:System.Xaml.XamlReader>.  
  
-   Модуль записи XAML — это сущность, которая обрабатывает поток узлов XAML и создает что-то еще. В API, модуль записи XAML представляется базовым классом <xref:System.Xaml.XamlWriter>.  
  
 Два наиболее распространенных сценариев, включающих XAML загрузки XAML для создания графа объектов и сохранение графа объектов из приложения или средства и создания представление XAML (обычно в форме разметки, который сохранен как текстовый файл). Загрузка XAML и создание графа объекта часто называют в этой документации, путем загрузки. Сохранение или сериализация графа объекта для XAML часто называют в этой документации сохранения пути.  
  
 Наиболее распространенный тип пути загрузки можно описать следующим образом:  
  
-   Начать с представления XAML, в формате XML с кодировкой UTF и сохранен как текстовый файл.  
  
-   Загрузить этот XAML в <xref:System.Xaml.XamlXmlReader>. <xref:System.Xaml.XamlXmlReader> является <xref:System.Xaml.XamlReader> подкласс.  
  
-   Результатом является поток узлов XAML. Можно получить доступ к отдельным узлам потока узлов XAML с помощью <xref:System.Xaml.XamlXmlReader>  /  <xref:System.Xaml.XamlReader> API. Наиболее типичной операцией является перебор потока узлов XAML, обработки каждому узлу с помощью «текущей записи» метафора.  
  
-   Передайте результирующие узлы из потока узлов XAML для <xref:System.Xaml.XamlObjectWriter> API. <xref:System.Xaml.XamlObjectWriter> является <xref:System.Xaml.XamlWriter> подкласс.  
  
-   <xref:System.Xaml.XamlObjectWriter> Записывает граф объектов, один объект за раз, в соответствии с ходом выполнения с помощью исходного потока узлов XAML. Это делается с помощью контекст схемы XAML и реализация с доступом к сборкам и типам системой резервных типов и платформы.  
  
-   Вызовите <xref:System.Xaml.XamlObjectWriter.Result%2A> в конце потока узлов XAML, чтобы получить корневой объект графы объектов.  
  
 Это наиболее распространенный тип пути сохранения можно описать следующим образом:  
  
-   Начните с графа объектов всего приложения во время выполнения, содержимого пользовательского интерфейса и состояние времени выполнения, или сегмент меньшего размера объектного представления всего приложения во время выполнения.  
  
-   Из логического начала объекта, такого как корневой каталог приложения или корень документа, загрузить объекты в <xref:System.Xaml.XamlObjectReader>. <xref:System.Xaml.XamlObjectReader> является <xref:System.Xaml.XamlReader> подкласс.  
  
-   Результатом является поток узлов XAML. Можно получить доступ к отдельным узлам потока узлов XAML с помощью <xref:System.Xaml.XamlObjectReader> и <xref:System.Xaml.XamlReader> API. Наиболее типичной операцией является перебор потока узлов XAML, обработки каждому узлу с помощью «текущей записи» метафора.  
  
-   Передайте результирующие узлы из потока узлов XAML для <xref:System.Xaml.XamlXmlWriter> API. <xref:System.Xaml.XamlXmlWriter> является <xref:System.Xaml.XamlWriter> подкласс.  
  
-   <xref:System.Xaml.XamlXmlWriter> Записывает XAML в XML UTF кодирования. Это можно сохранить как текстовый файл, поток, или в разных формах.  
  
-   Вызовите <xref:System.Xaml.XamlXmlWriter.Flush%2A> для получения конечного результата.  
  
 Дополнительные сведения о концепции потока узлов XAML, см. в разделе [понятиях и структурах Stream узлов XAML понимание](../../../docs/framework/xaml-services/understanding-xaml-node-stream-structures-and-concepts.md).  
  
### <a name="the-xamlservices-class"></a>XamlServices-класс  
 Не всегда необходимо обращаться к потоку узлов XAML. Если требуется базовый путь загрузки или базовый путь сохранения, можно использовать API-интерфейсы в <xref:System.Xaml.XamlServices> класса.  
  
-   Различные сигнатуры метода <xref:System.Xaml.XamlServices.Load%2A> реализуют путь загрузки. Можно либо загрузить файл или поток, либо загрузить <xref:System.Xml.XmlReader>, <xref:System.IO.TextReader> или <xref:System.Xaml.XamlReader> которые создают оболочку для входных данных XAML путем загрузки с интерфейсами API, средство чтения.  
  
-   Различные сигнатуры метода <xref:System.Xaml.XamlServices.Save%2A> сохранить граф объектов, а выходом является поток, файл, или <xref:System.Xml.XmlWriter> / <xref:System.IO.TextWriter> экземпляра.  
  
-   <xref:System.Xaml.XamlServices.Transform%2A> Преобразует XAML, связывая путь загрузки и сохранения пути в рамках одной операции. Другой контекст схемы или другая система резервных типов могут быть использованы для <xref:System.Xaml.XamlReader> и <xref:System.Xaml.XamlWriter>, который является влияют как полученный XAML преобразуется.  
  
 Дополнительные сведения об использовании <xref:System.Xaml.XamlServices>, см. в разделе [XamlServices-класс и базовые XAML чтения или записи](../../../docs/framework/xaml-services/xamlservices-class-and-basic-xaml-reading-or-writing.md).  
  
## <a name="xaml-type-system"></a>Система типов XAML  
 Система типов XAML предоставляет интерфейсы API, которые необходимы для работы с заданным отдельным узлом потока узлов XAML.  
  
 <xref:System.Xaml.XamlType> является представлением объекта — что обрабатывается между начальным и конечным узлами объекта.  
  
 <xref:System.Xaml.XamlMember> является представлением элемента объекта — что обрабатывается между начальным и конечным узлами члена.  
  
 API-интерфейсы, такие как <xref:System.Xaml.XamlType.GetAllMembers%2A> и <xref:System.Xaml.XamlType.GetMember%2A> и <xref:System.Xaml.XamlMember.DeclaringType%2A> сообщить о связи между <xref:System.Xaml.XamlType> и <xref:System.Xaml.XamlMember>.  
  
 Поведение по умолчанию системы типов XAML, реализованное в службах XAML .NET Framework основан на среде (CLR) и статический анализ типов CLR в сборках с помощью отражения. Таким образом для конкретного типа среды CLR, реализация по умолчанию системы типов XAML можно предоставить схему XAML этого типа и его члены и сообщите о ней с точки зрения системы типов XAML. В системе типов XAML по умолчанию понятие возможность присваивания типов сопоставлен на наследование среды CLR, и основные понятия экземпляров, типов значений и т. д. также отображаются соответствующее поведение и возможности среды CLR.  
  
## <a name="reference-for-xaml-language-features"></a>Справочник по возможности языка XAML  
 Для поддержки XAML, служб XAML .NET Framework предоставляет реализации концепций языка XAML, как определено для пространства имен XAML языка XAML. Все они описаны в виде отдельных страниц справочника. Возможности языка описываются с точки зрения поведения следующие функции языка при обработке XAML чтения или записи XAML, определенным службами XAML платформы .NET Framework. Для получения дополнительной информации см. [XAML Namespace (x:) Language Features](../../../docs/framework/xaml-services/xaml-namespace-x-language-features.md).
