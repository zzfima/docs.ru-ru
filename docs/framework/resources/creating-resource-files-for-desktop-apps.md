---
title: Создание файлов ресурсов для приложений .NET
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
helpviewer_keywords:
- resource files, .resources files
- .resources files
- application resources, creating files
- resource files, creating
ms.assetid: 6c5ad891-66a0-4e7a-adcf-f41863ba6d8d
ms.openlocfilehash: b679539be1aeb593124eb35a235bcc578decb4c0
ms.sourcegitcommit: 267d092663aba36b6b2ea853034470aea493bfae
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/21/2020
ms.locfileid: "80111781"
---
# <a name="create-resource-files-for-net-apps"></a><span data-ttu-id="cb0cb-102">Создание файлов ресурсов для приложений .NET</span><span class="sxs-lookup"><span data-stu-id="cb0cb-102">Create resource files for .NET apps</span></span>

<span data-ttu-id="cb0cb-103">Ресурсы, такие как строки, изображения или данные объектов, можно включать в файлы ресурсов, чтобы сделать их легко доступными для приложения.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-103">You can include resources, such as strings, images, or object data, in resources files to make them easily available to your application.</span></span> <span data-ttu-id="cb0cb-104">В платформе .NET Framework предлагается пять способов создания файлов ресурсов.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-104">The .NET Framework offers five ways to create resources files:</span></span>

- <span data-ttu-id="cb0cb-105">Создайте текстовый файл, содержащий строковые ресурсы.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-105">Create a text file that contains string resources.</span></span> <span data-ttu-id="cb0cb-106">Для преобразования текстового файла в двоичный файл ресурсов (RESOURCES-файл) можно использовать [генератор файлов ресурсов (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-106">You can use [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) to convert the text file into a binary resource (.resources) file.</span></span> <span data-ttu-id="cb0cb-107">Затем можно вставить файл двоичного ресурса в исполняемую заявку или библиотеку приложений с помощью компилятора языка, или вы можете вставить его в спутниковую сборку с помощью [Ассамблеи Linker (Al.exe).](../tools/al-exe-assembly-linker.md)</span><span class="sxs-lookup"><span data-stu-id="cb0cb-107">You can then embed the binary resource file  in an application executable or an application library by using a language compiler, or you can embed it in a satellite assembly by using [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="cb0cb-108">Дополнительные сведения см. в разделе [Ресурсы в текстовых файлах](creating-resource-files-for-desktop-apps.md#TextFiles).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-108">For more information, see the [Resources in Text Files](creating-resource-files-for-desktop-apps.md#TextFiles) section.</span></span>

- <span data-ttu-id="cb0cb-109">Создайте XML-файл ресурсов (RESX-файл), который содержит строки, изображения или данные объектов.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-109">Create an XML resource (.resx) file that contains string, image, or object data.</span></span> <span data-ttu-id="cb0cb-110">Для преобразования RESX-файла в двоичный файл ресурсов (RESOURCES-файл) можно использовать [генератор файлов ресурсов (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-110">You can use [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) to convert the .resx file into a binary resource (.resources) file.</span></span> <span data-ttu-id="cb0cb-111">Затем двоичный файл ресурсов можно внедрить в исполняемый файл приложения или библиотеку приложения с помощью компилятора языка или во вспомогательную сборку с помощью [компоновщика сборок (Al.exe)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-111">You can then embed the binary resource file in an application executable or an application library by using a language compiler, or you can embed it in a satellite assembly by using [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="cb0cb-112">Дополнительные сведения см. в разделе [Ресурсы в RESX-файлах](creating-resource-files-for-desktop-apps.md#ResxFiles).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-112">For more information, see the [Resources in .resx Files](creating-resource-files-for-desktop-apps.md#ResxFiles) section.</span></span>

- <span data-ttu-id="cb0cb-113">Создайте XML-файл ресурсов (RESX-файл) программным способом с помощью типов в пространстве имен <xref:System.Resources>.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-113">Create an XML resource (.resx) file programmatically by using types in the <xref:System.Resources> namespace.</span></span> <span data-ttu-id="cb0cb-114">Можно создать RESX-файл, перечислить его ресурсы и извлечь конкретные ресурсы по имени.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-114">You can create a .resx file, enumerate its resources, and retrieve specific resources by name.</span></span> <span data-ttu-id="cb0cb-115">Дополнительные сведения см. в разделе [Работа с RESX-файлами программным способом](working-with-resx-files-programmatically.md).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-115">For more information, see [Working with .resx Files Programmatically](working-with-resx-files-programmatically.md).</span></span>

- <span data-ttu-id="cb0cb-116">Создайте двоичный файл ресурсов (RESOURCES-файл) программным способом.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-116">Create a binary resource (.resources) file programmatically.</span></span> <span data-ttu-id="cb0cb-117">Затем этот файл можно внедрить в исполняемый файл приложения или библиотеку приложения с помощью компилятора языка или во вспомогательную сборку с помощью [компоновщика сборок (Al.exe)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-117">You can then embed the file in an application executable or an application library by using a language compiler, or you can embed it in a satellite assembly by using [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span> <span data-ttu-id="cb0cb-118">Дополнительные сведения см. в разделе [Ресурсы в RESOURCES-файлах](creating-resource-files-for-desktop-apps.md#ResourcesFiles).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-118">For more information, see the [Resources in .resources Files](creating-resource-files-for-desktop-apps.md#ResourcesFiles) section.</span></span>

- <span data-ttu-id="cb0cb-119">Создайте файл ресурсов в [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) и включите этот файл в проект.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-119">Use [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) to create a resource file and include it in your project.</span></span> <span data-ttu-id="cb0cb-120">В Visual Studio есть редактор ресурсов,с помощью которого можно добавлять, удалять и изменять ресурсы.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-120">Visual Studio provides a resource editor that lets you add, delete, and modify resources.</span></span> <span data-ttu-id="cb0cb-121">Во время компиляции файл ресурсов автоматически преобразуется в двоичный RESOURCES-файл и внедряется в сборку приложения или вспомогательную сборку.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-121">At compile time, the resource file is automatically converted to a binary .resources file and embedded in an application assembly or satellite assembly.</span></span> <span data-ttu-id="cb0cb-122">Дополнительные сведения см. в разделе [Файлы ресурсов в Visual Studio](creating-resource-files-for-desktop-apps.md#VSResFiles).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-122">For more information, see the [Resource Files in Visual Studio](creating-resource-files-for-desktop-apps.md#VSResFiles) section.</span></span>

<a name="TextFiles"></a>
## <a name="resources-in-text-files"></a><span data-ttu-id="cb0cb-123">Ресурсы в формате текстовых файлов</span><span class="sxs-lookup"><span data-stu-id="cb0cb-123">Resources in text files</span></span>

<span data-ttu-id="cb0cb-124">В текстовых файлах (TXT или RESTEXT) можно сохранять только строковые ресурсы.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-124">You can use text (.txt or .restext) files to store string resources only.</span></span> <span data-ttu-id="cb0cb-125">Для нестроковых ресурсов используйте RESX-файлы или создавайте их программными средствами.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-125">For non-string resources, use .resx files or create them programmatically.</span></span> <span data-ttu-id="cb0cb-126">Текстовые файлы, содержащие строковые ресурсы, имеют следующий формат.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-126">Text files that contain string resources have the following format:</span></span>

```text
# This is an optional comment.
name = value

; This is another optional comment.
name = value

; The following supports conditional compilation if X is defined.
#ifdef X
name1=value1
name2=value2
#endif

# The following supports conditional compilation if Y is undefined.
#if !Y
name1=value1
name2=value2
#endif
```

 <span data-ttu-id="cb0cb-127">Форматы TXT- и RESTEXT-файлов ресурсов идентичны.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-127">The resource file format of .txt and .restext files is identical.</span></span> <span data-ttu-id="cb0cb-128">Расширение файла RESTEX служит для того, чтобы текстовые файлы сразу опознавались как файлы ресурсов на основе текста.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-128">The .restext file extension merely serves to make text files immediately identifiable as text-based resource files.</span></span>

 <span data-ttu-id="cb0cb-129">Строковые ресурсы представляются в виде пар *имя/значение*, где *имя* — строка, определяющая ресурс, а *значение* — строка ресурса, которая возвращается при передаче *имени* методу извлечения ресурсов, например, <xref:System.Resources.ResourceManager.GetString%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-129">String resources appear as *name/value* pairs, where *name* is a string that identifies the resource, and *value* is the resource string that is returned when you pass *name* to a resource retrieval method such as <xref:System.Resources.ResourceManager.GetString%2A?displayProperty=nameWithType>.</span></span> <span data-ttu-id="cb0cb-130">*Имя* и *значение* должны быть разделены знаком равенства (=).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-130">*name* and *value* must be separated by an equal sign (=).</span></span> <span data-ttu-id="cb0cb-131">Пример:</span><span class="sxs-lookup"><span data-stu-id="cb0cb-131">For example:</span></span>

```text
FileMenuName=File
EditMenuName=Edit
ViewMenuName=View
HelpMenuName=Help
```

> [!CAUTION]
> <span data-ttu-id="cb0cb-132">Не следует использовать файлы ресурсов для хранения паролей, конфиденциальной информации или личных данных.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-132">Do not use resource files to store passwords, security-sensitive information, or private data.</span></span>

 <span data-ttu-id="cb0cb-133">В текстовых файлах допускаются пустые строки (то есть, ресурсы, значение которых равно <xref:System.String.Empty?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-133">Empty strings (that is, a resource whose value is <xref:System.String.Empty?displayProperty=nameWithType>) are permitted in text files.</span></span> <span data-ttu-id="cb0cb-134">Пример:</span><span class="sxs-lookup"><span data-stu-id="cb0cb-134">For example:</span></span>

```text
EmptyString=
```

 <span data-ttu-id="cb0cb-135">Начиная с .NET Framework 4.5 и во всех версиях .NET `#ifdef`Core, текстовые файлы поддерживают условную компиляцию с *символом*... `#endif` и `#if !` *символ*... `#endif` конструкций.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-135">Starting with .NET Framework 4.5 and in all versions of .NET Core, text files support conditional compilation with the `#ifdef`*symbol*... `#endif` and `#if !`*symbol*... `#endif` constructs.</span></span> <span data-ttu-id="cb0cb-136">Для определения символов можно использовать [генератор файлов ресурсов (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) с параметром `/define`.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-136">You can then use the `/define` switch with [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) to define symbols.</span></span> <span data-ttu-id="cb0cb-137">Каждый ресурс `#ifdef`требует своего *символа*... `#endif` или `#if !` *символ*... `#endif` построить.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-137">Each resource requires its own `#ifdef`*symbol*... `#endif` or `#if !`*symbol*... `#endif` construct.</span></span> <span data-ttu-id="cb0cb-138">Если при использовании оператора `#ifdef` указан *символ*, связанный ресурс добавляется в RESOURCES-файл; в противном случае он не добавляется.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-138">If you use an `#ifdef` statement and *symbol* is defined, the associated resource is included in the .resources file; otherwise, it is not included.</span></span> <span data-ttu-id="cb0cb-139">Если при использовании оператора `#if !`*символ* не указан, связанный ресурс добавляется в RESOURCES-файл; в противном случае он не добавляется.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-139">If you use an `#if !` statement and *symbol* is not defined, the associated resource is included in the .resources file; otherwise, it is not included.</span></span>

 <span data-ttu-id="cb0cb-140">Комментарии в текстовых файлах необязательны и начинаются с точки с запятой (;) или знака решетки (#) в начале строки.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-140">Comments are optional in text files and are preceded either by a semicolon (;) or by a pound sign (#) at the beginning of a line.</span></span> <span data-ttu-id="cb0cb-141">Строки с комментариями могут находиться в любом месте файла.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-141">Lines that contain comments can be placed anywhere in the file.</span></span> <span data-ttu-id="cb0cb-142">Комментарии не включаются в скомпилированный RESOURCES-файл, созданный с помощью [генератора файлов ресурсов (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-142">Comments are not included in a compiled .resources file that is created by using [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md).</span></span>

 <span data-ttu-id="cb0cb-143">Любые пустые строки в текстовых файлах считаются содержащими пробелы и игнорируются.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-143">Any blank lines in the text files are considered to be white space and are ignored.</span></span>

 <span data-ttu-id="cb0cb-144">В следующем примере определяются два строковых ресурса с именами `OKButton` и `CancelButton`.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-144">The following example defines two string resources named `OKButton` and `CancelButton`.</span></span>

```text
#Define resources for buttons in the user interface.
OKButton=OK
CancelButton=Cancel
```

 <span data-ttu-id="cb0cb-145">Если в текстовом файле содержатся дубликаты *имен*, [генератор файлов ресурсов (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) отображает предупреждение и игнорирует второе имя.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-145">If the text file contains duplicate occurrences of *name*, [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) displays a warning and ignores the second name.</span></span>

 <span data-ttu-id="cb0cb-146">*значение* не может содержать новые символы строки, но вы `\n` можете использовать C `\t` язык стиле побега символов, таких как представлять новую строку и представлять вкладку. Вы также можете включить backslash характер, если он\\\\сбежал (например, "").</span><span class="sxs-lookup"><span data-stu-id="cb0cb-146">*value* cannot contain new line characters, but you can use C language-style escape characters such as `\n` to represent a new line and `\t` to represent a tab. You can also include a backslash character if it is escaped (for example, "\\\\").</span></span> <span data-ttu-id="cb0cb-147">Также допускаются пустые строки.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-147">In addition, an empty string is permitted.</span></span>

 <span data-ttu-id="cb0cb-148">Сохранить ресурсы в формате текстовых файлов с помощью кодирования UTF-8 или кодирования UTF-16 в порядке малого конца или большого конца.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-148">Save resources in text file format by using UTF-8 encoding or UTF-16 encoding in either little-endian or big-endian byte order.</span></span> <span data-ttu-id="cb0cb-149">Но [генератор файлов ресурсов (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md), преобразующий TXT-файл в RESOURCES-файл, по умолчанию обрабатывает файлы в кодировке UTF-8.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-149">However, [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md), which converts a .txt file to a .resources file, treats files as UTF-8 by default.</span></span> <span data-ttu-id="cb0cb-150">Если вы хотите, чтобы программа Resgen.exe могла работать с файлом в кодировке UTF-16, необходимо указать метку порядка байтов Юникода (U+FEFF) в начале файла.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-150">If you want Resgen.exe to recognize a file that was encoded using UTF-16, you must include a Unicode byte order mark (U+FEFF) at the beginning of the file.</span></span>

 <span data-ttu-id="cb0cb-151">Чтобы внедрить файл ресурсов в текстовом формате в сборку .NET, необходимо преобразовать текстовый файл в двоичный файл ресурсов (RESOURCES) с помощью [генератора файлов ресурсов (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-151">To embed a resource file in text format into a .NET assembly, you must convert the file to a binary resource (.resources) file by using [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md).</span></span> <span data-ttu-id="cb0cb-152">Затем можно внедрить RESOURCES-файл в сборку .NET с помощью компилятора языка или во вспомогательную сборку с помощью [компоновщика сборок (Al.exe)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-152">You can then embed the .resources file in a .NET assembly by using a language compiler or embed it in a satellite assembly by using [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span>

 <span data-ttu-id="cb0cb-153">В следующем примере используется файл ресурсов в текстовом формате GreetingResources.txt для простого консольного приложения "Hello World".</span><span class="sxs-lookup"><span data-stu-id="cb0cb-153">The following example uses a resource file in text format named GreetingResources.txt for a simple "Hello World" console application.</span></span> <span data-ttu-id="cb0cb-154">Текстовый файл определяет две `prompt` строки, и, `greeting`что побудить пользователя ввести свое имя и отобразить приветствие.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-154">The text file defines two strings, `prompt` and `greeting`, that prompt the user to enter their name and display a greeting.</span></span>

```text
# GreetingResources.txt
# A resource file in text format for a "Hello World" application.
#
# Initial prompt to the user.
prompt=Enter your name:
# Format string to display the result.
greeting=Hello, {0}!
```

<span data-ttu-id="cb0cb-155">Текстовый файл преобразуется в RESOURCES-файл с помощью следующей команды:</span><span class="sxs-lookup"><span data-stu-id="cb0cb-155">The text file is converted to a .resources file by using the following command:</span></span>

```console
resgen GreetingResources.txt
```

 <span data-ttu-id="cb0cb-156">В следующем примере показан исходный код для консольного приложения, которое получает сообщения из RESOURCES-файла и выводит их на экран.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-156">The following example shows the source code for a console application that uses the .resources file to display messages to the user.</span></span>

 [!code-csharp[Conceptual.Resources.TextFiles#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.textfiles/cs/greeting.cs#1)]
 [!code-vb[Conceptual.Resources.TextFiles#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.textfiles/vb/greeting.vb#1)]

 <span data-ttu-id="cb0cb-157">Если вы используете Visual Basic и файл с исходным кодом называется Greeting.vb, используйте следующую команду для создания исполняемого файла, содержащего внедренный RESOURCES-файл:</span><span class="sxs-lookup"><span data-stu-id="cb0cb-157">If you are using Visual Basic, and the source code file is named Greeting.vb, the following command creates an executable file that includes the embedded .resources file:</span></span>

```console
vbc greeting.vb -resource:GreetingResources.resources
```

 <span data-ttu-id="cb0cb-158">Если вы используете C# и файл исходного кода называется Greeting.cs, исполняемый файл, содержащий внедренный RESOURCES-файл, создается с помощью следующей команды:</span><span class="sxs-lookup"><span data-stu-id="cb0cb-158">If you are using C#, and the source code file is named Greeting.cs, the following command creates an executable file that includes the embedded .resources file:</span></span>

```console
csc greeting.cs -resource:GreetingResources.resources
```

<a name="ResxFiles"></a>
## <a name="resources-in-resx-files"></a><span data-ttu-id="cb0cb-159">Ресурсы в RESX-файлах</span><span class="sxs-lookup"><span data-stu-id="cb0cb-159">Resources in .resx files</span></span>
 <span data-ttu-id="cb0cb-160">В отличие от текстовых файлов, в которых могут храниться только строковые ресурсы, в XML-файлах ресурсов (RESX) могут храниться строки, двоичные данные (такие как изображения, значки и аудиоклипы) и программные объекты.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-160">Unlike text files, which can only store string resources, XML resource (.resx) files can store strings, binary data such as images, icons, and audio clips, and programmatic objects.</span></span> <span data-ttu-id="cb0cb-161">RESX-файл содержит стандартный заголовок, который описывает формат записей ресурсов и включает сведения о версии XML, которые используются для анализа данных.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-161">A .resx file contains a standard header, which describes the format of the resource entries and specifies the versioning information for the XML that is used to parse the data.</span></span> <span data-ttu-id="cb0cb-162">За заголовком XML следуют данные в файле ресурсов.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-162">The resource file data follows the XML header.</span></span> <span data-ttu-id="cb0cb-163">Каждый элемент данных состоит из пары "имя-значение", заключенной в тег `data`.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-163">Each data item consists of a name/value pair that is contained in a `data` tag.</span></span> <span data-ttu-id="cb0cb-164">Атрибут `name` этого тега определяет имя ресурса, а вложенный тег `value` содержит значение ресурса.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-164">Its `name` attribute defines the resource name, and the nested `value` tag contains the resource value.</span></span> <span data-ttu-id="cb0cb-165">Для строковых данных тег `value` содержит строку.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-165">For string data, the `value` tag contains the string.</span></span>

 <span data-ttu-id="cb0cb-166">Например, следующий тег `data` определяет строковый ресурс с именем `prompt` и значением "Enter your name:".</span><span class="sxs-lookup"><span data-stu-id="cb0cb-166">For example, the following `data` tag defines a string resource named `prompt` whose value is "Enter your name:".</span></span>

```xml
<data name="prompt" xml:space="preserve">
  <value>Enter your name:</value>
</data>
```

> [!WARNING]
> <span data-ttu-id="cb0cb-167">Не следует использовать файлы ресурсов для хранения паролей, конфиденциальной информации или личных данных.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-167">Do not use resource files to store passwords, security-sensitive information, or private data.</span></span>

 <span data-ttu-id="cb0cb-168">Для объектов ресурсов тег **data** содержит атрибут `type`, указывающий тип данных ресурса.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-168">For resource objects, the **data** tag includes a `type` attribute that indicates the data type of the resource.</span></span> <span data-ttu-id="cb0cb-169">Для объектов, состоящих из двоичных данных, тег `data` также включает атрибут `mimetype`, который указывает тип `base64` двоичных данных.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-169">For objects that consist of binary data, the `data` tag also includes a `mimetype` attribute, which indicates the `base64` type of the binary data.</span></span>

> [!NOTE]
> <span data-ttu-id="cb0cb-170">Во всех RESX-файлах для создания и анализа двоичных данных заданного типа используется форматтер двоичной сериализации.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-170">All .resx files use a binary serialization formatter to generate and parse the binary data for a specified type.</span></span> <span data-ttu-id="cb0cb-171">В результате, если формат двоичной сериализации для объекта изменится недопустимым образом, RESX-файл может стать недействительным.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-171">As a result, a .resx file can become invalid if the binary serialization format for an object changes in an incompatible way.</span></span>

 <span data-ttu-id="cb0cb-172">В следующем примере показана часть RESX-файла, в которой содержится ресурс <xref:System.Int32> и растровое изображение.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-172">The following example shows a portion of a .resx file that includes an <xref:System.Int32> resource and a bitmap image.</span></span>

```xml
<data name="i1" type="System.Int32, mscorlib">
  <value>20</value>
</data>

<data name="flag" type="System.Drawing.Bitmap, System.Drawing,
    Version=1.0.5000.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a"
    mimetype="application/x-microsoft.net.object.bytearray.base64">
  <value>
    AAEAAAD/////AQAAAAAAAAAMAgAAADtTeX…
  </value>
</data>
```

> [!IMPORTANT]
> <span data-ttu-id="cb0cb-173">Так как RESX-файлы должны представлять собой XML-код с правильным, заранее определенным форматом, с ними не рекомендуется работать вручную, особенно если они содержат нестроковые ресурсы.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-173">Because .resx files must consist of well-formed XML in a predefined format, we do not recommend working with .resx files manually, particularly when the .resx files contain resources other than strings.</span></span> <span data-ttu-id="cb0cb-174">Вместо этого в [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) предусмотрен прозрачный интерфейс для создания RESX-файлов и управления ими.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-174">Instead, [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) provides a transparent interface for creating and manipulating .resx files.</span></span> <span data-ttu-id="cb0cb-175">Дополнительные сведения см. в разделе [Файлы ресурсов в Visual Studio](creating-resource-files-for-desktop-apps.md#VSResFiles).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-175">For more information, see the [Resource Files in Visual Studio](creating-resource-files-for-desktop-apps.md#VSResFiles) section.</span></span> <span data-ttu-id="cb0cb-176">Создавать RESX-файлы и управлять ими можно также программно.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-176">You can also create and manipulate .resx files programmatically.</span></span> <span data-ttu-id="cb0cb-177">Дополнительные сведения см. в разделе [Работа с RESX-файлами программным способом](working-with-resx-files-programmatically.md).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-177">For more information, see [Working with .resx Files Programmatically](working-with-resx-files-programmatically.md).</span></span>

<a name="ResourcesFiles"></a>
## <a name="resources-in-resources-files"></a><span data-ttu-id="cb0cb-178">Ресурсы в RESOURCES-файлах</span><span class="sxs-lookup"><span data-stu-id="cb0cb-178">Resources in .resources files</span></span>

<span data-ttu-id="cb0cb-179">Для программного создания двоичного файла ресурсов (RESOURCES-файла) непосредственно из кода можно использовать класс <xref:System.Resources.ResourceWriter?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-179">You can use the <xref:System.Resources.ResourceWriter?displayProperty=nameWithType> class to programmatically create a binary resource (.resources) file directly from code.</span></span> <span data-ttu-id="cb0cb-180">Для создания RESOURCES-файла из текстового файла или RESX-файла можно также использовать [генератор файлов ресурсов (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-180">You can also use [Resource File Generator (Resgen.exe)](../tools/resgen-exe-resource-file-generator.md) to create a .resources file from a text file or a .resx file.</span></span> <span data-ttu-id="cb0cb-181">Помимо строковых данных, RESOURCES-файл может содержать двоичные данные (массивы байтов) и данные объектов.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-181">The .resources file can contain binary data (byte arrays) and object data in addition to string data.</span></span> <span data-ttu-id="cb0cb-182">Для программного создания RESOURCES-файла необходимо выполнить следующие действия.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-182">Programmatically creating a .resources file requires the following steps:</span></span>

1. <span data-ttu-id="cb0cb-183">Создайте объект <xref:System.Resources.ResourceWriter> с уникальным именем файла.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-183">Create a <xref:System.Resources.ResourceWriter> object with a unique file name.</span></span> <span data-ttu-id="cb0cb-184">Это можно сделать, указав имя файла или файловый поток для конструктора класса <xref:System.Resources.ResourceWriter>.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-184">You can do this by specifying either a file name or a file stream to a <xref:System.Resources.ResourceWriter> class constructor.</span></span>

2. <span data-ttu-id="cb0cb-185">Вызовите одну из перегрузок метода <xref:System.Resources.ResourceWriter.AddResource%2A?displayProperty=nameWithType> для каждого именованного ресурса, который требуется добавить в файл.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-185">Call one of the overloads of the <xref:System.Resources.ResourceWriter.AddResource%2A?displayProperty=nameWithType> method for each named resource to add to the file.</span></span> <span data-ttu-id="cb0cb-186">Ресурсом может быть строка, объект или коллекция двоичных данных (массив байтов).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-186">The resource can be a string, an object, or a collection of binary data (a byte array).</span></span>

3. <span data-ttu-id="cb0cb-187">Вызовете метод <xref:System.Resources.ResourceWriter.Close%2A?displayProperty=nameWithType>, чтобы записать ресурсы в файл и закрыть объект <xref:System.Resources.ResourceWriter>.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-187">Call the <xref:System.Resources.ResourceWriter.Close%2A?displayProperty=nameWithType> method to write the resources to the file and to close the <xref:System.Resources.ResourceWriter> object.</span></span>

> [!NOTE]
> <span data-ttu-id="cb0cb-188">Не следует использовать файлы ресурсов для хранения паролей, конфиденциальной информации или личных данных.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-188">Do not use resource files to store passwords, security-sensitive information, or private data.</span></span>

 <span data-ttu-id="cb0cb-189">В следующем примере программным способом создается RESOURCES-файл с именем CarResources.resources, в котором хранятся шесть строк, значок и два объекта, определяемые приложением (два объекта `Automobile`).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-189">The following example programmatically creates a .resources file named CarResources.resources that stores six strings, an icon, and two application-defined objects (two `Automobile` objects).</span></span> <span data-ttu-id="cb0cb-190">Класс, `Automobile` который определен и мгновенно в примере, помечен <xref:System.SerializableAttribute> атрибутом, который позволяет ему сохраняться в бинарном размере сериализации.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-190">The `Automobile` class, which is defined and instantiated in the example, is tagged with the <xref:System.SerializableAttribute> attribute, which allows it to be persisted by the binary serialization formatter.</span></span>

 [!code-csharp[Conceptual.Resources.Resources#1](../../../samples/snippets/csharp/VS_Snippets_CLR/conceptual.resources.resources/cs/resources1.cs#1)]
 [!code-vb[Conceptual.Resources.Resources#1](../../../samples/snippets/visualbasic/VS_Snippets_CLR/conceptual.resources.resources/vb/resources1.vb#1)]

 <span data-ttu-id="cb0cb-191">После создания RESOURCES-файла его можно внедрить в исполняемый файл среды выполнения или библиотеку, используя параметр `/resource` компилятора языка, или во вспомогательную сборку с помощью [компоновщик сборок (Al.exe)](../tools/al-exe-assembly-linker.md).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-191">After you create the .resources file, you can embed it in a run-time executable or library by including the language compiler's `/resource` switch, or embed it in a satellite assembly by using [Assembly Linker (Al.exe)](../tools/al-exe-assembly-linker.md).</span></span>

<a name="VSResFiles"></a>
## <a name="resource-files-in-visual-studio"></a><span data-ttu-id="cb0cb-192">Файлы ресурсов в Visual Studio</span><span class="sxs-lookup"><span data-stu-id="cb0cb-192">Resource files in Visual Studio</span></span>

<span data-ttu-id="cb0cb-193">При добавлении файла ресурсов в проект [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) среда Visual Studio создает RESX-файл в каталоге проекта.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-193">When you add a resource file to your [Visual Studio](https://visualstudio.microsoft.com/vs/?utm_medium=microsoft&utm_source=docs.microsoft.com&utm_campaign=inline+link) project, Visual Studio creates a .resx file in the project directory.</span></span> <span data-ttu-id="cb0cb-194">В Visual Studio имеются редакторы ресурсов, позволяющие добавлять строки, изображения и двоичные объекты.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-194">Visual Studio provides resource editors that enable you to add strings, images, and binary objects.</span></span> <span data-ttu-id="cb0cb-195">Так как редакторы предназначены для обработки только статических данных, их нельзя использовать для хранения программных объектов; данные объектов необходимо записывать в RESX- или RESOURCES-файл программным способом.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-195">Because the editors are designed to handle static data only, they cannot be used to store programmatic objects; you must write object data to either a .resx file or to a .resources file programmatically.</span></span> <span data-ttu-id="cb0cb-196">Дополнительные сведения см. в статье [Работа с RESX-файлами программным способом](working-with-resx-files-programmatically.md) и разделе [Ресурсы в RESOURCES-файлах](creating-resource-files-for-desktop-apps.md#ResourcesFiles).</span><span class="sxs-lookup"><span data-stu-id="cb0cb-196">For more information, see [Working with .resx Files Programmatically](working-with-resx-files-programmatically.md) and the [Resources in .resources Files](creating-resource-files-for-desktop-apps.md#ResourcesFiles) section.</span></span>

<span data-ttu-id="cb0cb-197">При добавлении локализованных ресурсов указывайте для них то же имя корневого файла, что и для основного файла ресурсов.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-197">If you're adding localized resources, give them the same root file name as the main resource file.</span></span> <span data-ttu-id="cb0cb-198">Также в имени файла необходимо указать язык и региональные параметры.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-198">You should also designate their culture in the file name.</span></span> <span data-ttu-id="cb0cb-199">Например, при добавлении файла ресурсов с именем Resources.resx можно также создать файлы ресурсов с именами Resources.en-US.resx и Resources.fr-FR.resx, чтобы сохранить локализованные ресурсы для английского (США) и французского (Франция) языков и региональных параметров соответственно.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-199">For example, if you add a resource file named Resources.resx, you might also create resource files named Resources.en-US.resx and Resources.fr-FR.resx to hold localized resources for the English (United States) and French (France) cultures, respectively.</span></span> <span data-ttu-id="cb0cb-200">Следует также указать язык и региональные параметры по умолчанию для приложения.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-200">You should also designate your application's default culture.</span></span> <span data-ttu-id="cb0cb-201">Это язык и региональные параметры, ресурсы которых используются в том случае, если для конкретного языка и региональных параметров никаких локализованных ресурсов обнаружить не удается.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-201">This is the culture whose resources are used if no localized resources for a particular culture can be found.</span></span> <span data-ttu-id="cb0cb-202">Чтобы задать язык и региональные параметры по умолчанию, в обозревателе решений Visual Studio щелкните правой кнопкой мыши имя проекта, выберите "Приложение", щелкните **Сведения о сборке** и в списке **Нейтральный язык** выберите соответствующий язык и региональные параметры.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-202">To specify the default culture, in Solution Explorer in Visual Studio, right-click the project name, point to Application, click **Assembly Information**, and select the appropriate language/culture in the **Neutral language** list.</span></span>

<span data-ttu-id="cb0cb-203">Во время компиляции среда Visual Studio сначала преобразует RESX-файлы проекта в двоичные файлы ресурсов (RESOURCES) и сохраняет их в подкаталоге каталога *obj* проекта.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-203">At compile time, Visual Studio first converts the .resx files in a project to binary resource (.resources) files and stores them in a subdirectory of the project's *obj* directory.</span></span> <span data-ttu-id="cb0cb-204">Visual Studio внедряет любые файлы ресурсов, не содержащие локализованные ресурсы, в основную сборку, созданную проектом.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-204">Visual Studio embeds any resource files that do not contain localized resources in the main assembly that is generated by the project.</span></span> <span data-ttu-id="cb0cb-205">Если в каких-либо файлах ресурсов есть локализованные ресурсы, Visual Studio внедряет их в отдельные вспомогательные сборки для каждого локализованного языка и региональных параметров.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-205">If any resource files contain localized resources, Visual Studio embeds them in separate satellite assemblies for each localized culture.</span></span> <span data-ttu-id="cb0cb-206">Затем Visual Studio сохраняет каждую вспомогательную сборку в каталоге, имя которого соответствует локализованному языку и региональным параметрам.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-206">It then stores each satellite assembly in a directory whose name corresponds to the localized culture.</span></span> <span data-ttu-id="cb0cb-207">Например, локализованные ресурсы английского языка (США) сохраняются во вспомогательной сборке в подкаталоге en-US.</span><span class="sxs-lookup"><span data-stu-id="cb0cb-207">For example, localized English (United States) resources are stored in a satellite assembly in the en-US subdirectory.</span></span>

## <a name="see-also"></a><span data-ttu-id="cb0cb-208">См. также раздел</span><span class="sxs-lookup"><span data-stu-id="cb0cb-208">See also</span></span>

- <xref:System.Resources>
- [<span data-ttu-id="cb0cb-209">Ресурсы в приложениях для настольных систем</span><span class="sxs-lookup"><span data-stu-id="cb0cb-209">Resources in Desktop Apps</span></span>](index.md)
- [<span data-ttu-id="cb0cb-210">Packaging and Deploying Resources</span><span class="sxs-lookup"><span data-stu-id="cb0cb-210">Packaging and Deploying Resources</span></span>](packaging-and-deploying-resources-in-desktop-apps.md)
