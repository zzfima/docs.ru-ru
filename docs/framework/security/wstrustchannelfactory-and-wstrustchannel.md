---
title: WSTrustChannelFactory и WSTrustChannel
ms.date: 03/30/2017
ms.assetid: 96cec467-e963-4132-b18b-7d0b3a2e979f
author: BrucePerlerMS
manager: mbaldwin
ms.openlocfilehash: 7dfe18a55d8c7f56db1906cb2aa982ab043841c7
ms.sourcegitcommit: 4b6490b2529707627ad77c3a43fbe64120397175
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/10/2018
ms.locfileid: "44262305"
---
# <a name="wstrustchannelfactory-and-wstrustchannel"></a><span data-ttu-id="a8364-102">WSTrustChannelFactory и WSTrustChannel</span><span class="sxs-lookup"><span data-stu-id="a8364-102">WSTrustChannelFactory and WSTrustChannel</span></span>
<span data-ttu-id="a8364-103">Если вы уже знакомы с платформой Windows Communication Foundation (WCF), значит вам также известно, что клиент WCF уже включает возможности федерации.</span><span class="sxs-lookup"><span data-stu-id="a8364-103">If you are already familiar with Windows Communication Foundation (WCF), you know that a WCF client is already federation aware.</span></span> <span data-ttu-id="a8364-104">Путем настройки клиента WCF с привязкой <xref:System.ServiceModel.WSFederationHttpBinding> или аналогичной пользовательской привязкой можно включить федеративную проверку подлинности для службы.</span><span class="sxs-lookup"><span data-stu-id="a8364-104">By configuring a WCF client with a <xref:System.ServiceModel.WSFederationHttpBinding> or similar custom binding, you can enable federated authentication to a service.</span></span>  
  
 <span data-ttu-id="a8364-105">WCF получает токен, скрытно выданный службой маркеров безопасности (STS), и использует его в целях проверки подлинности в службе.</span><span class="sxs-lookup"><span data-stu-id="a8364-105">WCF obtains the token that is issued by the security token service (STS) behind the scenes and uses this token to authenticate to the service.</span></span> <span data-ttu-id="a8364-106">Единственным ограничением при таком подходе является отсутствие возможности отслеживать взаимодействие клиента с сервером.</span><span class="sxs-lookup"><span data-stu-id="a8364-106">The main limitation to this approach is that there is no visibility into the client’s communications with the server.</span></span> <span data-ttu-id="a8364-107">WCF автоматически создает токен безопасности запроса для службы STS на основе параметров выданного токена в привязке.</span><span class="sxs-lookup"><span data-stu-id="a8364-107">WCF automatically generates the request security token (RST) to the STS based on the issued token parameters on the binding.</span></span> <span data-ttu-id="a8364-108">Это означает, что клиент не может изменять параметры токена безопасности запроса для каждого запроса, проверять ответ токена безопасности запроса для получения таких сведений, как отображаемые утверждения, или кэшировать токен для последующего использования.</span><span class="sxs-lookup"><span data-stu-id="a8364-108">This means that the client cannot vary the RST parameters per request, inspect the request security token response (RSTR) to get information such as display claims, or cache the token for future use.</span></span>  
  
 <span data-ttu-id="a8364-109">В настоящее время клиент WCF способен выполнять основные сценарии федерации.</span><span class="sxs-lookup"><span data-stu-id="a8364-109">Currently, the WCF client is suitable for basic federation scenarios.</span></span> <span data-ttu-id="a8364-110">Тем не менее один из основных сценариев, поддерживаемых Windows Identity Foundation (WIF), подразумевает контроль над токеном безопасности запроса на уровне, на котором WCF не позволяет легко осуществлять его.</span><span class="sxs-lookup"><span data-stu-id="a8364-110">However, one of the major scenarios that Windows Identity Foundation (WIF) supports requires control over the RST at a level that WCF does not easily allow.</span></span> <span data-ttu-id="a8364-111">По этой причине в WIF добавлены функции, обеспечивающие более тщательный контроль над взаимодействием со службой STS.</span><span class="sxs-lookup"><span data-stu-id="a8364-111">Therefore, WIF adds features that give you more control over communication with the STS.</span></span>  
  
 <span data-ttu-id="a8364-112">WIF поддерживает следующие сценарии федерации:</span><span class="sxs-lookup"><span data-stu-id="a8364-112">WIF supports the following federation scenarios:</span></span>  
  
-   <span data-ttu-id="a8364-113">использование клиента WCF без зависимостей WIF в целях проверки подлинности в федеративной службе;</span><span class="sxs-lookup"><span data-stu-id="a8364-113">Using a WCF client without any WIF dependencies to authenticate to a federated service</span></span>  
  
-   <span data-ttu-id="a8364-114">включение WIF в клиенте WCF для вставки элемента ActAs или OnBehalfOf в токен безопасности запроса для службы STS;</span><span class="sxs-lookup"><span data-stu-id="a8364-114">Enabling WIF on a WCF client to insert an ActAs or OnBehalfOf element into the RST to the STS</span></span>  
  
-   <span data-ttu-id="a8364-115">использование WIF для получения токена от службы STS и настройки клиента WCF для проверки подлинности с данным токеном.</span><span class="sxs-lookup"><span data-stu-id="a8364-115">Using WIF alone to obtain a token from the STS and then enable a WCF client to authenticate with this token.</span></span> <span data-ttu-id="a8364-116">Дополнительные сведения см. в описании примера [ClaimsAwareWebService](https://go.microsoft.com/fwlink/?LinkID=248406).</span><span class="sxs-lookup"><span data-stu-id="a8364-116">For more information, see [ClaimsAwareWebService](https://go.microsoft.com/fwlink/?LinkID=248406) sample.</span></span>  
  
 <span data-ttu-id="a8364-117">Название первого сценария говорит само за себя: существующие клиенты WCF будут продолжать работать с проверяющими сторонами WIF и службами STS.</span><span class="sxs-lookup"><span data-stu-id="a8364-117">The first scenario is self-explanatory: Existing WCF clients will continue to work with WIF relying parties and STSs.</span></span> <span data-ttu-id="a8364-118">В данном же разделе рассматриваются два других сценария.</span><span class="sxs-lookup"><span data-stu-id="a8364-118">This topic discusses the remaining two scenarios.</span></span>  
  
## <a name="enhancing-an-existing-wcf-client-with-actas--onbehalfof"></a><span data-ttu-id="a8364-119">Расширение возможностей существующего клиента WCF за счет элементов ActAs и OnBehalfOf</span><span class="sxs-lookup"><span data-stu-id="a8364-119">Enhancing an Existing WCF Client with ActAs / OnBehalfOf</span></span>  
 <span data-ttu-id="a8364-120">В типичном сценарии делегирования удостоверения клиент обращается к службе среднего уровня, которая, в свою очередь, обращается к серверной службе.</span><span class="sxs-lookup"><span data-stu-id="a8364-120">In a typical identity delegation scenario, a client calls a middle-tier service, which then calls a back-end service.</span></span> <span data-ttu-id="a8364-121">Служба среднего уровня действует в качестве клиента или от его лица.</span><span class="sxs-lookup"><span data-stu-id="a8364-121">The middle-tier service acts as, or acts on behalf of, the client.</span></span>  
  
> [!TIP]
>  <span data-ttu-id="a8364-122">В чем различие между ActAs и OnBehalfOf?</span><span class="sxs-lookup"><span data-stu-id="a8364-122">What is the difference between ActAs and OnBehalfOf?</span></span>  
>   
>  <span data-ttu-id="a8364-123">С точки зрения протокола WS-Trust:</span><span class="sxs-lookup"><span data-stu-id="a8364-123">From the WS-Trust protocol standpoint:</span></span>  
>   
> 1. <span data-ttu-id="a8364-124">Элемент токена безопасности запроса ActAs указывает, что запрашивающей стороне необходим токен, содержащий утверждения о двух различных объектах: о запрашивающей стороне и внешнем объекте, представленном токеном в элементе ActAs.</span><span class="sxs-lookup"><span data-stu-id="a8364-124">An ActAs RST element indicates that the requestor wants a token that contains claims about two distinct entities: the requestor, and an external entity represented by the token in the ActAs element.</span></span>  
> 2. <span data-ttu-id="a8364-125">Элемент токена безопасности запроса OnBehalfOf указывает, что запрашивающей стороне необходим токен, содержащий утверждения только об одном объекте: о внешнем объекте, представленном токеном в элементе OnBehalfOf.</span><span class="sxs-lookup"><span data-stu-id="a8364-125">An OnBehalfOf RST element indicates that the requestor wants a token that contains claims only about one entity: the external entity represented by the token in the OnBehalfOf element.</span></span>  
>   
>  <span data-ttu-id="a8364-126">Функция ActAs обычно используется в сценариях с комплексным делегированием, в которых окончательный получатель выпущенного токена может изучить всю цепочку делегирования и получить сведения не только о клиенте, но и о всех посредниках.</span><span class="sxs-lookup"><span data-stu-id="a8364-126">The ActAs feature is typically used in scenarios that require composite delegation, where the final recipient of the issued token can inspect the entire delegation chain and see not just the client, but all intermediaries.</span></span> <span data-ttu-id="a8364-127">Это позволяет осуществлять управление доступом, проводить аудит и выполнять ряд других задач на основе всей цепочки делегирования удостоверений.</span><span class="sxs-lookup"><span data-stu-id="a8364-127">This lets it perform access control, auditing and other related activities based on the entire identity delegation chain.</span></span> <span data-ttu-id="a8364-128">Функция ActAs обычно используется в многоуровневых системах для проверки подлинности и передачи сведений об удостоверениях между уровнями без отправки этих сведений на уровень приложения или бизнес-логики.</span><span class="sxs-lookup"><span data-stu-id="a8364-128">The ActAs feature is commonly used in multi-tiered systems to authenticate and pass information about identities between the tiers without having to pass this information at the application/business logic layer.</span></span>  
>   
>  <span data-ttu-id="a8364-129">Функция OnBehalfOf используется в тех сценариях, где необходимо только удостоверение исходного клиента; эта функция фактически эквивалентна олицетворению удостоверения в Windows.</span><span class="sxs-lookup"><span data-stu-id="a8364-129">The OnBehalfOf feature is used in scenarios where only the identity of the original client is important and is effectively the same as the identity impersonation feature available in Windows.</span></span> <span data-ttu-id="a8364-130">При использовании функции OnBehalfOf окончательный получатель выпущенного токена видит только утверждения об исходном клиенте, а сведения о посредниках не сохраняются.</span><span class="sxs-lookup"><span data-stu-id="a8364-130">When OnBehalfOf is used, the final recipient of the issued token can only see claims about the original client, and the information about intermediaries is not preserved.</span></span> <span data-ttu-id="a8364-131">Одним из основных шаблонов использования функции OnBehalfOf является шаблон прокси-сервера, при котором клиент получает доступ к службе STS не напрямую, а через прокси-шлюз.</span><span class="sxs-lookup"><span data-stu-id="a8364-131">One common pattern where the OnBehalfOf feature is used is the proxy pattern where the client cannot access the STS directly but instead communicates through a proxy gateway.</span></span> <span data-ttu-id="a8364-132">Прокси-шлюз выполняет проверку подлинности вызывающей стороны и вносит сведения о ней в элемент OnBehalfOf сообщения токена безопасности запроса, который затем отправляется на обработку в службу STS.</span><span class="sxs-lookup"><span data-stu-id="a8364-132">The proxy gateway authenticates the caller and puts information about the caller into the OnBehalfOf element of the RST message that it then sends to the real STS for processing.</span></span> <span data-ttu-id="a8364-133">Итоговый токен содержит только утверждения, связанные с клиентом прокси-сервера, поэтому прокси-сервер абсолютно прозрачен для получателя выпущенного маркера. Обратите внимание на то, что WIF не поддерживает \<wsse:SecurityTokenReference> и \<wsa:EndpointReferences> в качестве дочерних элементов \<wst:OnBehalfOf>.</span><span class="sxs-lookup"><span data-stu-id="a8364-133">The resulting token contains only claims related to the client of the proxy, making the proxy completely transparent to the receiver of the issued token.Note that WIF does not support \<wsse:SecurityTokenReference> or \<wsa:EndpointReferences> as a child of \<wst:OnBehalfOf>.</span></span> <span data-ttu-id="a8364-134">В спецификации WS-Trust предусмотрено три способа идентификации исходной запрашивающей стороны (от имени которой действует прокси-сервер).</span><span class="sxs-lookup"><span data-stu-id="a8364-134">The WS-Trust specification allows for three ways to identify the original requestor (on behalf of whom the proxy is acting).</span></span> <span data-ttu-id="a8364-135">Эти особые значения приведены ниже.</span><span class="sxs-lookup"><span data-stu-id="a8364-135">These are:</span></span>  
>   
>  -   <span data-ttu-id="a8364-136">Ссылка на токен безопасности.</span><span class="sxs-lookup"><span data-stu-id="a8364-136">Security token reference.</span></span> <span data-ttu-id="a8364-137">Ссылка на токен, полученная из сообщения или извлеченная из потока данных).</span><span class="sxs-lookup"><span data-stu-id="a8364-137">A reference to a token, either in the message, or possibly retrieved out of band).</span></span>  
> -   <span data-ttu-id="a8364-138">Ссылка на конечную точку.</span><span class="sxs-lookup"><span data-stu-id="a8364-138">Endpoint reference.</span></span> <span data-ttu-id="a8364-139">Используется в качестве ключа для поиска данных в потоке данных.</span><span class="sxs-lookup"><span data-stu-id="a8364-139">Used as a key to look up data, again out of band.</span></span>  
> -   <span data-ttu-id="a8364-140">Токен безопасности.</span><span class="sxs-lookup"><span data-stu-id="a8364-140">Security token.</span></span> <span data-ttu-id="a8364-141">Непосредственно идентифицирует запрашивающую сторону.</span><span class="sxs-lookup"><span data-stu-id="a8364-141">Identifies the original requestor directly.</span></span>  
>   
>  <span data-ttu-id="a8364-142">WIF поддерживает только маркеры безопасности, как зашифрованные, так и незашифрованные, в качестве непосредственного дочернего элемента \<wst:OnBehalfOf>.</span><span class="sxs-lookup"><span data-stu-id="a8364-142">WIF supports only security tokens, either encrypted or unencrypted, as a direct child element of \<wst:OnBehalfOf>.</span></span>  
  
 <span data-ttu-id="a8364-143">Эти данные передаются издателю WS-Trust с использованием элементов токена ActAs и OnBehalfOf в токене безопасности запроса.</span><span class="sxs-lookup"><span data-stu-id="a8364-143">This information is conveyed to a WS-Trust issuer using the ActAs and OnBehalfOf token elements in the RST.</span></span>  
  
 <span data-ttu-id="a8364-144">WCF предоставляет точку расширяемости в привязке, которая позволяет добавлять произвольные XML-элементы в токен безопасности запроса.</span><span class="sxs-lookup"><span data-stu-id="a8364-144">WCF exposes an extensibility point on the binding that allows arbitrary XML elements to be added to the RST.</span></span> <span data-ttu-id="a8364-145">Однако в связи с тем, что точка расширяемости соединена с привязкой, в сценариях, в которых необходимо различное содержимое токена безопасности запроса для различных вызовов, клиент должен заново создаваться для каждого вызова, что приводит к снижению производительности.</span><span class="sxs-lookup"><span data-stu-id="a8364-145">However, because the extensibility point is tied to the binding, scenarios that require the RST contents to vary per call must re-create the client for every call, which decreases performance.</span></span> <span data-ttu-id="a8364-146">WIF использует методы расширения класса `ChannelFactory`, которые позволяют разработчикам добавлять любые токены, полученные из потока данных, к токену безопасности запроса.</span><span class="sxs-lookup"><span data-stu-id="a8364-146">WIF uses extension methods on the `ChannelFactory` class to allow developers to attach any token that is obtained out of band to the RST.</span></span> <span data-ttu-id="a8364-147">В приведенном ниже примере кода показано, как получить токен, представляющий клиент (например, X.509, имя пользователя или токен SAML), и присоединить его к токену безопасности запроса, который отправляется издателю.</span><span class="sxs-lookup"><span data-stu-id="a8364-147">The following code example shows how to take a token that represents the client (such as an X.509, username, or Security Assertion Markup Language (SAML) token) and attach it to the RST that is sent to the issuer.</span></span>  
  
```  
IHelloService serviceChannel = channelFactory.CreateChannelActingAs<IHelloService>( clientSamlToken );  
serviceChannel.Hello("Hi!");  
```  
  
 <span data-ttu-id="a8364-148">WIF предоставляет указанные ниже преимущества.</span><span class="sxs-lookup"><span data-stu-id="a8364-148">WIF provides the following benefits:</span></span>  
  
-   <span data-ttu-id="a8364-149">Токен безопасности запроса может быть изменен для отдельного канала; поэтому службам среднего уровня больше не требуется заново создавать фабрику каналов для каждого клиента, что способствует увеличению производительности.</span><span class="sxs-lookup"><span data-stu-id="a8364-149">The RST can be modified per channel; therefore, middle-tier services do not have to re-create the channel factory for each client, which improves performance.</span></span>  
  
-   <span data-ttu-id="a8364-150">Эта платформа работает с клиентами WCF, что позволяет без труда обновлять существующие службы среднего уровня WCF, обеспечивающие семантику делегирования удостоверений.</span><span class="sxs-lookup"><span data-stu-id="a8364-150">This works with existing WCF clients, which makes an easy upgrade path possible for existing WCF middle-tier services that want to enable identity delegation semantics.</span></span>  
  
 <span data-ttu-id="a8364-151">Однако возможность отслеживать взаимодействие клиента со службой STS по-прежнему отсутствует.</span><span class="sxs-lookup"><span data-stu-id="a8364-151">However, there is still no visibility into the client’s communication with the STS.</span></span> <span data-ttu-id="a8364-152">В третьем сценарии этот вопрос будет рассмотрен подробно.</span><span class="sxs-lookup"><span data-stu-id="a8364-152">We’ll examine this in the third scenario.</span></span>  
  
## <a name="communicating-directly-with-an-issuer-and-using-the-issued-token-to-authenticate"></a><span data-ttu-id="a8364-153">Непосредственная связь с издателем и использование выданного токена для проверки подлинности</span><span class="sxs-lookup"><span data-stu-id="a8364-153">Communicating Directly with an Issuer and Using the Issued Token to Authenticate</span></span>  
 <span data-ttu-id="a8364-154">Для некоторых более сложных сценариев недостаточно простого расширения клиента WCF.</span><span class="sxs-lookup"><span data-stu-id="a8364-154">For some advanced scenarios, enhancing a WCF client is not enough.</span></span> <span data-ttu-id="a8364-155">Разработчики, работающие только с WCF, как правило, используют контракты Message In/Message Out и вручную обеспечивают анализ ответа издателя на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="a8364-155">Developers who use only WCF typically use Message In / Message Out contracts and handle client-side parsing of the issuer response manually.</span></span>  
  
 <span data-ttu-id="a8364-156">В WIF добавлены классы <xref:System.ServiceModel.Security.WSTrustChannelFactory> и <xref:System.ServiceModel.Security.WSTrustChannel>, позволяющие клиенту обращаться непосредственно к издателю WS-Trust.</span><span class="sxs-lookup"><span data-stu-id="a8364-156">WIF introduces the <xref:System.ServiceModel.Security.WSTrustChannelFactory> and <xref:System.ServiceModel.Security.WSTrustChannel> classes to let the client communicate directly with a WS-Trust issuer.</span></span> <span data-ttu-id="a8364-157">Классы <xref:System.ServiceModel.Security.WSTrustChannelFactory> и <xref:System.ServiceModel.Security.WSTrustChannel> позволяют строго типизированным объектам токена безопасности запроса и ответа токена безопасности запроса передаваться между клиентом и издателем, как показано в приведенном ниже примере кода.</span><span class="sxs-lookup"><span data-stu-id="a8364-157">The <xref:System.ServiceModel.Security.WSTrustChannelFactory> and <xref:System.ServiceModel.Security.WSTrustChannel> classes enable strongly typed RST and RSTR objects to flow between the client and issuer, as shown in the following code example.</span></span>  
  
```  
WSTrustChannelFactory trustChannelFactory = new WSTrustChannelFactory( stsBinding, stsAddress );  
WSTrustChannel channel = (WSTrustChannel) trustChannelFactory.CreateChannel();  
RequestSecurityToken rst = new RequestSecurityToken(RequestTypes.Issue);  
rst.AppliesTo = new EndpointAddress(serviceAddress);  
RequestSecurityTokenResponse rstr = null;  
SecurityToken token = channel.Issue(rst, out rstr);  
```  
  
 <span data-ttu-id="a8364-158">Обратите внимание, что параметр `out` в методе <xref:System.ServiceModel.Security.WSTrustChannel.Issue%2A> разрешает доступ к ответу токена безопасности запроса для проверки на стороне клиента.</span><span class="sxs-lookup"><span data-stu-id="a8364-158">Note that the `out` parameter on the <xref:System.ServiceModel.Security.WSTrustChannel.Issue%2A> method allows access to the RSTR for client-side inspection.</span></span>  
  
 <span data-ttu-id="a8364-159">Итак, мы рассмотрели только способ получения токена.</span><span class="sxs-lookup"><span data-stu-id="a8364-159">So far, we’ve only seen how to obtain a token.</span></span> <span data-ttu-id="a8364-160">Токен, возвращаемый из объекта <xref:System.ServiceModel.Security.WSTrustChannel>, представляет собой токен `GenericXmlSecurityToken`, содержащий все данные, необходимые для проверки подлинности проверяющей стороной.</span><span class="sxs-lookup"><span data-stu-id="a8364-160">The token that is returned from the <xref:System.ServiceModel.Security.WSTrustChannel> object is a `GenericXmlSecurityToken` that contains all of the information that is necessary for authentication to a relying party.</span></span> <span data-ttu-id="a8364-161">В приведенном ниже примере кода показано, как используется этот токен.</span><span class="sxs-lookup"><span data-stu-id="a8364-161">The following code example shows how to use this token.</span></span>  
  
```  
IHelloService serviceChannel = channelFactory.CreateChannelWithIssuedToken<IHelloService>( token ); serviceChannel.Hello("Hi!");  
```  
  
 <span data-ttu-id="a8364-162">Метод расширения <xref:System.ServiceModel.ChannelFactory%601.CreateChannelWithIssuedToken%2A> в объекте `ChannelFactory` сообщает WIF о том, что получен токен без привязки, а также о том, что необходимо завершить обычный вызов WCF издателя и вместо этого использовать полученный токен в целях проверки подлинности проверяющей стороной.</span><span class="sxs-lookup"><span data-stu-id="a8364-162">The <xref:System.ServiceModel.ChannelFactory%601.CreateChannelWithIssuedToken%2A> extension method on the `ChannelFactory` object indicates to WIF that you have obtained a token out of band, and that it should stop the normal WCF call to the issuer and instead use the token that you obtained to authenticate to the relying party.</span></span> <span data-ttu-id="a8364-163">Такой подход имеет следующие преимущества:</span><span class="sxs-lookup"><span data-stu-id="a8364-163">This has the following benefits:</span></span>  
  
-   <span data-ttu-id="a8364-164">полный контроль над процессом выдачи токенов;</span><span class="sxs-lookup"><span data-stu-id="a8364-164">It gives you complete control over the token issuance process.</span></span>  
  
-   <span data-ttu-id="a8364-165">поддержка использования ActAs и OnBehalfOf путем непосредственной настройки этих свойств в исходящем токене безопасности запроса;</span><span class="sxs-lookup"><span data-stu-id="a8364-165">It supports ActAs / OnBehalfOf scenarios by directly setting these properties on the outgoing RST.</span></span>  
  
-   <span data-ttu-id="a8364-166">возможность динамического принятия решений о доверии на стороне клиента с учетом содержимого в ответе токена безопасности запроса;</span><span class="sxs-lookup"><span data-stu-id="a8364-166">It enables dynamic client-side trust decisions to be made based on the contents of the RSTR.</span></span>  
  
-   <span data-ttu-id="a8364-167">возможность кэширования и повторного использования токена, возвращенного методом <xref:System.ServiceModel.Security.WSTrustChannel.Issue%2A>;</span><span class="sxs-lookup"><span data-stu-id="a8364-167">It lets you cache and reuse the token that is returned from the <xref:System.ServiceModel.Security.WSTrustChannel.Issue%2A> method.</span></span>  
  
-   <span data-ttu-id="a8364-168">возможность использования <xref:System.ServiceModel.Security.WSTrustChannelFactory> и <xref:System.ServiceModel.Security.WSTrustChannel> для управления кэшированием канала, ошибками и семантикой восстановления в соответствии с рекомендациями WCF.</span><span class="sxs-lookup"><span data-stu-id="a8364-168"><xref:System.ServiceModel.Security.WSTrustChannelFactory> and <xref:System.ServiceModel.Security.WSTrustChannel> allow for control of channel caching, fault, and recovery semantics according to WCF best practices.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a8364-169">См. также</span><span class="sxs-lookup"><span data-stu-id="a8364-169">See Also</span></span>  
 [<span data-ttu-id="a8364-170">Возможности WIF</span><span class="sxs-lookup"><span data-stu-id="a8364-170">WIF Features</span></span>](../../../docs/framework/security/wif-features.md)
