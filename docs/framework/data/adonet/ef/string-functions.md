---
title: Строковые функции
ms.date: 03/30/2017
ms.assetid: 338f0c26-8aee-43eb-bd1a-ec0849a376b9
ms.openlocfilehash: 29e2d2ee852f47b42ac882bcbc459d2a6d732ece
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/12/2020
ms.locfileid: "79149678"
---
# <a name="string-functions"></a>Строковые функции
Поставщик данных для SQL Server (SqlClient) платформы .NET Framework предоставляет `String` функции, выполняющие операции над входными значениями с типом `String` и возвращающие результат с типом `String` или в виде числовых значений. Эти функции находятся в пространстве имен SqlServer, которое доступно при использовании SqlClient. Свойство пространства имен поставщика позволяет платформе Entity Framework узнать, какой префикс используется поставщиком для конкретных конструкций, таких как типы или функции.  
  
 В следующей таблице описаны `String` функции SqlClient.  
  
|Компонент|Описание|  
|--------------|-----------------|  
|`ASCII(expression)`|Возвращает код ASCII первого символа указанного строкового выражения.<br /><br /> **Аргументы**<br /><br /> `expression`: любое допустимое выражение типа `String` в формате ASCII.<br /><br /> **Значение возврата**<br /><br /> `Int32`.<br /><br /> **Пример**<br /><br /> `SqlServer.ASCII('A')`|  
|`CHAR(expression)`|Преобразует код `Int32` в строку ASCII.<br /><br /> **Аргументы**<br /><br /> `expression`: `Int32`.<br /><br /> **Значение возврата**<br /><br /> Строка `String` в ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.char(97)`|  
|`CHARINDEX(expression1, expression2 [, start_location])`|Возвращает начальную позицию указанного выражения в символьной строке.<br /><br /> **Аргументы**<br /><br /> `expression1`: выражение, содержащее последовательность искомых символов. Это выражение может иметь строковый (ASCII или Юникод) или двоичный тип.<br /><br /> `expression2`: выражение, как правило столбец, в котором выполняется поиск указанной последовательности. Это выражение может иметь строковый (ASCII или Юникод) или двоичный тип.<br /><br /> `start_location`:(Необязательно) Int64 (не возвращенный в S'L Server 2000) или Int32, представляющий положение персонажа, чтобы начать поиск выражения1 в expression2. Если аргумент start_location не указан, имеет отрицательное значение или равен нулю, поиск начинается с начала выражения expression2.<br /><br /> **Значение возврата**<br /><br /> `Int32`.<br /><br /> **Пример**<br /><br /> `SqlServer.CHARINDEX('h', 'habcdefgh', 2)`|  
|`DIFFERENCE(expression, expression)`|Сравнивает значения `SOUNDEX` двух строк и вычисляет степень подобия между ними.<br /><br /> **Аргументы**<br /><br /> Значение типа `String` в Юникоде или ASCII. `expression` может быть константой, переменной или столбцом.<br /><br /> **Значение возврата**<br /><br /> Возвращает значение типа `Int32`, которое представляет разницу между значениями SOUNDEX двух символьных выражений. Диапазон - от 0 до 4. Значение 0 указывает на слабое сходство или его отсутствие, значение 4 указывает на сильное сходство или одинаковые значения.<br /><br /> **Пример**<br /><br /> `// The following example returns a DIFFERENCE value of 4,`<br /><br /> `//the least possible difference or the best match.`<br /><br /> `SqlServer.DIFFERENCE('Green','Greene');`|  
|`LEFT(expression, count)`|Возвращает указанное число символов символьного выражения слева.<br /><br /> **Аргументы**<br /><br /> `expression`: строковый тип в Юникоде или ASCII. Используйте функцию CAST для явного преобразования аргумента character_expression.<br /><br /> `count`: значение типа `Int64` (не возвращается в SQL Server 2000) или `Int32`, которое определяет, сколько символов аргумента character_expression будет возвращено.<br /><br /> **Значение возврата**<br /><br /> Строка (`String`) в Юникоде или ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.LEFT('SQL Server', 4)`|  
|`LEN(expression)`|Возвращает количество символов указанного строкового выражения, исключая конечные пробелы.<br /><br /> **Аргументы**<br /><br /> `expression`: выражение типа `String` (в Юникоде или ASCII) или типа `Binary`<br /><br /> **Значение возврата**<br /><br /> `Int32`.<br /><br /> **Пример**<br /><br /> `SqlServer.LEN('abcd')`|  
|`LOWER(expression)`|Возвращает выражение типа `String` после преобразования прописных букв в символьные данные нижнего регистра.<br /><br /> **Аргументы**<br /><br /> `expression`: любое допустимое выражение типа `String`.<br /><br /> **Значение возврата**<br /><br /> `String`.<br /><br /> **Пример**<br /><br /> `SqlServer.LOWER('AbB')`|  
|`LTRIM(expression)`|Возвращает выражение `String` после удаления начальных пробелов.<br /><br /> **Аргументы**<br /><br /> `expression`: любое допустимое выражение типа `String`.<br /><br /> **Значение возврата**<br /><br /> `String`.<br /><br /> **Пример**<br /><br /> `SqlServer.LTRIM('   d')`|  
|`NCHAR(expression)`|Возвращает строку в Юникоде `String` с указанным целочисленным кодом, определенным в стандарте Юникода.<br /><br /> **Аргументы**<br /><br /> `expression`: `Int32`.<br /><br /> **Значение возврата**<br /><br /> Строка (`String`) в Юникоде.<br /><br /> **Пример**<br /><br /> `SqlServer.NCHAR(65)`|  
|`PATINDEX('%pattern%', expression)`|Возвращает начальную позицию первого вхождения шаблона в указанном выражении `String`.<br /><br /> **Аргументы**<br /><br /> `'%pattern%'`: значение типа `String` в ASCII или Юникоде. Можно использовать символы-шаблоны, однако до и после шаблона необходимо указать символ «%» (за исключением операций поиска первого или последнего символа).<br /><br /> `expression`: значение типа `String` в ASCII или Юникоде, используемое для поиска указанного шаблона.<br /><br /> **Значение возврата**<br /><br /> `Int32`.<br /><br /> **Пример**<br /><br /> `SqlServer.PATINDEX('abc', 'ab')`|  
|`QUOTENAME('char_string' [, 'quote_char'])`|Возвращает строку (`String`) в Юникоде, в которую добавлены разделители, чтобы входная строка являлась допустимым идентификатором с разделителем Microsoft SQL Server 2005.<br /><br /> **Аргументы**<br /><br /> `char_string`: строка (`String`) в Юникоде.<br /><br /> `quote_char`: односимвольная строка, используемая в качестве разделителя. Может быть одинарной кавычкой ('), открывающей или закрывающей квадратной скобкой ([]) или двойной кавычкой ("). Если значение аргумента `quote_char` не указано, используются скобки.<br /><br /> **Значение возврата**<br /><br /> Строка (`String`) в Юникоде.<br /><br /> **Пример**<br /><br /> `SqlServer.QUOTENAME('abc[]def')`|  
|`REPLACE(expression1, expression2, expression3)`|Заменяет выражение персонажа другим выражением символов.<br /><br /> **Аргументы**<br /><br /> `expression1`: строковое выражение, в котором требуется выполнить поиск. `expression1`может быть типом Unicode или ASCII String.<br /><br /> `expression2`: Подстрока, которая будет найдена. `expression2`может быть типом Unicode или ASCII String.<br /><br /> `expression3`: строка замены. `expression3`может быть типом Unicode или ASCII String.<br /><br /> **Пример**<br /><br /> `SqlServer.REPLACE('aabbcc', 'bc', 'zz')`|  
|`REPLICATE(char_expression, int_expression)`|Повторяет символьное выражение указанное количество раз.<br /><br /> **Аргументы**<br /><br /> `char_expression`: значение типа `String` в ASCII или Юникоде.<br /><br /> `int_expression`: значение типа `Int64` (не поддерживается в SQL Server 2000) или `Int32`.<br /><br /> **Значение возврата**<br /><br /> Строка типа `String` в Юникоде или ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.REPLICATE('aa',2)`|  
|`REVERSE(expression)`|Возвращает строку в Юникоде или ASCII, символы в которой расположены в порядке, обратном порядку входной строки.<br /><br /> **Аргументы**<br /><br /> `expression`: значение типа `String` в ASCII или Юникоде.<br /><br /> **Значение возврата**<br /><br /> Строка типа `String` в Юникоде или ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.REVERSE('abcd')`|  
|`RIGHT(char_expression, count)`|Возвращает указанное число символов символьной строки справа.<br /><br /> **Аргументы**<br /><br /> `char_expression`: Тип строки Unicode или ASCII. Используйте функцию CAST для явного преобразования аргумента character_expression.<br /><br /> `count`: значение типа `Int64` (не возвращается в SQL Server 2000) или `Int32`, которое определяет, сколько символов аргумента character_expression будет возвращено.<br /><br /> **Значение возврата**<br /><br /> Тип ASCII `String`.<br /><br /> **Пример**<br /><br /> `SqlServer.RIGHT('SQL Server', 6)`|  
|`RTRIM(expression)`|Возвращает строку в Юникоде или ASCII после удаления конечных пробелов.<br /><br /> **Аргументы**<br /><br /> `expression`: значение типа `String` в ASCII или Юникоде.<br /><br /> **Значение возврата**<br /><br /> Строка типа `String` в Юникоде или ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.RTRIM('   d   e      ')`|  
|`SOUNDEX(expression)`|Возвращает код с четырьмя символами (SOUNDEX) для оценки сходства двух строк. **Аргументы**<br /><br /> `expression`: строковый тип в Юникоде или ASCII.<br /><br /> **Значение возврата**<br /><br /> Строка `String` в ASCII. Четырехсимвольный код (SOUNDEX) — это строка, оценивающая степень сходства двух строк.<br /><br /> **Пример**<br /><br /> `Select SqlServer.SOUNDEX('Smith'), SqlServer.SOUNDEX('Smythe') FROM {1}`<br /><br /> **Возвращает**<br /><br /> `----- -----  S530  S530`|  
|`SPACE(int_expression)`|Возвращает строку `String` повторяющихся пробелов в ASCII.<br /><br /> **Аргументы**<br /><br /> `int_expression`: значение типа `Int64` (не возвращается в SQL Server 2000) или `Int32`, указывающее количество пробелов.<br /><br /> **Значение возврата**<br /><br /> Строка `String` в ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.SPACE(2)`|  
|`STR(float_expression [, length [, decimal]])`|Возвращает строку `String` в кодировке ASCII, преобразованную из числовых данных.<br /><br /> **Аргументы**<br /><br /> `float _expression`: выражение приближенного числового типа данных `Double` с десятичной запятой.<br /><br /> `length`: числовое значение типа `Int32`, представляющее общую длину (необязательный параметр). Она включает десятичную запятую, знак, цифры и пробелы. Значение по умолчанию равно 10.<br /><br /> `decimal`:(необязательно) `Int32` An, который представляет количество мест справа от десятичной точки. количество знаков после десятичного разделителя должно быть не более 16. Если содержится более 16 знаков после десятичного разделителя, результат усекается до 16 знаков после десятичного разделителя.<br /><br /> **Значение возврата**<br /><br /> Строка `String` в ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.STR(212.0)`|  
|`STUFF(str_expression, start, length, str_expression_to_insert)`|Заменяет указанное число символов, начиная с определенной позиции, заданным набором символов в строковом выражении.<br /><br /> **Аргументы**<br /><br /> `str_expression`: строка (`String`) в Юникоде или ASCII.<br /><br /> `start:`Значение, `Int64` которое определяет местоположение для начала `Int32` удаления и вставки, не возвращается в S'L Server 2000.<br /><br /> `length`: значение типа `Int64` (не возвращаемое в SQL Server 2000) или `Int32`, которое определяет число удаляемых символов.<br /><br /> `str_expression_to_insert`: строка (`String`) в Юникоде или ASCII.<br /><br /> **Значение возврата**<br /><br /> Строка (`String`) в Юникоде или ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.STUFF('abcd', 2, 2, 'zz')`|  
|`SUBSTRING(str_expression, start, length)`|Возвращает часть выражения типа `String`.<br /><br /> **Аргументы**<br /><br /> `str_expression`: выражение типа `String` (в Юникоде или ASCII) или типа `Binary`.<br /><br /> `start`: значение типа `Int64` (не возвращается в SQL Server 2000) или `Int32`, указывающее место, с которого начинается подстрока. Значение 1 соответствует первому символу строки.<br /><br /> `length`: значение типа `Int64` (не возвращается в SQL Server 2000) или `Int32`, которое определяет, сколько символов аргумента expression будет возвращено.<br /><br /> **Значение возврата**<br /><br /> Значение типа `String` (ASCII или Юникод) или `Binary`.<br /><br /> **Пример**<br /><br /> `SqlServer.SUBSTRING('abcd', 2, 2)`|  
|`UNICODE(expression)`|Возвращает целочисленное значение, соответствующее стандарту Юникод, для первого символа входного выражения.<br /><br /> **Аргументы**<br /><br /> `expression`: строка (`String`) в Юникоде.<br /><br /> **Значение возврата**<br /><br /> `Int32`.<br /><br /> **Пример**<br /><br /> `SqlServer.UNICODE('a')`|  
|`UPPER(expression)`|Возвращает выражение типа `String` после преобразования символьных данных из нижнего регистра в прописные буквы.<br /><br /> **Аргументы**<br /><br /> `expression`: выражение строкового типа в Юникоде или ASCII.<br /><br /> **Значение возврата**<br /><br /> Тип данных `String` в кодировке ASCII или Юникоде.<br /><br /> **Пример**<br /><br /> `SqlServer.UPPER('AbB')`|  
  
 Для получения дополнительной `String` информации о функциях, которые поддерживает SqlClient, [см.](/sql/t-sql/functions/string-functions-transact-sql)
  
## <a name="see-also"></a>См. также раздел

- [Функции SqlClient для Entity Framework](sqlclient-for-ef-functions.md)
- [Известные проблемы SqlClient для Entity Framework](known-issues-in-sqlclient-for-entity-framework.md)
