---
title: "Строковые функции"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-ado
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 338f0c26-8aee-43eb-bd1a-ec0849a376b9
caps.latest.revision: "4"
author: douglaslMS
ms.author: douglasl
manager: craigg
ms.workload: dotnet
ms.openlocfilehash: ba371840cf5c3b19ee232be0934557d87e7c343f
ms.sourcegitcommit: ed26cfef4e18f6d93ab822d8c29f902cff3519d1
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/17/2018
---
# <a name="string-functions"></a>Строковые функции
Поставщик данных для SQL Server (SqlClient) платформы .NET Framework предоставляет `String` функции, выполняющие операции над входными значениями с типом `String` и возвращающие результат с типом `String` или в виде числовых значений. Эти функции находятся в пространстве имен SqlServer, которое доступно при использовании SqlClient. Свойство пространства имен поставщика позволяет платформе Entity Framework узнать, какой префикс используется поставщиком для конкретных конструкций, таких как типы или функции.  
  
 В следующей таблице описаны `String` функции SqlClient.  
  
|Функция|Описание|  
|--------------|-----------------|  
|`ASCII(expression)`|Возвращает код ASCII первого символа указанного строкового выражения.<br /><br /> **Аргументы**<br /><br /> `expression`: любое допустимое выражение типа `String` в формате ASCII.<br /><br /> **Возвращаемое значение**<br /><br /> Объект `Int32`.<br /><br /> **Пример**<br /><br /> `SqlServer.ASCII('A')`|  
|`CHAR(expression)`|Преобразует код `Int32` в строку ASCII.<br /><br /> **Аргументы**<br /><br /> `expression`: `Int32`.<br /><br /> **Возвращаемое значение**<br /><br /> Строка `String` в ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.char(97)`|  
|`CHARINDEX(expression1, expression2 [, start_location])`|Возвращает начальную позицию указанного выражения в символьной строке.<br /><br /> **Аргументы**<br /><br /> `expression1`: выражение, содержащее последовательность искомых символов. Это выражение может иметь строковый (ASCII или Юникод) или двоичный тип.<br /><br /> `expression2`: выражение, как правило столбец, в котором выполняется поиск указанной последовательности. Это выражение может иметь строковый (ASCII или Юникод) или двоичный тип.<br /><br /> `start_location`: (Необязательно) значение типа Int64 (не возвращается в SQL Server 2000) или Int32, представляющий позицию символа, с которого начинается поиск для выражение1, выражение2. Если аргумент start_location не указан, имеет отрицательное значение или равен нулю, поиск начинается с начала выражения expression2.<br /><br /> **Возвращаемое значение**<br /><br /> Объект `Int32`.<br /><br /> **Пример**<br /><br /> `SqlServer.CHARINDEX('h', 'habcdefgh', 2)`|  
|`DIFFERENCE(expression, expression)`|Сравнивает значения `SOUNDEX` двух строк и вычисляет степень подобия между ними.<br /><br /> **Аргументы**<br /><br /> Значение типа `String` в Юникоде или ASCII. `expression` может быть константой, переменной или столбцом.<br /><br /> **Возвращаемое значение**<br /><br /> Возвращает значение типа `Int32`, которое представляет разницу между значениями SOUNDEX двух символьных выражений. Диапазон - от 0 до 4. Значение 0 указывает на слабое сходство или его отсутствие, значение 4 указывает на сильное сходство или одинаковые значения.<br /><br /> **Пример**<br /><br /> `// The following example returns a DIFFERENCE value of 4,`<br /><br /> `//the least possible difference or the best match.`<br /><br /> `SqlServer.DIFFERENCE('Green','Greene');`|  
|`LEFT(expression, count)`|Возвращает указанное число символов символьного выражения слева.<br /><br /> **Аргументы**<br /><br /> `expression`: строковый тип в Юникоде или ASCII. Используйте функцию CAST для явного преобразования аргумента character_expression.<br /><br /> `count`: значение типа `Int64` (не возвращается в SQL Server 2000) или `Int32`, которое определяет, сколько символов аргумента character_expression будет возвращено.<br /><br /> **Возвращаемое значение**<br /><br /> Строка (`String`) в Юникоде или ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.LEFT('SQL Server', 4)`|  
|`LEN(expression)`|Возвращает количество символов указанного строкового выражения, исключая конечные пробелы.<br /><br /> **Аргументы**<br /><br /> `expression`: выражение типа `String` (в Юникоде или ASCII) или типа `Binary`<br /><br /> **Возвращаемое значение**<br /><br /> Объект `Int32`.<br /><br /> **Пример**<br /><br /> `SqlServer.LEN('abcd')`|  
|`LOWER(expression)`|Возвращает выражение типа `String` после преобразования прописных букв в символьные данные нижнего регистра.<br /><br /> **Аргументы**<br /><br /> `expression`: любое допустимое выражение типа `String`.<br /><br /> **Возвращаемое значение**<br /><br /> Объект `String`.<br /><br /> **Пример**<br /><br /> `SqlServer.LOWER('AbB')`|  
|`LTRIM(expression)`|Возвращает выражение `String` после удаления начальных пробелов.<br /><br /> **Аргументы**<br /><br /> `expression`: любое допустимое выражение типа `String`.<br /><br /> **Возвращаемое значение**<br /><br /> Объект `String`.<br /><br /> **Пример**<br /><br /> `SqlServer.LTRIM('   d')`|  
|`NCHAR(expression)`|Возвращает строку в Юникоде `String` с указанным целочисленным кодом, определенным в стандарте Юникода.<br /><br /> **Аргументы**<br /><br /> `expression`: `Int32`.<br /><br /> **Возвращаемое значение**<br /><br /> Строка (`String`) в Юникоде.<br /><br /> **Пример**<br /><br /> `SqlServer.NCHAR(65)`|  
|`PATINDEX('%pattern%', expression)`|Возвращает начальную позицию первого вхождения шаблона в указанном выражении `String`.<br /><br /> **Аргументы**<br /><br /> `'%pattern%'`: значение типа `String` в ASCII или Юникоде. Можно использовать символы-шаблоны, однако до и после шаблона необходимо указать символ «%» (за исключением операций поиска первого или последнего символа).<br /><br /> `expression`: значение типа `String` в ASCII или Юникоде, используемое для поиска указанного шаблона.<br /><br /> **Возвращаемое значение**<br /><br /> Объект `Int32`.<br /><br /> **Пример**<br /><br /> `SqlServer.PATINDEX('abc', 'ab')`|  
|`QUOTENAME('char_string' [, 'quote_char'])`|Возвращает строку (`String`) в Юникоде, в которую добавлены разделители, чтобы входная строка являлась допустимым идентификатором с разделителем Microsoft SQL Server 2005.<br /><br /> **Аргументы**<br /><br /> `char_string`: строка (`String`) в Юникоде.<br /><br /> `quote_char`: односимвольная строка, используемая в качестве разделителя. Может быть одинарной кавычкой ('), открывающей или закрывающей квадратной скобкой ([]) или двойной кавычкой ("). Если значение аргумента `quote_char` не указано, используются скобки.<br /><br /> **Возвращаемое значение**<br /><br /> Строка (`String`) в Юникоде.<br /><br /> **Пример**<br /><br /> `SqlServer.QUOTENAME('abc[]def')`|  
|`REPLACE(expression1, expression2, expression3)`|Повторяет символьное выражение указанное количество раз.<br /><br /> **Аргументы**<br /><br /> `expression1`: строковое выражение, в котором требуется выполнить поиск. Выражение string_expression1 может иметь строковый тип в ASCII или Юникоде.<br /><br /> `expression2`: Искомая подстрока. Выражение string_expression2 может иметь строковый тип в ASCII или Юникоде.<br /><br /> `expression3`: строка замены. Выражение string_expression3 может иметь строковый тип в ASCII или Юникоде.<br /><br /> **Пример**<br /><br /> `SqlServer.REPLACE('aabbcc', 'bc', 'zz')`|  
|`REPLICATE(char_expression, int_expression)`|Повторяет символьное выражение указанное количество раз.<br /><br /> **Аргументы**<br /><br /> `char_expression`: значение типа `String` в ASCII или Юникоде.<br /><br /> `int_expression`: значение типа `Int64` (не поддерживается в SQL Server 2000) или `Int32`.<br /><br /> **Возвращаемое значение**<br /><br /> Строка типа `String` в Юникоде или ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.REPLICATE('aa',2)`|  
|`REVERSE(expression)`|Возвращает строку в Юникоде или ASCII, символы в которой расположены в порядке, обратном порядку входной строки.<br /><br /> **Аргументы**<br /><br /> `expression`: значение типа `String` в ASCII или Юникоде.<br /><br /> **Возвращаемое значение**<br /><br /> Строка типа `String` в Юникоде или ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.REVERSE('abcd')`|  
|`RIGHT(char_expression, count)`|Возвращает указанное число символов символьной строки справа.<br /><br /> **Аргументы**<br /><br /> `char_expression`: Тип в Юникоде или строки ASCII. Используйте функцию CAST для явного преобразования аргумента character_expression.<br /><br /> `count`: значение типа `Int64` (не возвращается в SQL Server 2000) или `Int32`, которое определяет, сколько символов аргумента character_expression будет возвращено.<br /><br /> **Возвращаемое значение**<br /><br /> Тип ASCII `String`.<br /><br /> **Пример**<br /><br /> `SqlServer.RIGHT('SQL Server', 6)`|  
|`RTRIM(expression)`|Возвращает строку в Юникоде или ASCII после удаления конечных пробелов.<br /><br /> **Аргументы**<br /><br /> `expression`: значение типа `String` в ASCII или Юникоде.<br /><br /> **Возвращаемое значение**<br /><br /> Строка типа `String` в Юникоде или ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.RTRIM('   d   e      ')`|  
|`SOUNDEX(expression)`|Возвращает четырехсимвольный код (SOUNDEX) для оценки степени сходства двух строк. **Аргументы**<br /><br /> `expression`: строковый тип в Юникоде или ASCII.<br /><br /> **Возвращаемое значение**<br /><br /> Строка `String` в ASCII. Четырехсимвольный код (SOUNDEX) — это строка, оценивающая степень сходства двух строк.<br /><br /> **Пример**<br /><br /> `Select SqlServer.SOUNDEX('Smith'), SqlServer.SOUNDEX('Smythe') FROM {1}`<br /><br /> **Возвращает**<br /><br /> `----- -----  S530  S530`|  
|`SPACE(int_expression)`|Возвращает строку `String` повторяющихся пробелов в ASCII.<br /><br /> **Аргументы**<br /><br /> `int_expression`: значение типа `Int64` (не возвращается в SQL Server 2000) или `Int32`, указывающее количество пробелов.<br /><br /> **Возвращаемое значение**<br /><br /> Строка `String` в ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.SPACE(2)`|  
|`STR(float_expression [, length [, decimal]])`|Возвращает строку `String` в кодировке ASCII, преобразованную из числовых данных.<br /><br /> **Аргументы**<br /><br /> `float _expression`: выражение приближенного числового типа данных `Double` с десятичной запятой.<br /><br /> `length`: числовое значение типа `Int32`, представляющее общую длину (необязательный параметр). Оно включает десятичную запятую, знак, цифры и пробелы. Значение по умолчанию — 10.<br /><br /> `decimal`: (необязательно) `Int32` , представляющий количество разрядов справа от десятичной запятой. количество знаков после десятичного разделителя должно быть не более 16. Если содержится более 16 знаков после десятичного разделителя, результат усекается до 16 знаков после десятичного разделителя.<br /><br /> **Возвращаемое значение**<br /><br /> Строка `String` в ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.STR(212.0)`|  
|`STUFF(str_expression, start, length, str_expression_to_insert)`|Заменяет указанное число символов, начиная с определенной позиции, заданным набором символов в строковом выражении.<br /><br /> **Аргументы**<br /><br /> `str_expression`: строка (`String`) в Юникоде или ASCII.<br /><br /> `start:``Int64` (Не возвращается в SQL Server 2000) или `Int32` значение, определяющее место начала удаления и вставки.<br /><br /> `length`: значение типа `Int64` (не возвращаемое в SQL Server 2000) или `Int32`, которое определяет число удаляемых символов.<br /><br /> `str_expression_to_insert`: строка (`String`) в Юникоде или ASCII.<br /><br /> **Возвращаемое значение**<br /><br /> Строка (`String`) в Юникоде или ASCII.<br /><br /> **Пример**<br /><br /> `SqlServer.STUFF('abcd', 2, 2, 'zz')`|  
|`SUBSTRING(str_expression, start, length)`|Возвращает часть выражения типа `String`.<br /><br /> **Аргументы**<br /><br /> `str_expression`: выражение типа `String` (в Юникоде или ASCII) или типа `Binary`.<br /><br /> `start`: значение типа `Int64` (не возвращается в SQL Server 2000) или `Int32`, указывающее место, с которого начинается подстрока. Значение 1 соответствует первому символу строки.<br /><br /> `length`: значение типа `Int64` (не возвращается в SQL Server 2000) или `Int32`, которое определяет, сколько символов аргумента expression будет возвращено.<br /><br /> **Возвращаемое значение**<br /><br /> Значение типа `String` (ASCII или Юникод) или `Binary`.<br /><br /> **Пример**<br /><br /> `SqlServer.SUBSTRING('abcd', 2, 2)`|  
|`UNICODE(expression)`|Возвращает целочисленное значение первого символа заданного выражения в стандарте Юникод.<br /><br /> **Аргументы**<br /><br /> `expression`: строка (`String`) в Юникоде.<br /><br /> **Возвращаемое значение**<br /><br /> Объект `Int32`.<br /><br /> **Пример**<br /><br /> `SqlServer.UNICODE('a')`|  
|`UPPER(expression)`|Возвращает выражение типа `String` после преобразования символьных данных из нижнего регистра в прописные буквы.<br /><br /> **Аргументы**<br /><br /> `expression`: выражение строкового типа в Юникоде или ASCII.<br /><br /> **Возвращаемое значение**<br /><br /> Тип данных `String` в кодировке ASCII или Юникоде.<br /><br /> **Пример**<br /><br /> `SqlServer.UPPER('AbB')`|  
  
 Дополнительные сведения о `String` функциях, поддерживаемых SqlClient, см. в документации к версии SQL Server, указанной в манифесте поставщика SqlClient.  
  
|SQL Server 2000|SQL Server 2005|SQL Server 2008|  
|---------------------|---------------------|---------------------|  
|[Строковые функции (Transact-SQL)](http://go.microsoft.com/fwlink/?LinkId=115915)|[Строковые функции (Transact-SQL)](http://go.microsoft.com/fwlink/?LinkId=115916)|[Строковые функции (Transact-SQL)](http://go.microsoft.com/fwlink/?LinkId=115914)|  
  
## <a name="see-also"></a>См. также  
 [Функции SqlClient для Entity Framework](../../../../../docs/framework/data/adonet/ef/sqlclient-for-ef-functions.md)  
 [Известные проблемы SqlClient для Entity Framework](../../../../../docs/framework/data/adonet/ef/known-issues-in-sqlclient-for-entity-framework.md)
