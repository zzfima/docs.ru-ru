---
title: "Отладка запросов в LINQ to DataSet"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-ado
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: f4c54015-8ce2-4c5c-8d18-7038144cc66d
caps.latest.revision: "3"
author: JennieHubbard
ms.author: jhubbard
manager: jhubbard
ms.openlocfilehash: 964a4d051600621d581e05dcf6b518b2766e2750
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/21/2017
---
# <a name="debugging-linq-to-dataset-queries"></a><span data-ttu-id="333fa-102">Отладка запросов в LINQ to DataSet</span><span class="sxs-lookup"><span data-stu-id="333fa-102">Debugging LINQ to DataSet Queries</span></span>
<span data-ttu-id="333fa-103">Среда [!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] поддерживает отладку кода [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)].</span><span class="sxs-lookup"><span data-stu-id="333fa-103">[!INCLUDE[vs_current_long](../../../../includes/vs-current-long-md.md)] supports the debugging of [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] code.</span></span> <span data-ttu-id="333fa-104">Однако существуют некоторые различия между отладкой [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] код и не-[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] управляемого кода.</span><span class="sxs-lookup"><span data-stu-id="333fa-104">However, there are some differences between debugging [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] code and non-[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] managed code.</span></span> <span data-ttu-id="333fa-105">Большинство функций отладки работают с [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] инструкций, включая пошаговое выполнение, задание точек останова и просмотр результатов, отображаемых в окнах отладчика.</span><span class="sxs-lookup"><span data-stu-id="333fa-105">Most debugging features work with [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] statements, including stepping, setting breakpoints, and viewing results that are shown in debugger windows.</span></span> <span data-ttu-id="333fa-106">Тем не менее отложенное выполнение запроса имеет некоторые побочные эффекты, которые следует учитывать при отладке [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] кода и существуют некоторые ограничения на использование, изменить и продолжить.</span><span class="sxs-lookup"><span data-stu-id="333fa-106">However, deferred query execution in has some side effects that you should consider while debugging [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] code and there are some limitations to using Edit and Continue.</span></span> <span data-ttu-id="333fa-107">В этом разделе обсуждаются аспекты отладки, которые являются уникальными для [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] по сравнению с отличных[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] управляемого кода.</span><span class="sxs-lookup"><span data-stu-id="333fa-107">This topic discusses aspects of debugging that are unique to [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] compared to non-[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] managed code.</span></span>  
  
## <a name="viewing-results"></a><span data-ttu-id="333fa-108">Просмотр результатов</span><span class="sxs-lookup"><span data-stu-id="333fa-108">Viewing Results</span></span>  
 <span data-ttu-id="333fa-109">Можно просмотреть результат [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] инструкции с помощью подсказки, окно контрольного значения и диалоговое окно «Быстрая проверка».</span><span class="sxs-lookup"><span data-stu-id="333fa-109">You can view the result of a [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] statement by using DataTips, the Watch window, and the QuickWatch dialog box.</span></span> <span data-ttu-id="333fa-110">В окне исходного текста можно остановить указатель на запросе, после чего появится элемент DataTip.</span><span class="sxs-lookup"><span data-stu-id="333fa-110">By using a source window, you can pause the pointer on a query in the source window and a DataTip will appear.</span></span> <span data-ttu-id="333fa-111">Можно скопировать переменную [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] и перенести ее в окно просмотра или диалоговое окно быстрого просмотра.</span><span class="sxs-lookup"><span data-stu-id="333fa-111">You can copy a [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] variable and paste it into the Watch window or the QuickWatch dialog box.</span></span> <span data-ttu-id="333fa-112">В [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] результат запроса вычисляется не при создании или объявлении запроса, а при его выполнении.</span><span class="sxs-lookup"><span data-stu-id="333fa-112">In [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)], a query is not evaluated when it is created or declared, but only when the query is executed.</span></span> <span data-ttu-id="333fa-113">Это называется *отложенного выполнения*.</span><span class="sxs-lookup"><span data-stu-id="333fa-113">This is called *deferred execution*.</span></span> <span data-ttu-id="333fa-114">Поэтому переменная запроса не имеет значения, пока запрос не выполнен.</span><span class="sxs-lookup"><span data-stu-id="333fa-114">Therefore, the query variable does not have a value until it is evaluated.</span></span> <span data-ttu-id="333fa-115">Дополнительные сведения см. в разделе [запросов в LINQ to DataSet](../../../../docs/framework/data/adonet/queries-in-linq-to-dataset.md).</span><span class="sxs-lookup"><span data-stu-id="333fa-115">For more information, see [Queries in LINQ to DataSet](../../../../docs/framework/data/adonet/queries-in-linq-to-dataset.md).</span></span>  
  
 <span data-ttu-id="333fa-116">Отладчик должен выполнить запрос, чтобы отобразить его результаты.</span><span class="sxs-lookup"><span data-stu-id="333fa-116">The debugger must evaluate a query to display the query results.</span></span> <span data-ttu-id="333fa-117">Это неявное вычисление происходит во время просмотра [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] результат запроса в отладчик и он имеет некоторые эффекты, рассмотрите возможность.</span><span class="sxs-lookup"><span data-stu-id="333fa-117">This implicit evaluation occurs when you view a [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] query result in the debugger, and it has some effects you should consider.</span></span> <span data-ttu-id="333fa-118">Каждое вычисление запроса занимает время.</span><span class="sxs-lookup"><span data-stu-id="333fa-118">Each evaluation of the query takes time.</span></span> <span data-ttu-id="333fa-119">Разворачивание узла результатов занимает время.</span><span class="sxs-lookup"><span data-stu-id="333fa-119">Expanding the results node takes time.</span></span> <span data-ttu-id="333fa-120">В некоторых запросах повторные вычисления могу вызвать заметное снижение производительности.</span><span class="sxs-lookup"><span data-stu-id="333fa-120">For some queries, repeated evaluation might cause a noticeable performance penalty.</span></span> <span data-ttu-id="333fa-121">Вычисление запроса может также вызвать побочные эффекты, которые изменяют значение данных или состояние программы.</span><span class="sxs-lookup"><span data-stu-id="333fa-121">Evaluating a query can also cause side effects, which are changes to the value of data or the state of your program.</span></span> <span data-ttu-id="333fa-122">Не все запросы имеют побочные эффекты.</span><span class="sxs-lookup"><span data-stu-id="333fa-122">Not all queries have side effects.</span></span> <span data-ttu-id="333fa-123">Чтобы определить, может ли запрос быть выполнен безопасно, без побочных эффектов, нужно понимать программный код, которым реализован запрос.</span><span class="sxs-lookup"><span data-stu-id="333fa-123">To determine whether a query can be safely evaluated without side effects, you must understand the code that implements the query.</span></span> <span data-ttu-id="333fa-124">Дополнительные сведения см. в разделе [побочные эффекты и выражения](http://msdn.microsoft.com/library/e1f8a6ea-9e19-481d-b6bd-df120ad3bf4e).</span><span class="sxs-lookup"><span data-stu-id="333fa-124">For more information, see [Side Effects and Expressions](http://msdn.microsoft.com/library/e1f8a6ea-9e19-481d-b6bd-df120ad3bf4e).</span></span>  
  
## <a name="edit-and-continue"></a><span data-ttu-id="333fa-125">Изменить и продолжить</span><span class="sxs-lookup"><span data-stu-id="333fa-125">Edit and Continue</span></span>  
 <span data-ttu-id="333fa-126">Изменить и продолжить не поддерживает изменения в [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] запросов.</span><span class="sxs-lookup"><span data-stu-id="333fa-126">Edit and Continue does not support changes to [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] queries.</span></span> <span data-ttu-id="333fa-127">Если добавление, удаление или изменение [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] инструкции во время сеанса отладки, диалоговое окно, информирующее о том, изменить и продолжить изменение не поддерживается.</span><span class="sxs-lookup"><span data-stu-id="333fa-127">If you add, remove, or change a [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] statement during a debugging session, a dialog box appears that tells you the change is not supported by Edit and Continue.</span></span> <span data-ttu-id="333fa-128">На этом этапе можно либо отменить изменения, либо остановить сеанс отладки и запустить новый сеанс с отредактированным кодом.</span><span class="sxs-lookup"><span data-stu-id="333fa-128">At that point, you can either undo the changes or stop the debugging session and restart a new session with the edited code.</span></span>  
  
 <span data-ttu-id="333fa-129">Кроме того, изменить и продолжить не поддерживает изменение типа или значения переменной, которая используется в [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] инструкции.</span><span class="sxs-lookup"><span data-stu-id="333fa-129">In addition, Edit and Continue does not support changing the type or the value of a variable that is used in a [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] statement.</span></span> <span data-ttu-id="333fa-130">Снова можно либо отменить изменения либо остановить и перезапустить сеанс отладки.</span><span class="sxs-lookup"><span data-stu-id="333fa-130">Again, you can either undo the changes or stop and restart the debugging session.</span></span>  
  
 <span data-ttu-id="333fa-131">В Visual C# в Visual Studio, вы не может изменить и продолжить использовать на любой код в методе, содержащем [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] запроса.</span><span class="sxs-lookup"><span data-stu-id="333fa-131">In Visual C# in Visual Studio, you cannot use Edit and Continue on any code in a method that contains a [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] query.</span></span>  
  
 <span data-ttu-id="333fa-132">В Visual Basic в Visual Studio, можно использовать изменить и продолжить в отличных[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] коде, даже в методе, содержащем [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] запроса.</span><span class="sxs-lookup"><span data-stu-id="333fa-132">In Visual Basic in Visual Studio, you can use Edit and Continue on non-[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] code, even in a method that contains a [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] query.</span></span> <span data-ttu-id="333fa-133">Можно добавить или удалить код перед [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] инструкции, даже если изменения влияют на номер строки [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] запроса.</span><span class="sxs-lookup"><span data-stu-id="333fa-133">You can add or remove code before the [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] statement, even if the changes affect line number of the [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] query.</span></span> <span data-ttu-id="333fa-134">Возможности отладки Visual Basic не[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] код остается прежним, в котором он находился перед [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] был введен.</span><span class="sxs-lookup"><span data-stu-id="333fa-134">Your Visual Basic debugging experience for non-[!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] code remains the same as it was before [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] was introduced.</span></span> <span data-ttu-id="333fa-135">Невозможно изменить, добавить или удалить [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] запроса, тем не менее, если вы не Остановите отладку, чтобы применить изменения.</span><span class="sxs-lookup"><span data-stu-id="333fa-135">You cannot change, add, or remove a [!INCLUDE[linq_dataset](../../../../includes/linq-dataset-md.md)] query, however, unless you stop debugging to apply the changes.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="333fa-136">См. также</span><span class="sxs-lookup"><span data-stu-id="333fa-136">See Also</span></span>  
 [<span data-ttu-id="333fa-137">Отладка управляемого кода</span><span class="sxs-lookup"><span data-stu-id="333fa-137">Debugging Managed Code</span></span>](/visualstudio/debugger/debugging-managed-code)  
 [<span data-ttu-id="333fa-138">Руководство по программированию</span><span class="sxs-lookup"><span data-stu-id="333fa-138">Programming Guide</span></span>](../../../../docs/framework/data/adonet/programming-guide-linq-to-dataset.md)
