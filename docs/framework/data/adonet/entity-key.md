---
title: ключ сущности
ms.date: 03/30/2017
ms.assetid: 0d447a6d-fa7a-4db0-8e7a-fd45e385fca0
ms.openlocfilehash: 39a7500f088aa85baf0244005d6a804b3bf0b521
ms.sourcegitcommit: 22be09204266253d45ece46f51cc6f080f2b3fd6
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/07/2019
ms.locfileid: "73737792"
---
# <a name="entity-key"></a>ключ сущности
*Ключ сущности* — это [свойство](property.md) или набор свойств [типа сущности](entity-type.md) , которые используются для определения удостоверения. Свойства, составляющие ключ сущности, выбираются во время разработки. Значения свойств ключа сущности должны уникальным образом идентифицировать экземпляр типа сущности в [наборе сущностей](entity-set.md) во время выполнения. Свойства, составляющие ключ сущности, должны гарантировать уникальность экземпляра набора сущностей.  
  
 Ниже приводятся требования к набору свойств, входящих в ключ сущности.  
  
- Два ключа сущностей не могут быть идентичными в одном наборе сущностей. То есть для любых двух сущностей внутри набора сущностей значения для всех свойств, составляющих ключ, не могут быть одинаковыми. Тем не менее, некоторые (но не все) значения, составляющие ключ сущности, могут быть одинаковыми.  
  
- Ключ сущности должен состоять из набора не допускающих значения NULL, неизменяемых [свойств типа-примитивов](entity-data-model-primitive-data-types.md).  
  
- Свойства, составляющие ключ сущности для данного типа сущности, не могут быть изменены. Для одного типа сущности возможен только один ключ сущности; суррогатные ключи не поддерживаются.  
  
- Если сущность участвует в иерархии наследования, корневая сущность должна содержать все свойства, составляющие ключ сущности, а ключ сущности должен быть определен в типе корневой сущности. Дополнительные сведения см. в разделе [EDM: наследование](entity-data-model-inheritance.md).  
  
## <a name="example"></a>Пример  
 На приведенной ниже схеме показана концептуальная модель с тремя типами сущностей: `Book`, `Publisher` и `Author`. Свойства каждого типа сущности, составляющие его ключ сущности, обозначаются знаком «(Ключ)». Обратите внимание, что тип сущности `Author` имеет ключ сущности, состоящий из двух свойств - `Name` и `Address`.  
  
 ![Пример модели с тремя типами сущностей](./media/entity-key/example-model-three-entity-types.gif)  
  
 [Entity Framework ADO.NET](./ef/index.md) использует доменный язык (DSL), называемый языком определения концептуальной схемы ([CSDL](/ef/ef6/modeling/designer/advanced/edmx/csdl-spec)), для определения концептуальных моделей. Ниже язык определения концептуальной схемы определяет тип сущности `Book`, который ранее приводился в схеме. Обратите внимание, что ключ сущности определяется ссылкой на свойство `ISBN` типа сущности.  
  
 [!code-xml[EDM_Example_Model#EntityExample](../../../../samples/snippets/xml/VS_Snippets_Data/edm_example_model/xml/books.edmx#entityexample)]  
  
 Свойство `ISBN` хорошо подойдет для использования в качестве ключа сущности, поскольку международный стандартный номер книги (ISBN) уникально определяет книгу.  
  
 Ниже язык определения концептуальной схемы определяет тип сущности `Author`, который ранее приводился в схеме. Обратите внимание, что ключ сущности состоит из двух свойств - `Name` и `Address`.  
  
 [!code-xml[EDM_Example_Model#CompositeKeyExample](../../../../samples/snippets/xml/VS_Snippets_Data/edm_example_model/xml/books.edmx#compositekeyexample)]  
  
 Использование в качестве ключа сущности параметров `Name` и `Address` является неплохим выбором, поскольку маловероятно, что у двух авторов с одинаковыми именами будет один и тот же адрес. Однако такой выбор ключа сущности не гарантирует уникальность ключей сущности в наборе сущностей. В данном случае рекомендуется добавить свойство, такое как `AuthorId`, которое может быть использовано для уникальной идентификации автора.  
  
## <a name="see-also"></a>См. также

- [Основные понятия модели EDM](entity-data-model-key-concepts.md)
- [Сущностная модель данных](entity-data-model.md)
