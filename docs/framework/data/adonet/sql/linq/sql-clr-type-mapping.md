---
title: Сопоставление типов SQL-CLR
ms.date: 07/23/2018
ms.assetid: 4ed76327-54a7-414b-82a9-7579bfcec04b
ms.openlocfilehash: d5c0072d8561efa1211de191a1f2b6f3a1e55b7b
ms.sourcegitcommit: 3ab9254890a52a50762995fa6d7d77a00348db7e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/20/2018
ms.locfileid: "46478699"
---
# <a name="sql-clr-type-mapping"></a><span data-ttu-id="afcc4-102">Сопоставление типов SQL-CLR</span><span class="sxs-lookup"><span data-stu-id="afcc4-102">SQL-CLR Type Mapping</span></span>
<span data-ttu-id="afcc4-103">В LINQ to SQL модель данных реляционной базы данных сопоставляется с моделью объектов, выраженной на выбранном языке программирования.</span><span class="sxs-lookup"><span data-stu-id="afcc4-103">In LINQ to SQL, the data model of a relational database maps to an object model that is expressed in the programming language of your choice.</span></span> <span data-ttu-id="afcc4-104">При выполнении приложения LINQ to SQL преобразует запросы LINQ модели объектов в код SQL и направляет их в базу данных для выполнения.</span><span class="sxs-lookup"><span data-stu-id="afcc4-104">When the application runs, LINQ to SQL translates the language-integrated queries in the object model into SQL and sends them to the database for execution.</span></span> <span data-ttu-id="afcc4-105">Когда база данных возвращает результаты, LINQ to SQL преобразует их обратно в объекты, с которыми можно работать на языке программирования.</span><span class="sxs-lookup"><span data-stu-id="afcc4-105">When the database returns the results, LINQ to SQL translates the results back to objects that you can work with in your own programming language.</span></span>  
  
 <span data-ttu-id="afcc4-106">Для преобразования данных между объектной моделью и базе данных, *сопоставление типов* должен быть определен.</span><span class="sxs-lookup"><span data-stu-id="afcc4-106">In order to translate data between the object model and the database, a *type mapping* must be defined.</span></span> <span data-ttu-id="afcc4-107">В LINQ to SQL используется сопоставление типов, в котором каждому типу CLR ставится в соответствие определенный тип SQL Server.</span><span class="sxs-lookup"><span data-stu-id="afcc4-107">LINQ to SQL uses a type mapping to match each common language runtime (CLR) type with a particular SQL Server type.</span></span> <span data-ttu-id="afcc4-108">Можно определить сопоставления типов и другие данные о сопоставлении, такие как структура базы данных и табличные связи, в рамках модели объектов, используя сопоставление на основе атрибутов.</span><span class="sxs-lookup"><span data-stu-id="afcc4-108">You can define type mappings and other mapping information, such as database structure and table relationships, inside the object model with attribute-based mapping.</span></span> <span data-ttu-id="afcc4-109">Также можно задать данные о сопоставлении вне модели объектов с помощью внешнего файла сопоставления.</span><span class="sxs-lookup"><span data-stu-id="afcc4-109">Alternatively, you can specify the mapping information outside the object model with an external mapping file.</span></span> <span data-ttu-id="afcc4-110">Дополнительные сведения см. в разделе [сопоставление, основанное на атрибутах](../../../../../../docs/framework/data/adonet/sql/linq/attribute-based-mapping.md) и [внешнего сопоставления](../../../../../../docs/framework/data/adonet/sql/linq/external-mapping.md).</span><span class="sxs-lookup"><span data-stu-id="afcc4-110">For more information, see [Attribute-Based Mapping](../../../../../../docs/framework/data/adonet/sql/linq/attribute-based-mapping.md) and [External Mapping](../../../../../../docs/framework/data/adonet/sql/linq/external-mapping.md).</span></span>  
  
 <span data-ttu-id="afcc4-111">В этом разделе обсуждаются следующие вопросы.</span><span class="sxs-lookup"><span data-stu-id="afcc4-111">This topic discusses the following points:</span></span>  
  
-   [<span data-ttu-id="afcc4-112">Сопоставление типов по умолчанию</span><span class="sxs-lookup"><span data-stu-id="afcc4-112">Default Type Mapping</span></span>](#DefaultTypeMapping)  
  
-   [<span data-ttu-id="afcc4-113">Таблица поведения во время выполнения сопоставления типов</span><span class="sxs-lookup"><span data-stu-id="afcc4-113">Type Mapping Run-time Behavior Matrix</span></span>](#BehaviorMatrix)  
  
-   [<span data-ttu-id="afcc4-114">Различия в поведении между CLR и выполнения SQL</span><span class="sxs-lookup"><span data-stu-id="afcc4-114">Behavior Differences Between CLR and SQL Execution</span></span>](#BehaviorDiffs)  
  
-   [<span data-ttu-id="afcc4-115">Сопоставление перечислений</span><span class="sxs-lookup"><span data-stu-id="afcc4-115">Enum Mapping</span></span>](#EnumMapping)  
  
-   [<span data-ttu-id="afcc4-116">Сопоставление чисел</span><span class="sxs-lookup"><span data-stu-id="afcc4-116">Numeric Mapping</span></span>](#NumericMapping)  
  
-   [<span data-ttu-id="afcc4-117">Сопоставление текста и XML</span><span class="sxs-lookup"><span data-stu-id="afcc4-117">Text and XML Mapping</span></span>](#TextMapping)  
  
-   [<span data-ttu-id="afcc4-118">Сопоставление даты и времени</span><span class="sxs-lookup"><span data-stu-id="afcc4-118">Date and Time Mapping</span></span>](#DateMapping)  
  
-   [<span data-ttu-id="afcc4-119">Сопоставление двоичных объектов</span><span class="sxs-lookup"><span data-stu-id="afcc4-119">Binary Mapping</span></span>](#BinaryMapping)  
  
-   [<span data-ttu-id="afcc4-120">Прочие виды сопоставления</span><span class="sxs-lookup"><span data-stu-id="afcc4-120">Miscellaneous Mapping</span></span>](#MiscMapping)  
  
<a name="DefaultTypeMapping"></a>   
## <a name="default-type-mapping"></a><span data-ttu-id="afcc4-121">Сопоставление типов по умолчанию</span><span class="sxs-lookup"><span data-stu-id="afcc4-121">Default Type Mapping</span></span>  
 <span data-ttu-id="afcc4-122">Можно создать сопоставление модели объектов или внешний файл сопоставления автоматически в реляционном конструкторе объектов или в программе командной строки SQLMetal.</span><span class="sxs-lookup"><span data-stu-id="afcc4-122">You can create the object model or external mapping file automatically with the Object Relational Designer (O/R Designer) or the SQLMetal command-line tool.</span></span> <span data-ttu-id="afcc4-123">В сопоставлениях типов по умолчанию для этих средств определяется, какие типы CLR выбираются в соответствии со столбцами, находящимися в базе данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="afcc4-123">The default type mappings for these tools define which CLR types are chosen to map to columns inside the SQL Server database.</span></span> <span data-ttu-id="afcc4-124">Дополнительные сведения об использовании этих средств см. в разделе [Создание модели объектов](../../../../../../docs/framework/data/adonet/sql/linq/creating-the-object-model.md).</span><span class="sxs-lookup"><span data-stu-id="afcc4-124">For more information about using these tools, see [Creating the Object Model](../../../../../../docs/framework/data/adonet/sql/linq/creating-the-object-model.md).</span></span>  
  
 <span data-ttu-id="afcc4-125">Также можно использовать метод <xref:System.Data.Linq.DataContext.CreateDatabase%2A> для создания базы данных SQL Server на основе сведений о сопоставлении, содержащихся в модели объектов или во внешнем файле сопоставления.</span><span class="sxs-lookup"><span data-stu-id="afcc4-125">You can also use the <xref:System.Data.Linq.DataContext.CreateDatabase%2A> method to create a SQL Server database based on the mapping information in the object model or external mapping file.</span></span> <span data-ttu-id="afcc4-126">В сопоставлениях типов по умолчанию для метода <xref:System.Data.Linq.DataContext.CreateDatabase%2A> определяется, какой тип выбирается для создаваемых столбцов SQL Server в соответствии с типами CLR в модели объектов.</span><span class="sxs-lookup"><span data-stu-id="afcc4-126">The default type mappings for the <xref:System.Data.Linq.DataContext.CreateDatabase%2A> method define which type of SQL Server columns are created to map to the CLR types in the object model.</span></span> <span data-ttu-id="afcc4-127">Дополнительные сведения см. в разделе [как: динамически создать базу данных](../../../../../../docs/framework/data/adonet/sql/linq/how-to-dynamically-create-a-database.md).</span><span class="sxs-lookup"><span data-stu-id="afcc4-127">For more information, see [How to: Dynamically Create a Database](../../../../../../docs/framework/data/adonet/sql/linq/how-to-dynamically-create-a-database.md).</span></span>  
  
<a name="BehaviorMatrix"></a>   
## <a name="type-mapping-run-time-behavior-matrix"></a><span data-ttu-id="afcc4-128">Таблица правил сопоставления типов во время выполнения</span><span class="sxs-lookup"><span data-stu-id="afcc4-128">Type Mapping Run-time Behavior Matrix</span></span>  
 <span data-ttu-id="afcc4-129">На следующей схеме показаны стандартные правила, по которым выполняется сопоставление определенных типов, когда данные получаются или сохраняются в базе данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-129">The following diagram shows the expected run-time behavior of specific type mappings when data is retrieved from or saved to the database.</span></span> <span data-ttu-id="afcc4-130">За исключением сериализации, LINQ to SQL не поддерживает сопоставление между типами CLR или SQL Server, которые не указаны в этой таблице.</span><span class="sxs-lookup"><span data-stu-id="afcc4-130">With the exception of serialization, LINQ to SQL does not support mapping between any CLR or SQL Server data types that are not specified in this matrix.</span></span> <span data-ttu-id="afcc4-131">Дополнительные сведения о поддержке сериализации см. в разделе [двоичной сериализации](#BinarySerialization).</span><span class="sxs-lookup"><span data-stu-id="afcc4-131">For more information on serialization support, see [Binary Serialization](#BinarySerialization).</span></span>  
 
![SQL Server в таблице сопоставлений типов данных SQL CLR](media/sql-clr-type-mapping.png)

> [!NOTE]
>  <span data-ttu-id="afcc4-133">Некоторые сопоставления типов могут приводить к возникновению исключений переполнения или потери данных в ходе преобразования данных в базу данных или из нее.</span><span class="sxs-lookup"><span data-stu-id="afcc4-133">Some type mappings may result in overflow or data loss exceptions while translating to or from the database.</span></span>  
  
### <a name="custom-type-mapping"></a><span data-ttu-id="afcc4-134">Нестандартное сопоставление типов</span><span class="sxs-lookup"><span data-stu-id="afcc4-134">Custom Type Mapping</span></span>  
 <span data-ttu-id="afcc4-135">В LINQ to SQL помимо сопоставлений типов по умолчанию, используемых в реляционном конструкторе объектов, программе SQLMetal и методу <xref:System.Data.Linq.DataContext.CreateDatabase%2A> доступны и другие сопоставления.</span><span class="sxs-lookup"><span data-stu-id="afcc4-135">With LINQ to SQL, you are not limited to the default type mappings used by the O/R Designer, SQLMetal, and the <xref:System.Data.Linq.DataContext.CreateDatabase%2A> method.</span></span> <span data-ttu-id="afcc4-136">Можно создать нестандартные сопоставления типов, явно указав их в DBML-файле.</span><span class="sxs-lookup"><span data-stu-id="afcc4-136">You can create custom type mappings by explicitly specifying them in a DBML file.</span></span> <span data-ttu-id="afcc4-137">Затем этот DBML-файл используется для создания кода модели объектов и файла сопоставления.</span><span class="sxs-lookup"><span data-stu-id="afcc4-137">Then you can use that DBML file to create the object model code and mapping file.</span></span> <span data-ttu-id="afcc4-138">Дополнительные сведения см. в разделе [настраиваемые сопоставления типов SQL-CLR](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-custom-type-mappings.md).</span><span class="sxs-lookup"><span data-stu-id="afcc4-138">For more information, see [SQL-CLR Custom Type Mappings](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-custom-type-mappings.md).</span></span>  
  
<a name="BehaviorDiffs"></a>   
## <a name="behavior-differences-between-clr-and-sql-execution"></a><span data-ttu-id="afcc4-139">Различия при выполнении в среде CLR и на SQL Server</span><span class="sxs-lookup"><span data-stu-id="afcc4-139">Behavior Differences Between CLR and SQL Execution</span></span>  
 <span data-ttu-id="afcc4-140">Поскольку между средами CLR и SQL Server существуют различия в точности и правилах выполнения кода, то правила и результаты вычислений могут оказать различными (в зависимости от их проведения).</span><span class="sxs-lookup"><span data-stu-id="afcc4-140">Because of differences in precision and execution between the CLR and SQL Server, you may receive different results or experience different behavior depending on where you perform your calculations.</span></span> <span data-ttu-id="afcc4-141">Вычисления, выполняемые в запросах LINQ to SQL, фактически преобразуются в язык Transact-SQL, а затем выполняются в базе данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="afcc4-141">Calculations performed in LINQ to SQL queries are actually translated to Transact-SQL and then executed on the SQL Server database.</span></span> <span data-ttu-id="afcc4-142">Вычисления, проводимые вне запросов LINQ to SQL, выполняются в контексте среды CLR.</span><span class="sxs-lookup"><span data-stu-id="afcc4-142">Calculations performed outside LINQ to SQL queries are executed within the context of the CLR.</span></span>  
  
 <span data-ttu-id="afcc4-143">Например, ниже представлены некоторые отличия в работе среды CLR и SQL Server.</span><span class="sxs-lookup"><span data-stu-id="afcc4-143">For example, the following are some differences in behavior between the CLR and SQL Server:</span></span>  
  
-   <span data-ttu-id="afcc4-144">SQL Server применяет для некоторых типов данных порядок, отличный от порядка эквивалентных типов в среде CLR.</span><span class="sxs-lookup"><span data-stu-id="afcc4-144">SQL Server orders some data types differently than data of equivalent type in the CLR.</span></span> <span data-ttu-id="afcc4-145">Например, порядок данных типа `UNIQUEIDENTIFIER` в SQL Server отличается от порядка данных типа <xref:System.Guid?displayProperty=nameWithType> в среде CLR.</span><span class="sxs-lookup"><span data-stu-id="afcc4-145">For example, SQL Server data of type `UNIQUEIDENTIFIER` is ordered differently than CLR data of type <xref:System.Guid?displayProperty=nameWithType>.</span></span>  
  
-   <span data-ttu-id="afcc4-146">Некоторые операции сравнения строк обрабатываются в SQL Server иначе, чем в среде CLR.</span><span class="sxs-lookup"><span data-stu-id="afcc4-146">SQL Server handles some string comparison operations differently than the CLR.</span></span> <span data-ttu-id="afcc4-147">Порядок сравнения строк в SQL Server зависит от параметров сортировки на сервере.</span><span class="sxs-lookup"><span data-stu-id="afcc4-147">In SQL Server, string comparison behavior depends on the collation settings on the server.</span></span> <span data-ttu-id="afcc4-148">Дополнительные сведения см. в разделе [работа с параметрами сортировки](https://go.microsoft.com/fwlink/?LinkId=115330) в электронной документации по Microsoft SQL Server.</span><span class="sxs-lookup"><span data-stu-id="afcc4-148">For more information, see [Working with Collations](https://go.microsoft.com/fwlink/?LinkId=115330) in the Microsoft SQL Server Books Online.</span></span>  
  
-   <span data-ttu-id="afcc4-149">Для некоторых сопоставленных функций SQL Server может возвращать значения, отличные от аналогичных значений, возвращаемых средой CLR.</span><span class="sxs-lookup"><span data-stu-id="afcc4-149">SQL Server may return different values for some mapped functions than the CLR.</span></span> <span data-ttu-id="afcc4-150">Например, функции проверки равенства будут возвращать различные результаты, поскольку SQL Server считает равными две строки, различающиеся только конечными пробелами, в то время как с точки зрения среды CLR эти строки не равны.</span><span class="sxs-lookup"><span data-stu-id="afcc4-150">For example, equality functions will differ because SQL Server considers two strings to be equal if they only differ in trailing white space; whereas the CLR considers them to be not equal.</span></span>  
  
<a name="EnumMapping"></a>   
## <a name="enum-mapping"></a><span data-ttu-id="afcc4-151">Сопоставление перечислений</span><span class="sxs-lookup"><span data-stu-id="afcc4-151">Enum Mapping</span></span>  
 <span data-ttu-id="afcc4-152">LINQ to SQL поддерживает два способа для сопоставления типа CLR <xref:System.Enum?displayProperty=nameWithType> с типами SQL Server.</span><span class="sxs-lookup"><span data-stu-id="afcc4-152">LINQ to SQL supports mapping the CLR <xref:System.Enum?displayProperty=nameWithType> type to SQL Server types in two ways:</span></span>  
  
-   <span data-ttu-id="afcc4-153">Сопоставление с числовыми типами SQL (`TINYINT`, `SMALLINT`, `INT`, `BIGINT`).</span><span class="sxs-lookup"><span data-stu-id="afcc4-153">Mapping to SQL numeric types (`TINYINT`, `SMALLINT`, `INT`, `BIGINT`)</span></span>  
  
     <span data-ttu-id="afcc4-154">При сопоставлении типа <xref:System.Enum?displayProperty=nameWithType> среды CLR с числовым типом SQL, выполняется сопоставление базового целочисленного значения CLR <xref:System.Enum?displayProperty=nameWithType> со значением в столбце базы данных SQL Server.</span><span class="sxs-lookup"><span data-stu-id="afcc4-154">When you map a CLR <xref:System.Enum?displayProperty=nameWithType> type to a SQL numeric type, you map the underlying integer value of the CLR <xref:System.Enum?displayProperty=nameWithType> to the value of the SQL Server database column.</span></span> <span data-ttu-id="afcc4-155">Например, если объект <xref:System.Enum?displayProperty=nameWithType> с именем `DaysOfWeek` содержит элемент с именем `Tue`, базовое целочисленное значение для которого равно 3, то этому элементу сопоставляется значение 3 в базе данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-155">For example, if a <xref:System.Enum?displayProperty=nameWithType> named `DaysOfWeek` contains a member named `Tue` with an underlying integer value of 3, that member maps to a database value of 3.</span></span>  
  
-   <span data-ttu-id="afcc4-156">Сопоставление с текстовыми типами SQL (`CHAR`, `NCHAR`, `VARCHAR`, `NVARCHAR`).</span><span class="sxs-lookup"><span data-stu-id="afcc4-156">Mapping to SQL text types (`CHAR`, `NCHAR`, `VARCHAR`, `NVARCHAR`)</span></span>  
  
     <span data-ttu-id="afcc4-157">При сопоставлении типа CLR <xref:System.Enum?displayProperty=nameWithType> с текстовым типом SQL выполняется сопоставление значения в базе данных SQL с именами элементов перечисления CLR <xref:System.Enum?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-157">When you map a CLR <xref:System.Enum?displayProperty=nameWithType> type to a SQL text type, the SQL database value is mapped to the names of the CLR <xref:System.Enum?displayProperty=nameWithType> members.</span></span> <span data-ttu-id="afcc4-158">Например, если объект <xref:System.Enum?displayProperty=nameWithType> с именем `DaysOfWeek` содержит элемент с именем `Tue`, базовое целочисленное значение для которого равно 3, то этому элементу сопоставляется значение `Tue` в базе данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-158">For example, if a <xref:System.Enum?displayProperty=nameWithType> named `DaysOfWeek` contains a member named `Tue` with an underlying integer value of 3, that member maps to a database value of `Tue`.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="afcc4-159">При сопоставлении текстовых типов SQL с типом CLR <xref:System.Enum?displayProperty=nameWithType> в сопоставляемый столбец SQL включаются только имена элементов <xref:System.Enum>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-159">When mapping SQL text types to a CLR <xref:System.Enum?displayProperty=nameWithType>, include only the names of the <xref:System.Enum> members in the mapped SQL column.</span></span> <span data-ttu-id="afcc4-160">Прочие значения в столбце SQL, сопоставленном с <xref:System.Enum>, не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="afcc4-160">Other values are not supported in the <xref:System.Enum>-mapped SQL column.</span></span>  
  
 <span data-ttu-id="afcc4-161">Реляционный конструктор объектов и программа командной строки SQLMetal не выполняют автоматическое сопоставление типа SQL с классом CLR <xref:System.Enum>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-161">The O/R Designer and SQLMetal command-line tool cannot automatically map a SQL type to a CLR <xref:System.Enum> class.</span></span> <span data-ttu-id="afcc4-162">Такое сопоставление необходимо настроить вручную, изменив DBML-файл для использования реляционным конструктором объектов и программой SQLMetal.</span><span class="sxs-lookup"><span data-stu-id="afcc4-162">You must explicitly configure this mapping by customizing a DBML file for use by the O/R Designer and SQLMetal.</span></span> <span data-ttu-id="afcc4-163">Дополнительные сведения о нестандартном сопоставлении типов см. в разделе [настраиваемые сопоставления типов SQL-CLR](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-custom-type-mappings.md).</span><span class="sxs-lookup"><span data-stu-id="afcc4-163">For more information about custom type mapping, see [SQL-CLR Custom Type Mappings](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-custom-type-mappings.md).</span></span>  
  
 <span data-ttu-id="afcc4-164">Поскольку столбец SQL, предназначенный для перечисления будет иметь тот же тип, что другие числовые и текстовые столбцы; Эти средства не смогут определить свои намерения и по умолчанию для сопоставления как описано в следующем [сопоставление чисел](#NumericMapping) и [сопоставление текста и XML](#TextMapping) разделы.</span><span class="sxs-lookup"><span data-stu-id="afcc4-164">Because a SQL column intended for enumeration will be of the same type as other numeric and text columns; these tools will not recognize your intent and default to mapping as described in the following [Numeric Mapping](#NumericMapping) and [Text and XML Mapping](#TextMapping) sections.</span></span> <span data-ttu-id="afcc4-165">Дополнительные сведения о создании кода с помощью DBML-файла, см. в разделе [создание кода в LINQ to SQL](../../../../../../docs/framework/data/adonet/sql/linq/code-generation-in-linq-to-sql.md).</span><span class="sxs-lookup"><span data-stu-id="afcc4-165">For more information about generating code with the DBML file, see [Code Generation in LINQ to SQL](../../../../../../docs/framework/data/adonet/sql/linq/code-generation-in-linq-to-sql.md).</span></span>  
  
 <span data-ttu-id="afcc4-166">Метод <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> создает столбец SQL числового типа в соответствии с типом CLR <xref:System.Enum?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-166">The <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method creates a SQL column of numeric type to map a CLR <xref:System.Enum?displayProperty=nameWithType> type.</span></span>  
  
<a name="NumericMapping"></a>   
## <a name="numeric-mapping"></a><span data-ttu-id="afcc4-167">Сопоставление чисел</span><span class="sxs-lookup"><span data-stu-id="afcc4-167">Numeric Mapping</span></span>  
 <span data-ttu-id="afcc4-168">LINQ to SQL позволяет сопоставлять многие числовые типы CLR и SQL Server.</span><span class="sxs-lookup"><span data-stu-id="afcc4-168">LINQ to SQL lets you map many CLR and SQL Server numeric types.</span></span> <span data-ttu-id="afcc4-169">В следующей таблице показаны типы CLR, которые выбираются реляционным конструктором объектов и программой SQLMetal при создании сопоставления модели объектов или внешнего файла сопоставления, основанного на базе данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-169">The following table shows the CLR types that O/R Designer and SQLMetal select when building an object model or external mapping file based on your database.</span></span>  
  
|<span data-ttu-id="afcc4-170">Тип SQL Server</span><span class="sxs-lookup"><span data-stu-id="afcc4-170">SQL Server Type</span></span>|<span data-ttu-id="afcc4-171">Тип CLR, по умолчанию используемый для сопоставления c реляционным конструктором объектов и программой SQLMetal</span><span class="sxs-lookup"><span data-stu-id="afcc4-171">Default CLR Type mapping used by O/R Designer and SQLMetal</span></span>|  
|---------------------|-----------------------------------------------------------------|  
|`BIT`|<xref:System.Boolean?displayProperty=nameWithType>|  
|`TINYINT`|<xref:System.Int16?displayProperty=nameWithType>|  
|`INT`|<xref:System.Int32?displayProperty=nameWithType>|  
|`BIGINT`|<xref:System.Int64?displayProperty=nameWithType>|  
|`SMALLMONEY`|<xref:System.Decimal?displayProperty=nameWithType>|  
|`MONEY`|<xref:System.Decimal?displayProperty=nameWithType>|  
|`DECIMAL`|<xref:System.Decimal?displayProperty=nameWithType>|  
|`NUMERIC`|<xref:System.Decimal?displayProperty=nameWithType>|  
|`REAL/FLOAT(24)`|<xref:System.Single?displayProperty=nameWithType>|  
|`FLOAT/FLOAT(53)`|<xref:System.Double?displayProperty=nameWithType>|  
  
 <span data-ttu-id="afcc4-172">В следующей таблице показано сопоставление типов по умолчанию, используемое методом <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> для определения типов столбцов SQL, которые должны создаваться в соответствии с типами CLR, определенными в модели объектов или во внешнем файле сопоставления.</span><span class="sxs-lookup"><span data-stu-id="afcc4-172">The next table shows the default type mappings used by the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method to define which type of SQL columns are created to map to the CLR types defined in your object model or external mapping file.</span></span>  
  
|<span data-ttu-id="afcc4-173">Тип CLR</span><span class="sxs-lookup"><span data-stu-id="afcc4-173">CLR Type</span></span>|<span data-ttu-id="afcc4-174">Тип SQL Server, по умолчанию используемый методом <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="afcc4-174">Default SQL Server Type used by <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType></span></span>|  
|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|  
|<xref:System.Boolean?displayProperty=nameWithType>|`BIT`|  
|<xref:System.Byte?displayProperty=nameWithType>|`TINYINT`|  
|<xref:System.Int16?displayProperty=nameWithType>|`SMALLINT`|  
|<xref:System.Int32?displayProperty=nameWithType>|`INT`|  
|<xref:System.Int64?displayProperty=nameWithType>|`BIGINT`|  
|<xref:System.SByte?displayProperty=nameWithType>|`SMALLINT`|  
|<xref:System.UInt16?displayProperty=nameWithType>|`INT`|  
|<xref:System.UInt32?displayProperty=nameWithType>|`BIGINT`|  
|<xref:System.UInt64?displayProperty=nameWithType>|`DECIMAL(20)`|  
|<xref:System.Decimal?displayProperty=nameWithType>|`DECIMAL(29,4)`|  
|<xref:System.Single?displayProperty=nameWithType>|`REAL`|  
|<xref:System.Double?displayProperty=nameWithType>|`FLOAT`|  
  
 <span data-ttu-id="afcc4-175">Можно выбрать другие сопоставления чисел, но некоторые из них могут вызвать исключения переполнения или потери данных в процессе преобразования данных в базу данных или из базы данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-175">There are many other numeric mappings you can choose, but some may result in overflow or data loss exceptions while translating to or from the database.</span></span> <span data-ttu-id="afcc4-176">Дополнительные сведения см. в разделе [тип сопоставления поведение таблица во время выполнения](#BehaviorMatrix).</span><span class="sxs-lookup"><span data-stu-id="afcc4-176">For more information, see the [Type Mapping Run Time Behavior Matrix](#BehaviorMatrix).</span></span>  
  
### <a name="decimal-and-money-types"></a><span data-ttu-id="afcc4-177">Типы Decimal и Money</span><span class="sxs-lookup"><span data-stu-id="afcc4-177">Decimal and Money Types</span></span>  
 <span data-ttu-id="afcc4-178">Точность по умолчанию SQL Server `DECIMAL` (18 десятичных разрядов слева и справа от десятичного разделителя), намного меньше точности типа CLR <xref:System.Decimal?displayProperty=nameWithType> типа, которым он сопоставляется с по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="afcc4-178">The default precision of SQL Server `DECIMAL` type (18 decimal digits to the left and right of the decimal point) is much smaller than the precision of the CLR <xref:System.Decimal?displayProperty=nameWithType> type that it is paired with by default.</span></span> <span data-ttu-id="afcc4-179">Это может вызвать потерю точности при сохранении данных в базе данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-179">This can result in precision loss when you save data to the database.</span></span> <span data-ttu-id="afcc4-180">Однако противоположная ситуация может возникнуть, если для типа SQL Server `DECIMAL` задана точность, превышающая 29 разрядов.</span><span class="sxs-lookup"><span data-stu-id="afcc4-180">However, just the opposite can happen if the SQL Server `DECIMAL` type is configured with greater than 29 digits of precision.</span></span> <span data-ttu-id="afcc4-181">Если для типа SQL Server `DECIMAL` задана точность, превышающая точность типа CLR <xref:System.Decimal?displayProperty=nameWithType>, то потеря точности может возникнуть при получении данных из базы данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-181">When a SQL Server `DECIMAL` type has been configured with a greater precision than the CLR <xref:System.Decimal?displayProperty=nameWithType>, precision loss can occur when retrieving data from the database.</span></span>  
  
 <span data-ttu-id="afcc4-182">Типы SQL Server `MONEY` и `SMALLMONEY`, которые также по умолчанию сопоставляются с типом CLR <xref:System.Decimal?displayProperty=nameWithType>, имеют намного меньшую точность, что может вызвать исключения переполнения или потери данных при сохранении данных в базу данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-182">The SQL Server `MONEY` and `SMALLMONEY` types, which are also paired with the CLR <xref:System.Decimal?displayProperty=nameWithType> type by default, have a much smaller precision, which can result in overflow or data loss exceptions when saving data to the database.</span></span>  
  
<a name="TextMapping"></a>   
## <a name="text-and-xml-mapping"></a><span data-ttu-id="afcc4-183">Сопоставление текста и XML</span><span class="sxs-lookup"><span data-stu-id="afcc4-183">Text and XML Mapping</span></span>  
 <span data-ttu-id="afcc4-184">Кроме того, существует множество текстовых типов и типов XML, для которых возможно сопоставление с помощью LINQ to SQL.</span><span class="sxs-lookup"><span data-stu-id="afcc4-184">There are also many text-based and XML types that you can map with LINQ to SQL.</span></span> <span data-ttu-id="afcc4-185">В следующей таблице показаны типы CLR, которые выбираются реляционным конструктором объектов и программой SQLMetal при создании сопоставления модели объектов или внешнего файла сопоставления, основанного на базе данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-185">The following table shows the CLR types that O/R Designer and SQLMetal select when building an object model or external mapping file based on your database.</span></span>  
  
|<span data-ttu-id="afcc4-186">Тип SQL Server</span><span class="sxs-lookup"><span data-stu-id="afcc4-186">SQL Server Type</span></span>|<span data-ttu-id="afcc4-187">Тип CLR, по умолчанию используемый для сопоставления c реляционным конструктором объектов и программой SQLMetal</span><span class="sxs-lookup"><span data-stu-id="afcc4-187">Default CLR Type mapping used by O/R Designer and SQLMetal</span></span>|  
|---------------------|-----------------------------------------------------------------|  
|`CHAR`|<xref:System.String?displayProperty=nameWithType>|  
|`NCHAR`|<xref:System.String?displayProperty=nameWithType>|  
|`VARCHAR`|<xref:System.String?displayProperty=nameWithType>|  
|`NVARCHAR`|<xref:System.String?displayProperty=nameWithType>|  
|`TEXT`|<xref:System.String?displayProperty=nameWithType>|  
|`NTEXT`|<xref:System.String?displayProperty=nameWithType>|  
|`XML`|<xref:System.Xml.Linq.XElement?displayProperty=nameWithType>|  
  
 <span data-ttu-id="afcc4-188">В следующей таблице показано сопоставление типов по умолчанию, используемое методом <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> для определения типов столбцов SQL, которые должны создаваться в соответствии с типами CLR, определенными в модели объектов или во внешнем файле сопоставления.</span><span class="sxs-lookup"><span data-stu-id="afcc4-188">The next table shows the default type mappings used by the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method to define which type of SQL columns are created to map to the CLR types defined in your object model or external mapping file.</span></span>  
  
|<span data-ttu-id="afcc4-189">Тип CLR</span><span class="sxs-lookup"><span data-stu-id="afcc4-189">CLR Type</span></span>|<span data-ttu-id="afcc4-190">Тип SQL Server, по умолчанию используемый методом <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="afcc4-190">Default SQL Server Type used by <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType></span></span>|  
|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|  
|<xref:System.Char?displayProperty=nameWithType>|`NCHAR(1)`|  
|<xref:System.String?displayProperty=nameWithType>|`NVARCHAR(4000)`|  
|<span data-ttu-id="afcc4-191"><xref:System.Char?displayProperty=nameWithType>[]</span><span class="sxs-lookup"><span data-stu-id="afcc4-191"><xref:System.Char?displayProperty=nameWithType>[]</span></span>|`NVARCHAR(4000)`|  
|<span data-ttu-id="afcc4-192">Пользовательский тип, реализующий методы `Parse()` и `ToString()`</span><span class="sxs-lookup"><span data-stu-id="afcc4-192">Custom type implementing `Parse()` and `ToString()`</span></span>|`NVARCHAR(MAX)`|  
  
 <span data-ttu-id="afcc4-193">Можно выбрать множество других текстовых сопоставлений и сопоставлений XML, но некоторые из них могут вызвать исключения переполнения или потери данных в процессе преобразования данных в базу или из базы данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-193">There are many other text-based and XML mappings you can choose, but some may result in overflow or data loss exceptions while translating to or from the database.</span></span> <span data-ttu-id="afcc4-194">Дополнительные сведения см. в разделе [тип сопоставления поведение таблица во время выполнения](#BehaviorMatrix).</span><span class="sxs-lookup"><span data-stu-id="afcc4-194">For more information, see the [Type Mapping Run Time Behavior Matrix](#BehaviorMatrix).</span></span>  
  
### <a name="xml-types"></a><span data-ttu-id="afcc4-195">Типы XML</span><span class="sxs-lookup"><span data-stu-id="afcc4-195">XML Types</span></span>  
 <span data-ttu-id="afcc4-196">Тип данных SQL Server `XML` доступен в версиях Microsoft SQL Server 2005 и выше.</span><span class="sxs-lookup"><span data-stu-id="afcc4-196">The SQL Server `XML` data type is available starting in Microsoft SQL Server 2005.</span></span> <span data-ttu-id="afcc4-197">Тип данных SQL Server `XML` может быть сопоставлен с <xref:System.Xml.Linq.XElement>, <xref:System.Xml.Linq.XDocument> или <xref:System.String>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-197">You can map the SQL Server `XML` data type to <xref:System.Xml.Linq.XElement>, <xref:System.Xml.Linq.XDocument>, or <xref:System.String>.</span></span> <span data-ttu-id="afcc4-198">Если в столбце хранятся XML-фрагменты, которые невозможно считать в объект <xref:System.Xml.Linq.XElement>, то столбец необходимо сопоставить с типом <xref:System.String>, чтобы избежать ошибок времени выполнения.</span><span class="sxs-lookup"><span data-stu-id="afcc4-198">If the column stores XML fragments that cannot be read into <xref:System.Xml.Linq.XElement>, the column must be mapped to <xref:System.String> to avoid run-time errors.</span></span> <span data-ttu-id="afcc4-199">К XML-фрагментам, для которых необходимо сопоставление с типом <xref:System.String>, относятся следующие:</span><span class="sxs-lookup"><span data-stu-id="afcc4-199">XML fragments that must be mapped to <xref:System.String> include the following:</span></span>  
  
-   <span data-ttu-id="afcc4-200">последовательность XML-элементов;</span><span class="sxs-lookup"><span data-stu-id="afcc4-200">A sequence of XML elements</span></span>  
  
-   <span data-ttu-id="afcc4-201">Атрибуты</span><span class="sxs-lookup"><span data-stu-id="afcc4-201">Attributes</span></span>  
  
-   <span data-ttu-id="afcc4-202">общие идентификаторы;</span><span class="sxs-lookup"><span data-stu-id="afcc4-202">Public Identifiers (PI)</span></span>  
  
-   <span data-ttu-id="afcc4-203">Комментарии</span><span class="sxs-lookup"><span data-stu-id="afcc4-203">Comments</span></span>  
  
 <span data-ttu-id="afcc4-204">Несмотря на то, что вы можете сопоставить <xref:System.Xml.Linq.XElement> и <xref:System.Xml.Linq.XDocument> для SQL Server, как показано в [матрицу поведения во время выполнения тип сопоставления](#BehaviorMatrix), <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> метод имеет нет сопоставление типов SQL Server по умолчанию для этих типов.</span><span class="sxs-lookup"><span data-stu-id="afcc4-204">Although you can map <xref:System.Xml.Linq.XElement> and <xref:System.Xml.Linq.XDocument> to SQL Server as shown in the [Type Mapping Run Time Behavior Matrix](#BehaviorMatrix), the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method has no default SQL Server type mapping for these types.</span></span>  
  
### <a name="custom-types"></a><span data-ttu-id="afcc4-205">Пользовательские типы</span><span class="sxs-lookup"><span data-stu-id="afcc4-205">Custom Types</span></span>  
 <span data-ttu-id="afcc4-206">Если класс реализует `Parse()` и `ToString()`, объект можно сопоставить с любым текстовым типом SQL (`CHAR`, `NCHAR`, `VARCHAR`, `NVARCHAR`, `TEXT`, `NTEXT`, `XML`).</span><span class="sxs-lookup"><span data-stu-id="afcc4-206">If a class implements `Parse()` and `ToString()`, you can map the object to any SQL text type (`CHAR`, `NCHAR`, `VARCHAR`, `NVARCHAR`, `TEXT`, `NTEXT`, `XML`).</span></span> <span data-ttu-id="afcc4-207">Объект сохраняется в базе данных путем передачи значения, возвращаемого методом `ToString()`, в сопоставленный столбец базы данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-207">The object is stored in the database by sending the value returned by `ToString()` to the mapped database column.</span></span> <span data-ttu-id="afcc4-208">Объект воссоздается при вызове метода `Parse()` со строкой, возвращаемой из базы данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-208">The object is reconstructed by invoking `Parse()` on the string returned by the database.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="afcc4-209">LINQ to SQL не поддерживает сериализацию, выполняемую с помощью <xref:System.Xml.Serialization.IXmlSerializable?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-209">LINQ to SQL does not support serialization by using <xref:System.Xml.Serialization.IXmlSerializable?displayProperty=nameWithType>.</span></span>  
  
<a name="DateMapping"></a>   
## <a name="date-and-time-mapping"></a><span data-ttu-id="afcc4-210">Сопоставление даты и времени</span><span class="sxs-lookup"><span data-stu-id="afcc4-210">Date and Time Mapping</span></span>  
 <span data-ttu-id="afcc4-211">В LINQ to SQL можно сопоставлять многие типы даты и времени SQL Server.</span><span class="sxs-lookup"><span data-stu-id="afcc4-211">With LINQ to SQL, you can map many SQL Server date and time types.</span></span> <span data-ttu-id="afcc4-212">В следующей таблице показаны типы CLR, которые выбираются реляционным конструктором объектов и программой SQLMetal при создании сопоставления модели объектов или внешнего файла сопоставления, основанного на базе данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-212">The following table shows the CLR types that O/R Designer and SQLMetal select when building an object model or external mapping file based on your database.</span></span>  
  
|<span data-ttu-id="afcc4-213">Тип SQL Server</span><span class="sxs-lookup"><span data-stu-id="afcc4-213">SQL Server Type</span></span>|<span data-ttu-id="afcc4-214">Тип CLR, по умолчанию используемый для сопоставления c реляционным конструктором объектов и программой SQLMetal</span><span class="sxs-lookup"><span data-stu-id="afcc4-214">Default CLR Type mapping used by O/R Designer and SQLMetal</span></span>|  
|---------------------|-----------------------------------------------------------------|  
|`SMALLDATETIME`|<xref:System.DateTime?displayProperty=nameWithType>|  
|`DATETIME`|<xref:System.DateTime?displayProperty=nameWithType>|  
|`DATETIME2`|<xref:System.DateTime?displayProperty=nameWithType>|  
|`DATETIMEOFFSET`|<xref:System.DateTimeOffset?displayProperty=nameWithType>|  
|`DATE`|<xref:System.DateTime?displayProperty=nameWithType>|  
|`TIME`|<xref:System.TimeSpan?displayProperty=nameWithType>|  
  
 <span data-ttu-id="afcc4-215">В следующей таблице показано сопоставление типов по умолчанию, используемое методом <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> для определения типов столбцов SQL, которые должны создаваться в соответствии с типами CLR, определенными в модели объектов или во внешнем файле сопоставления.</span><span class="sxs-lookup"><span data-stu-id="afcc4-215">The next table shows the default type mappings used by the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method to define which type of SQL columns are created to map to the CLR types defined in your object model or external mapping file.</span></span>  
  
|<span data-ttu-id="afcc4-216">Тип CLR</span><span class="sxs-lookup"><span data-stu-id="afcc4-216">CLR Type</span></span>|<span data-ttu-id="afcc4-217">Тип SQL Server, по умолчанию используемый методом <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="afcc4-217">Default SQL Server Type used by <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType></span></span>|  
|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|  
|<xref:System.DateTime?displayProperty=nameWithType>|`DATETIME`|  
|<xref:System.DateTimeOffset?displayProperty=nameWithType>|`DATETIMEOFFSET`|  
|<xref:System.TimeSpan?displayProperty=nameWithType>|`TIME`|  
  
 <span data-ttu-id="afcc4-218">Можно выбрать другие сопоставления даты и времени, но некоторые из них могут вызвать исключения переполнения или потери данных в процессе преобразования данных в базу данных или из базы данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-218">There are many other date and time mappings you can choose, but some may result in overflow or data loss exceptions while translating to or from the database.</span></span> <span data-ttu-id="afcc4-219">Дополнительные сведения см. в разделе [тип сопоставления поведение таблица во время выполнения](#BehaviorMatrix).</span><span class="sxs-lookup"><span data-stu-id="afcc4-219">For more information, see the [Type Mapping Run Time Behavior Matrix](#BehaviorMatrix).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="afcc4-220">Типы данных SQL Server `DATETIME2`, `DATETIMEOFFSET`, `DATE` и `TIME` доступны в версиях Microsoft SQL Server 2008 и выше.</span><span class="sxs-lookup"><span data-stu-id="afcc4-220">The SQL Server types `DATETIME2`, `DATETIMEOFFSET`, `DATE`, and `TIME` are available starting with Microsoft SQL Server 2008.</span></span> <span data-ttu-id="afcc4-221">LINQ to SQL поддерживает сопоставление с этими новыми типами, начиная с версии платформы .NET Framework 3.5 с пакетом обновления 1 (SP1).</span><span class="sxs-lookup"><span data-stu-id="afcc4-221">LINQ to SQL supports mapping to these new types starting with the .NET Framework version 3.5 SP1.</span></span>  
  
### <a name="systemdatetime"></a><span data-ttu-id="afcc4-222">System.Datetime</span><span class="sxs-lookup"><span data-stu-id="afcc4-222">System.Datetime</span></span>  
 <span data-ttu-id="afcc4-223">Диапазон и точность типа CLR <xref:System.DateTime?displayProperty=nameWithType> превышают диапазон и точность типа SQL Server `DATETIME`, с которым по умолчанию выполняется сопоставление в методе <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-223">The range and precision of the CLR <xref:System.DateTime?displayProperty=nameWithType> type is greater than the range and precision of the SQL Server `DATETIME` type, which is the default type mapping for the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="afcc4-224">Чтобы избежать исключений, связанных с датами вне диапазона `DATETIME`, используйте тип `DATETIME2`, который доступен, начиная с версии Microsoft SQL Server 2008.</span><span class="sxs-lookup"><span data-stu-id="afcc4-224">To help avoid exceptions related to dates outside the range of `DATETIME`, use `DATETIME2`, which is available starting with Microsoft SQL Server 2008.</span></span> <span data-ttu-id="afcc4-225">`DATETIME2` можно сопоставить диапазон и точность типа CLR <xref:System.DateTime?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-225">`DATETIME2` can match the range and precision of the CLR <xref:System.DateTime?displayProperty=nameWithType>.</span></span>  
  
 <span data-ttu-id="afcc4-226">В датах SQL Server не учитывается часовой пояс (<xref:System.TimeZone>), который имеет широкую поддержку в среде CLR.</span><span class="sxs-lookup"><span data-stu-id="afcc4-226">SQL Server dates have no concept of <xref:System.TimeZone>, a feature that is richly supported in the CLR.</span></span> <span data-ttu-id="afcc4-227">Значения <xref:System.TimeZone> сохраняются в базе данных без изменений и без преобразования <xref:System.TimeZone>, независимо от исходных данных <xref:System.DateTimeKind>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-227"><xref:System.TimeZone> values are saved as is to the database without <xref:System.TimeZone> conversion, regardless of the original <xref:System.DateTimeKind> information.</span></span> <span data-ttu-id="afcc4-228">Когда значения <xref:System.DateTime> получаются из базы данных, они загружаются в <xref:System.DateTime> без изменений, а <xref:System.DateTimeKind> получает значение <xref:System.DateTimeKind.Unspecified>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-228">When <xref:System.DateTime> values are retrieved from the database, their value is loaded as is into a <xref:System.DateTime> with a <xref:System.DateTimeKind> of <xref:System.DateTimeKind.Unspecified>.</span></span> <span data-ttu-id="afcc4-229">Дополнительные сведения о поддерживаемых <xref:System.DateTime?displayProperty=nameWithType> методы, см. в разделе [методы System.DateTime](../../../../../../docs/framework/data/adonet/sql/linq/system-datetime-methods.md).</span><span class="sxs-lookup"><span data-stu-id="afcc4-229">For more information about supported <xref:System.DateTime?displayProperty=nameWithType> methods, see [System.DateTime Methods](../../../../../../docs/framework/data/adonet/sql/linq/system-datetime-methods.md).</span></span>  
  
### <a name="systemtimespan"></a><span data-ttu-id="afcc4-230">System.TimeSpan</span><span class="sxs-lookup"><span data-stu-id="afcc4-230">System.TimeSpan</span></span>  
 <span data-ttu-id="afcc4-231">Microsoft SQL Server 2008 и платформа .NET Framework 3.5 с пакетом обновления 1 (SP1) позволяют сопоставлять тип CLR <xref:System.TimeSpan?displayProperty=nameWithType> с типом SQL Server `TIME`.</span><span class="sxs-lookup"><span data-stu-id="afcc4-231">Microsoft SQL Server 2008 and the .NET Framework 3.5 SP1 let you map the CLR <xref:System.TimeSpan?displayProperty=nameWithType> type to the SQL Server `TIME` type.</span></span> <span data-ttu-id="afcc4-232">Однако между типом CLR <xref:System.TimeSpan?displayProperty=nameWithType> и типом SQL Server `TIME` существует большая разница в поддерживаемом диапазоне.</span><span class="sxs-lookup"><span data-stu-id="afcc4-232">However, there is a large difference between the range that the CLR <xref:System.TimeSpan?displayProperty=nameWithType> supports and what the SQL Server `TIME` type supports.</span></span> <span data-ttu-id="afcc4-233">Сопоставление значений (меньше 0 или больше 23:59:59.9999999 часов) с типом SQL `TIME` вызовет исключение переполнения.</span><span class="sxs-lookup"><span data-stu-id="afcc4-233">Mapping values less than 0 or greater than 23:59:59.9999999 hours to the SQL `TIME` will result in overflow exceptions.</span></span> <span data-ttu-id="afcc4-234">Дополнительные сведения см. в разделе [методы System.TimeSpan](../../../../../../docs/framework/data/adonet/sql/linq/system-timespan-methods.md).</span><span class="sxs-lookup"><span data-stu-id="afcc4-234">For more information, see [System.TimeSpan Methods](../../../../../../docs/framework/data/adonet/sql/linq/system-timespan-methods.md).</span></span>  
  
 <span data-ttu-id="afcc4-235">В Microsoft SQL Server 2000 и SQL Server 2005 нельзя сопоставлять поля базы данных с типом <xref:System.TimeSpan>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-235">In Microsoft SQL Server 2000 and SQL Server 2005, you cannot map database fields to <xref:System.TimeSpan>.</span></span> <span data-ttu-id="afcc4-236">При этом операции с типом <xref:System.TimeSpan> поддерживаются, поскольку значения <xref:System.TimeSpan> могут возвращаться операцией вычитания <xref:System.DateTime> или входить в выражение в виде литерала или привязанной переменной.</span><span class="sxs-lookup"><span data-stu-id="afcc4-236">However, operations on <xref:System.TimeSpan> are supported because <xref:System.TimeSpan> values can be returned from <xref:System.DateTime> subtraction or introduced into an expression as a literal or bound variable.</span></span>  
  
<a name="BinaryMapping"></a>   
## <a name="binary-mapping"></a><span data-ttu-id="afcc4-237">Сопоставление двоичных объектов</span><span class="sxs-lookup"><span data-stu-id="afcc4-237">Binary Mapping</span></span>  
 <span data-ttu-id="afcc4-238">Для многих типов SQL Server возможно сопоставление с типом CLR <xref:System.Data.Linq.Binary?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-238">There are many SQL Server types that can map to the CLR type <xref:System.Data.Linq.Binary?displayProperty=nameWithType>.</span></span> <span data-ttu-id="afcc4-239">В следующей таблице показаны типы SQL Server, для которых реляционный конструктор объектов и программа SQLMetal определяют тип CLR <xref:System.Data.Linq.Binary?displayProperty=nameWithType> во время построения модели объектов или внешнего файла сопоставления, основанного на базе данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-239">The following table shows the SQL Server types that cause O/R Designer and SQLMetal to define a CLR <xref:System.Data.Linq.Binary?displayProperty=nameWithType> type when building an object model or external mapping file based on your database.</span></span>  
  
|<span data-ttu-id="afcc4-240">Тип SQL Server</span><span class="sxs-lookup"><span data-stu-id="afcc4-240">SQL Server Type</span></span>|<span data-ttu-id="afcc4-241">Тип CLR, по умолчанию используемый для сопоставления c реляционным конструктором объектов и программой SQLMetal</span><span class="sxs-lookup"><span data-stu-id="afcc4-241">Default CLR Type mapping used by O/R Designer and SQLMetal</span></span>|  
|---------------------|-----------------------------------------------------------------|  
|`BINARY(50)`|<xref:System.Data.Linq.Binary?displayProperty=nameWithType>|  
|`VARBINARY(50)`|<xref:System.Data.Linq.Binary?displayProperty=nameWithType>|  
|`VARBINARY(MAX)`|<xref:System.Data.Linq.Binary?displayProperty=nameWithType>|  
|<span data-ttu-id="afcc4-242">`VARBINARY(MAX)` с помощью `FILESTREAM` атрибут</span><span class="sxs-lookup"><span data-stu-id="afcc4-242">`VARBINARY(MAX)` with the `FILESTREAM` attribute</span></span>|<xref:System.Data.Linq.Binary?displayProperty=nameWithType>|  
|`IMAGE`|<xref:System.Data.Linq.Binary?displayProperty=nameWithType>|  
|`TIMESTAMP`|<xref:System.Data.Linq.Binary?displayProperty=nameWithType>|  
  
 <span data-ttu-id="afcc4-243">В следующей таблице показано сопоставление типов по умолчанию, используемое методом <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> для определения типов столбцов SQL, которые должны создаваться в соответствии с типами CLR, определенными в модели объектов или во внешнем файле сопоставления.</span><span class="sxs-lookup"><span data-stu-id="afcc4-243">The next table shows the default type mappings used by the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method to define which type of SQL columns are created to map to the CLR types defined in your object model or external mapping file.</span></span>  
  
|<span data-ttu-id="afcc4-244">Тип CLR</span><span class="sxs-lookup"><span data-stu-id="afcc4-244">CLR Type</span></span>|<span data-ttu-id="afcc4-245">Тип SQL Server, по умолчанию используемый методом <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="afcc4-245">Default SQL Server Type used by <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType></span></span>|  
|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|  
|<xref:System.Data.Linq.Binary?displayProperty=nameWithType>|`VARBINARY(MAX)`|  
|<xref:System.Byte?displayProperty=nameWithType>|`VARBINARY(MAX)`|  
|<xref:System.Runtime.Serialization.ISerializable?displayProperty=nameWithType>|`VARBINARY(MAX)`|  
  
 <span data-ttu-id="afcc4-246">Можно выбрать другие сопоставления двоичных объектов, но некоторые из них могут вызвать исключения переполнения или потери данных в процессе преобразования данных в базу данных или из базы данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-246">There are many other binary mappings you can choose, but some may result in overflow or data loss exceptions while translating to or from the database.</span></span> <span data-ttu-id="afcc4-247">Дополнительные сведения см. в разделе [тип сопоставления поведение таблица во время выполнения](#BehaviorMatrix).</span><span class="sxs-lookup"><span data-stu-id="afcc4-247">For more information, see the [Type Mapping Run Time Behavior Matrix](#BehaviorMatrix).</span></span>  
  
### <a name="sql-server-filestream"></a><span data-ttu-id="afcc4-248">SQL Server FILESTREAM</span><span class="sxs-lookup"><span data-stu-id="afcc4-248">SQL Server FILESTREAM</span></span>  
 <span data-ttu-id="afcc4-249">Атрибут `FILESTREAM` для столбцов `VARBINARY(MAX)` доступен, начиная с версии Microsoft SQL Server 2008. Сопоставление с этим типом в LINQ to SQL поддерживается, начиная с версии платформы .NET Framework 3.5 с пакетом обновления 1 (SP1).</span><span class="sxs-lookup"><span data-stu-id="afcc4-249">The `FILESTREAM` attribute for `VARBINARY(MAX)` columns is available starting with Microsoft SQL Server 2008; you can map to it with LINQ to SQL starting with the .NET Framework version 3.5 SP1.</span></span>  
  
 <span data-ttu-id="afcc4-250">Столбцы `VARBINARY(MAX)` с атрибутом `FILESTREAM` можно сопоставлять с объектами <xref:System.Data.Linq.Binary>, но метод <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> не может автоматически создавать столбцы с атрибутом `FILESTREAM`.</span><span class="sxs-lookup"><span data-stu-id="afcc4-250">Although you can map `VARBINARY(MAX)` columns with the `FILESTREAM` attribute to <xref:System.Data.Linq.Binary> objects, the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method is unable to automatically create columns with the `FILESTREAM` attribute.</span></span> <span data-ttu-id="afcc4-251">Дополнительные сведения о `FILESTREAM`, см. в разделе [Общие сведения о FILESTREAM](https://go.microsoft.com/fwlink/?LinkId=115291) на Microsoft SQL Server Books Online.</span><span class="sxs-lookup"><span data-stu-id="afcc4-251">For more information about `FILESTREAM`, see [FILESTREAM Overview](https://go.microsoft.com/fwlink/?LinkId=115291) on Microsoft SQL Server Books Online.</span></span>  
  
<a name="BinarySerialization"></a>   
### <a name="binary-serialization"></a><span data-ttu-id="afcc4-252">Двоичная сериализация</span><span class="sxs-lookup"><span data-stu-id="afcc4-252">Binary Serialization</span></span>  
 <span data-ttu-id="afcc4-253">Если в классе реализован интерфейс <xref:System.Runtime.Serialization.ISerializable>, объект этого класса можно сериализовать в любое двоичное поле SQL (`BINARY`, `VARBINARY`, `IMAGE`).</span><span class="sxs-lookup"><span data-stu-id="afcc4-253">If a class implements the <xref:System.Runtime.Serialization.ISerializable> interface, you can serialize an object to any SQL binary field (`BINARY`, `VARBINARY`, `IMAGE`).</span></span> <span data-ttu-id="afcc4-254">Сериализация и десериализация объекта выполняется в соответствии с реализацией интерфейса <xref:System.Runtime.Serialization.ISerializable>.</span><span class="sxs-lookup"><span data-stu-id="afcc4-254">The object is serialized and deserialized according to how the <xref:System.Runtime.Serialization.ISerializable> interface is implemented.</span></span> <span data-ttu-id="afcc4-255">Дополнительные сведения см. в разделе [двоичной сериализации](https://go.microsoft.com/fwlink/?LinkId=115581).</span><span class="sxs-lookup"><span data-stu-id="afcc4-255">For more information, see [Binary Serialization](https://go.microsoft.com/fwlink/?LinkId=115581).</span></span>  
  
<a name="MiscMapping"></a>   
## <a name="miscellaneous-mapping"></a><span data-ttu-id="afcc4-256">Прочие виды сопоставления</span><span class="sxs-lookup"><span data-stu-id="afcc4-256">Miscellaneous Mapping</span></span>  
 <span data-ttu-id="afcc4-257">В следующей таблице показаны сопоставления по умолчанию для некоторых типов, не упомянутых ранее.</span><span class="sxs-lookup"><span data-stu-id="afcc4-257">The following table shows the default type mappings for some miscellaneous types that have not yet been mentioned.</span></span> <span data-ttu-id="afcc4-258">В следующей таблице показаны типы CLR, которые выбираются реляционным конструктором объектов и программой SQLMetal при создании сопоставления модели объектов или внешнего файла сопоставления, основанного на базе данных.</span><span class="sxs-lookup"><span data-stu-id="afcc4-258">The following table shows the CLR types that O/R Designer and SQLMetal select when building an object model or external mapping file based on your database.</span></span>  
  
|<span data-ttu-id="afcc4-259">Тип SQL Server</span><span class="sxs-lookup"><span data-stu-id="afcc4-259">SQL Server Type</span></span>|<span data-ttu-id="afcc4-260">Тип CLR, по умолчанию используемый для сопоставления c реляционным конструктором объектов и программой SQLMetal</span><span class="sxs-lookup"><span data-stu-id="afcc4-260">Default CLR Type mapping used by O/R Designer and SQLMetal</span></span>|  
|---------------------|-----------------------------------------------------------------|  
|`UNIQUEIDENTIFIER`|<xref:System.Guid?displayProperty=nameWithType>|  
|`SQL_VARIANT`|<xref:System.Object?displayProperty=nameWithType>|  
  
 <span data-ttu-id="afcc4-261">В следующей таблице показано сопоставление типов по умолчанию, используемое методом <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> для определения типов столбцов SQL, которые должны создаваться в соответствии с типами CLR, определенными в модели объектов или во внешнем файле сопоставления.</span><span class="sxs-lookup"><span data-stu-id="afcc4-261">The next table shows the default type mappings used by the <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType> method to define which type of SQL columns are created to map to the CLR types defined in your object model or external mapping file.</span></span>  
  
|<span data-ttu-id="afcc4-262">Тип CLR</span><span class="sxs-lookup"><span data-stu-id="afcc4-262">CLR Type</span></span>|<span data-ttu-id="afcc4-263">Тип SQL Server, по умолчанию используемый методом <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType></span><span class="sxs-lookup"><span data-stu-id="afcc4-263">Default SQL Server Type used by <xref:System.Data.Linq.DataContext.CreateDatabase%2A?displayProperty=nameWithType></span></span>|  
|--------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|  
|<xref:System.Guid?displayProperty=nameWithType>|`UNIQUEIDENTIFIER`|  
|<xref:System.Object?displayProperty=nameWithType>|`SQL_VARIANT`|  
  
 <span data-ttu-id="afcc4-264">LINQ to SQL не поддерживает для этих типов никаких других сопоставлений.</span><span class="sxs-lookup"><span data-stu-id="afcc4-264">LINQ to SQL does not support any other type mappings for these miscellaneous types.</span></span>  <span data-ttu-id="afcc4-265">Дополнительные сведения см. в разделе [тип сопоставления поведение таблица во время выполнения](#BehaviorMatrix).</span><span class="sxs-lookup"><span data-stu-id="afcc4-265">For more information, see the [Type Mapping Run Time Behavior Matrix](#BehaviorMatrix).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="afcc4-266">См. также</span><span class="sxs-lookup"><span data-stu-id="afcc4-266">See Also</span></span>  
 [<span data-ttu-id="afcc4-267">Сопоставление, основанное на атрибутах</span><span class="sxs-lookup"><span data-stu-id="afcc4-267">Attribute-Based Mapping</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/attribute-based-mapping.md)  
 [<span data-ttu-id="afcc4-268">Внешнее сопоставление</span><span class="sxs-lookup"><span data-stu-id="afcc4-268">External Mapping</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/external-mapping.md)  
 [<span data-ttu-id="afcc4-269">Типы данных и функции</span><span class="sxs-lookup"><span data-stu-id="afcc4-269">Data Types and Functions</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/data-types-and-functions.md)  
 [<span data-ttu-id="afcc4-270">Несоответствия типов SQL-CLR</span><span class="sxs-lookup"><span data-stu-id="afcc4-270">SQL-CLR Type Mismatches</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/sql-clr-type-mismatches.md)
