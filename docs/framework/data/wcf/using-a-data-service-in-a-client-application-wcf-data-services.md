---
title: Использование служб данных в клиентском приложении (службы данных WCF)
ms.date: 03/30/2017
helpviewer_keywords:
- WCF Data Services, client library
- WCF Data Services, getting started
ms.assetid: 90872d0c-e989-4490-b3e9-54afb10d33d4
ms.openlocfilehash: 092f073a138a09fc25b96fbddde5b73992056981
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/05/2018
ms.locfileid: "43732252"
---
# <a name="using-a-data-service-in-a-client-application-wcf-data-services"></a><span data-ttu-id="3ddc5-102">Использование служб данных в клиентском приложении (службы данных WCF)</span><span class="sxs-lookup"><span data-stu-id="3ddc5-102">Using a Data Service in a Client Application (WCF Data Services)</span></span>
<span data-ttu-id="3ddc5-103">Можно получить доступ к службе, предоставляющей [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] веб-канала, указав URI в веб-браузер.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-103">You can access a service that exposes an [!INCLUDE[ssODataFull](../../../../includes/ssodatafull-md.md)] feed by supplying a URI to a Web browser.</span></span> <span data-ttu-id="3ddc5-104">URI предоставляет адрес ресурса, и сообщения запроса отправляются по этим адресам для доступа или изменения базовых данных, представляемых ресурсом.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-104">The URI provides the address of a resource, and request messages are sent to these addresses to access or change the underlying data that the resource represents.</span></span> <span data-ttu-id="3ddc5-105">Браузер формирует команду HTTP GET и возвращает запрошенный ресурс в виде канала [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3ddc5-105">The browser issues an HTTP GET command and returns the requested resource as an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed.</span></span> <span data-ttu-id="3ddc5-106">Дополнительные сведения см. в разделе [доступа к службе из веб-браузер](../../../../docs/framework/data/wcf/accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).</span><span class="sxs-lookup"><span data-stu-id="3ddc5-106">For more information, see [Accessing the Service from a Web Browser](../../../../docs/framework/data/wcf/accessing-the-service-from-a-web-browser-wcf-data-services-quickstart.md).</span></span>  
  
 <span data-ttu-id="3ddc5-107">Хотя веб-браузер может быть полезен для проверки того, что служба [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] возвращает ожидаемые данные, доступ к производственным службам [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)], позволяющим создавать, обновлять и удалять данные, обычно осуществляется из кода приложения или языков создания скриптов на веб-странице.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-107">Although a Web browser may be useful for testing that an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] service returns the expected data, production [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] services that enable you to also create, update, and delete data are generally accessed by application code or scripting languages in a Web page.</span></span> <span data-ttu-id="3ddc5-108">В этом разделе представлен обзор того, как получить доступ к [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] веб-каналов из клиентского приложения.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-108">This topic provides an overview of how to access [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feeds from a client application.</span></span>  
  
## <a name="accessing-and-changing-data-using-rest-semantics"></a><span data-ttu-id="3ddc5-109">Доступ и изменение данных с помощью семантики REST</span><span class="sxs-lookup"><span data-stu-id="3ddc5-109">Accessing and Changing Data Using REST Semantics</span></span>  
 [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="3ddc5-110"> помогает осуществить взаимодействие между службами, которые предоставляют [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] веб-каналы и приложения, обрабатывающие [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] веб-каналов.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-110"> helps guarantee interoperability between services that expose [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feeds and applications that consume [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feeds.</span></span> <span data-ttu-id="3ddc5-111">Приложения обращаются и изменяют данные в [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]-службу на основе, отправляя сообщения запросов конкретного действия HTTP вместе с URI, Адресующим ресурс сущности, над которой должно быть выполнено действие.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-111">Applications access and change data in an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]-based service by sending request messages of a specific HTTP action and with a URI that addresses an entity resource against which the action should be performed.</span></span> <span data-ttu-id="3ddc5-112">Если необходимо передать данные сущности, они передаются в специально закодированных полезных данных в тексте сообщения.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-112">When entity data must be supplied, it is supplied as a specifically encoded payload in the body of the message.</span></span>  
  
### <a name="http-actions"></a><span data-ttu-id="3ddc5-113">Действия HTTP</span><span class="sxs-lookup"><span data-stu-id="3ddc5-113">HTTP Actions</span></span>  
 <span data-ttu-id="3ddc5-114">Службы [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] поддерживают следующие действия HTTP для создания, чтения, обновления и удаления данных сущностей, представленных адресуемыми ресурсами.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-114">[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] supports the following HTTP actions to perform create, read, update, and delete operations on the entity data that the addressed resource represents:</span></span>  
  
-   <span data-ttu-id="3ddc5-115">**HTTP GET** -это действие по умолчанию при доступе к ресурсу из браузера.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-115">**HTTP GET** - This is the default action when a resource is accessed from a browser.</span></span> <span data-ttu-id="3ddc5-116">Сообщение запроса не содержит полезных данных, а возвращается метод ответа с полезными данными, содержащими запрошенные данные.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-116">No payload is supplied in the request message, and a response method with a payload that contains the requested data is returned.</span></span>  
  
-   <span data-ttu-id="3ddc5-117">**HTTP POST** -вставляет данные новой сущности в переданный ресурс.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-117">**HTTP POST** - Inserts new entity data into the supplied resource.</span></span> <span data-ttu-id="3ddc5-118">Вставляемые данные передаются в виде полезных данных сообщения запроса.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-118">Data to be inserted is supplied in the payload of the request message.</span></span> <span data-ttu-id="3ddc5-119">Полезные данные ответного сообщения содержат данные созданной сущности.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-119">The payload of the response message contains the data for the newly created entity.</span></span> <span data-ttu-id="3ddc5-120">К ним относятся все ключевые значения, формируемые автоматически.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-120">This includes any autogenerated key values.</span></span> <span data-ttu-id="3ddc5-121">Заголовок содержит также URI, адресующий ресурс новой сущности.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-121">The header also contains the URI that addresses the new entity resource.</span></span>  
  
-   <span data-ttu-id="3ddc5-122">**HTTP DELETE** -удаляет данные сущности, представленной указанным ресурсом.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-122">**HTTP DELETE** - Deletes the entity data that the specified resource represents.</span></span> <span data-ttu-id="3ddc5-123">Полезные данные в сообщениях запроса и ответа отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-123">A payload is not present in the request or response messages.</span></span>  
  
-   <span data-ttu-id="3ddc5-124">**HTTP PUT** — заменяет имеющиеся данные сущности в запрошенном ресурсе новыми данными, передаваемыми в полезных данных сообщения запроса.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-124">**HTTP PUT** - Replaces existing entity data at the requested resource with new data that is supplied in the payload of the request message.</span></span>  
  
-   <span data-ttu-id="3ddc5-125">**HTTP MERGE** — в выполнения удаления, а затем вставки в источнике данных только для изменения данных сущности, связи с неэффективностью [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] представляют новое действие HTTP MERGE.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-125">**HTTP MERGE** - Because of inefficiencies in executing a delete followed by an insert in the data source just to change entity data, [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] introduces a new HTTP MERGE action.</span></span> <span data-ttu-id="3ddc5-126">Полезные данные сообщения запроса содержат свойства, которые необходимо изменить в адресуемом ресурсе сущности.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-126">The payload of the request message contains the properties that must be changed on the addressed entity resource.</span></span> <span data-ttu-id="3ddc5-127">Поскольку метод HTTP MERGE не определен в спецификации HTTP, ему может потребоваться дополнительная обработка для отправки запроса HTTP MERGE через серверы, не поддерживающие службы [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3ddc5-127">Because HTTP MERGE is not defined in the HTTP specification, it may require additional processing to route a HTTP MERGE request through non-[!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] aware servers.</span></span>  
  
 <span data-ttu-id="3ddc5-128">Дополнительные сведения см. в разделе [OData: операции](https://go.microsoft.com/fwlink/?LinkId=185792).</span><span class="sxs-lookup"><span data-stu-id="3ddc5-128">For more information, see [OData: Operations](https://go.microsoft.com/fwlink/?LinkId=185792).</span></span>  
  
### <a name="payload-formats"></a><span data-ttu-id="3ddc5-129">Форматы представления информации</span><span class="sxs-lookup"><span data-stu-id="3ddc5-129">Payload Formats</span></span>  
 <span data-ttu-id="3ddc5-130">Для запросов HTTP PUT, HTTP POST или HTTP MERGE полезные данные сообщения запроса содержат данные сущности, отправляемые службе данных.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-130">For an HTTP PUT, HTTP POST, or HTTP MERGE request, the payload of a request message contains the entity data that you send to the data service.</span></span> <span data-ttu-id="3ddc5-131">Содержимое полезных данных зависит от формата данных сообщения.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-131">The contents of the payload depend on the data format of the message.</span></span> <span data-ttu-id="3ddc5-132">Ответы HTTP на все действия, кроме DELETE, также содержат полезные данные.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-132">The HTTP responses to all actions except DELETE also contain such a payload.</span></span> [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)]<span data-ttu-id="3ddc5-133"> поддерживает следующие форматы полезных данных для доступа и изменения данных в службе:</span><span class="sxs-lookup"><span data-stu-id="3ddc5-133"> supports the following payload formats for accessing and changing data with the service:</span></span>  
  
-   <span data-ttu-id="3ddc5-134">**Atom** — Кодировка сообщений на основе XML, определяемые [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] как расширение протокола публикации Atom (AtomPub) для обмена данными по протоколу HTTP для веб-каналов, подкастов, вики и функций Интернета на основе XML.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-134">**Atom** - An XML-based message encoding that is defined by [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] as an extension to the Atom Publishing Protocol (AtomPub) to enable data exchange over HTTP for Web feeds, podcasts, wikis, and XML-based Internet functionality.</span></span> <span data-ttu-id="3ddc5-135">Дополнительные сведения см. в разделе [OData: формат Atom](https://go.microsoft.com/fwlink/?LinkId=185794).</span><span class="sxs-lookup"><span data-stu-id="3ddc5-135">For more information, see [OData: Atom Format](https://go.microsoft.com/fwlink/?LinkId=185794).</span></span>  
  
-   <span data-ttu-id="3ddc5-136">**JSON** -JavaScript Object Notation (JSON) — это формат обмена небольшого количества данных, который основан на подмножестве языка JavaScript.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-136">**JSON** - JavaScript Object Notation (JSON) is a lightweight data interchange format that is based on a subset of the JavaScript Programming Language.</span></span> <span data-ttu-id="3ddc5-137">Дополнительные сведения см. в разделе [OData: формат JSON](https://go.microsoft.com/fwlink/?LinkId=185795).</span><span class="sxs-lookup"><span data-stu-id="3ddc5-137">For more information, see [OData: JSON Format](https://go.microsoft.com/fwlink/?LinkId=185795).</span></span>  
  
 <span data-ttu-id="3ddc5-138">Формат сообщения полезных данных запрашивается в заголовке HTTP-запроса.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-138">The message format of the payload is requested in the header of the HTTP request message.</span></span> <span data-ttu-id="3ddc5-139">Дополнительные сведения см. в разделе [OData: операции](https://go.microsoft.com/fwlink/?LinkID=185792).</span><span class="sxs-lookup"><span data-stu-id="3ddc5-139">For more information, see [OData: Operations](https://go.microsoft.com/fwlink/?LinkID=185792).</span></span>  
  
## <a name="accessing-and-changing-data-using-client-libraries"></a><span data-ttu-id="3ddc5-140">Доступ и изменения данных с помощью клиентских библиотек</span><span class="sxs-lookup"><span data-stu-id="3ddc5-140">Accessing and Changing Data Using Client Libraries</span></span>  
 [!INCLUDE[ssAstoria](../../../../includes/ssastoria-md.md)]<span data-ttu-id="3ddc5-141"> включает в себя клиентские библиотеки, которые позволяют упростить использование [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] веб-канал из .NET Framework и приложений клиента на основе Silverlight.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-141"> includes client libraries that enable you to more easily consume an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed from .NET Framework and Silverlight-based client applications.</span></span> <span data-ttu-id="3ddc5-142">Эти библиотеки упрощают отправку и получение сообщений HTTP.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-142">These libraries simplify sending and receiving HTTP messages.</span></span> <span data-ttu-id="3ddc5-143">Кроме того, они преобразуют полезные данные сообщений в объекты CLR, представляющие данные сущностей.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-143">They also translate the message payload into CLR objects that represent entity data.</span></span> <span data-ttu-id="3ddc5-144">Клиентские библиотеки содержат два базовых класса: <xref:System.Data.Services.Client.DataServiceContext> и <xref:System.Data.Services.Client.DataServiceQuery%601>.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-144">The client libraries feature the two core classes <xref:System.Data.Services.Client.DataServiceContext> and <xref:System.Data.Services.Client.DataServiceQuery%601>.</span></span> <span data-ttu-id="3ddc5-145">Эти классы позволяют отправлять запросы к службе данных и работать с возвращенными данными сущностей как с объектами CLR.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-145">These classes enable you to query a data service and then work with the returned entity data as CLR objects.</span></span> <span data-ttu-id="3ddc5-146">Дополнительные сведения см. в разделе [клиентскую библиотеку WCF Data Services](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md) и [WCF Data Services (Silverlight)](https://msdn.microsoft.com/library/c0cd9f4b-1372-48e4-9935-c8421239da30).</span><span class="sxs-lookup"><span data-stu-id="3ddc5-146">For more information, see [WCF Data Services Client Library](../../../../docs/framework/data/wcf/wcf-data-services-client-library.md) and [WCF Data Services (Silverlight)](https://msdn.microsoft.com/library/c0cd9f4b-1372-48e4-9935-c8421239da30).</span></span>  
  
 <span data-ttu-id="3ddc5-147">Можно использовать **Add Service Reference** диалоговое окно в Visual Studio для добавления ссылки на службу данных.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-147">You can use the **Add Service Reference** dialog in Visual Studio to add a reference to a data service.</span></span> <span data-ttu-id="3ddc5-148">Эта программа запрашивает метаданные службы у упомянутой службы данных и формирует контекст <xref:System.Data.Services.Client.DataServiceContext>, который представляет службу данных, а также клиентские классы службы данных, которые представляют сущности.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-148">This tool requests the service metadata from a referenced data service and generates the <xref:System.Data.Services.Client.DataServiceContext> that represents a data service, as well as generates the client data service classes that represent entities.</span></span> <span data-ttu-id="3ddc5-149">Дополнительные сведения см. в разделе [Создание клиентской библиотеки службы данных](../../../../docs/framework/data/wcf/generating-the-data-service-client-library-wcf-data-services.md).</span><span class="sxs-lookup"><span data-stu-id="3ddc5-149">For more information, see [Generating the Data Service Client Library](../../../../docs/framework/data/wcf/generating-the-data-service-client-library-wcf-data-services.md).</span></span>  
  
 <span data-ttu-id="3ddc5-150">Существуют программные библиотеки, которое можно использовать для использования [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] веб-канала в другие виды клиентских приложений.</span><span class="sxs-lookup"><span data-stu-id="3ddc5-150">There are programming libraries available that you can use to consume an [!INCLUDE[ssODataShort](../../../../includes/ssodatashort-md.md)] feed in other kinds of client applications.</span></span> <span data-ttu-id="3ddc5-151">Дополнительные сведения см. в разделе [OData SDK](https://go.microsoft.com/fwlink/?LinkId=185796).</span><span class="sxs-lookup"><span data-stu-id="3ddc5-151">For more information, see the [OData SDK](https://go.microsoft.com/fwlink/?LinkId=185796).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3ddc5-152">См. также</span><span class="sxs-lookup"><span data-stu-id="3ddc5-152">See Also</span></span>  
 [<span data-ttu-id="3ddc5-153">Доступ к ресурсам служб данных</span><span class="sxs-lookup"><span data-stu-id="3ddc5-153">Accessing Data Service Resources</span></span>](../../../../docs/framework/data/wcf/accessing-data-service-resources-wcf-data-services.md)  
 [<span data-ttu-id="3ddc5-154">Краткое руководство</span><span class="sxs-lookup"><span data-stu-id="3ddc5-154">Quickstart</span></span>](../../../../docs/framework/data/wcf/quickstart-wcf-data-services.md)
