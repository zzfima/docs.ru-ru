---
title: Общие сведения о безопасности транспорта
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 00959326-aa9d-44d0-af61-54933d4adc7f
author: BrucePerlerMS
manager: mbaldwin
ms.openlocfilehash: 9a04b8aaf9c6263a8935099963aaa1dc8d9100fd
ms.sourcegitcommit: 6eac9a01ff5d70c6d18460324c016a3612c5e268
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/16/2018
ms.locfileid: "45664674"
---
# <a name="transport-security-overview"></a><span data-ttu-id="9a6b7-102">Общие сведения о безопасности транспорта</span><span class="sxs-lookup"><span data-stu-id="9a6b7-102">Transport Security Overview</span></span>
<span data-ttu-id="9a6b7-103">Механизмы обеспечения безопасности транспорта в Windows Communication Foundation (WCF) зависят от привязки и используемого транспорта.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-103">Transport security mechanisms in Windows Communication Foundation (WCF) depend on the binding and transport being used.</span></span> <span data-ttu-id="9a6b7-104">Например, при использовании класса <xref:System.ServiceModel.WSHttpBinding> транспортом является протокол HTTP и в качестве основного механизма защиты транспорта применяется протокол SSL через HTTP, обычно называемый HTTPS.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-104">For example, when using the <xref:System.ServiceModel.WSHttpBinding> class, the transport is HTTP, and the primary mechanism for securing the transport is Secure Sockets Layer (SSL) over HTTP, commonly called HTTPS.</span></span> <span data-ttu-id="9a6b7-105">В этом разделе рассматриваются основные транспорта механизмы безопасности, используемые в привязках, предоставляемых системой WCF.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-105">This topic discusses the major transport security mechanisms used in the WCF system-provided bindings.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9a6b7-106">При использовании безопасности SSL с .NET Framework 3.5 и более поздних версиях клиент WCF использует промежуточные сертификаты в своем хранилище сертификатов, и промежуточные сертификаты, полученные в процессе согласования SSL для проверки цепочки сертификатов для службы сертификат.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-106">When SSL security is used with .NET Framework 3.5 and later an WCF client uses both the intermediate certificates in its certificate store and the intermediate certificates received during SSL negotiation to perform certificate chain validation on the service's certificate.</span></span> <span data-ttu-id="9a6b7-107">Платформа .NET Framework 3.0 использует только промежуточные сертификаты, установленные в локальном хранилище сертификатов.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-107">.NET Framework 3.0 only uses the intermediate certificates installed in the local certificate store.</span></span>  
  
> [!WARNING]
>  <span data-ttu-id="9a6b7-108">Если используется безопасность транспорта, <!--zz <xref:System.Treading.Thread.CurrentPrincipal%2A> --> `CurrentPrincipal` свойства могут быть перезаписаны.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-108">When transport security is used, the <!--zz <xref:System.Treading.Thread.CurrentPrincipal%2A> --> `CurrentPrincipal` property may be overwritten.</span></span> <span data-ttu-id="9a6b7-109">Чтобы избежать этого, присвойте свойству <!--zz <xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.PrincipalPermission%2A> --> `PrincipalPermission` значение None.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-109">To prevent this from happening set the <!--zz <xref:System.ServiceModel.Description.ServiceAuthorizationBehavior.PrincipalPermission%2A> --> `PrincipalPermission` to None.</span></span> <span data-ttu-id="9a6b7-110"><xref:System.ServiceModel.Description.ServiceAuthorizationBehavior> - это поведение службы, которое можно задать в описании службы.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-110"><xref:System.ServiceModel.Description.ServiceAuthorizationBehavior> is a service behavior that can be set on the service description.</span></span>  
  
## <a name="basichttpbinding"></a><span data-ttu-id="9a6b7-111">BasicHttpBinding</span><span class="sxs-lookup"><span data-stu-id="9a6b7-111">BasicHttpBinding</span></span>  
 <span data-ttu-id="9a6b7-112">По умолчанию класс <xref:System.ServiceModel.BasicHttpBinding> не обеспечивает безопасность.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-112">By default, the <xref:System.ServiceModel.BasicHttpBinding> class does not provide security.</span></span> <span data-ttu-id="9a6b7-113">Эта привязка предназначена для взаимодействия с поставщиками веб-служб, которые не реализуют средства обеспечения безопасности.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-113">This binding is designed for interoperability with Web service providers that do not implement security.</span></span> <span data-ttu-id="9a6b7-114">Однако режим безопасности можно включить, присвоив свойству <xref:System.ServiceModel.BasicHttpSecurity.Mode%2A> любое значение, кроме <xref:System.ServiceModel.BasicHttpSecurityMode.None>.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-114">However, you can switch on security by setting the <xref:System.ServiceModel.BasicHttpSecurity.Mode%2A> property to any value except <xref:System.ServiceModel.BasicHttpSecurityMode.None>.</span></span> <span data-ttu-id="9a6b7-115">Чтобы включить режим безопасности транспорта, присвойте этому свойству значение <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-115">To enable transport security, set the property to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport>.</span></span>  
  
### <a name="interoperation-with-iis"></a><span data-ttu-id="9a6b7-116">Взаимодействие с IIS</span><span class="sxs-lookup"><span data-stu-id="9a6b7-116">Interoperation with IIS</span></span>  
 <span data-ttu-id="9a6b7-117">Класс <xref:System.ServiceModel.BasicHttpBinding> используется в основном для взаимодействия с существующими веб-службами, многие из которых размещаются в службах IIS.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-117">The <xref:System.ServiceModel.BasicHttpBinding> class is primarily used to interoperate with existing Web services, and many of those services are hosted by Internet Information Services (IIS).</span></span> <span data-ttu-id="9a6b7-118">Поэтому безопасность транспорта для этой привязки предназначена для беспрепятственного взаимодействия с узлами IIS.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-118">Consequently, the transport security for this binding is designed for seamless interoperation with IIS sites.</span></span> <span data-ttu-id="9a6b7-119">Она обеспечивается посредством установки для режима безопасности значения <xref:System.ServiceModel.BasicHttpSecurityMode.Transport> и последующего задания типа учетных данных клиента.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-119">This is done by setting the security mode to <xref:System.ServiceModel.BasicHttpSecurityMode.Transport> and then setting the client credential type.</span></span> <span data-ttu-id="9a6b7-120">Значения типа учетных данных соответствуют механизмам безопасности каталогов IIS.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-120">The credential type values correspond to IIS directory security mechanisms.</span></span> <span data-ttu-id="9a6b7-121">В следующем коде показаны установка режима и задание в качестве типа учетных данных типа Windows.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-121">The following code shows the mode being set and the credential type set to Windows.</span></span> <span data-ttu-id="9a6b7-122">Эту конфигурацию можно использовать, когда клиент и сервер находятся в одном домене Windows.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-122">You can use this configuration when both client and server are on the same Windows domain.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#10](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#10)] 
 [!code-vb[c_ProgrammingSecurity#10](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#10)]  
  
 <span data-ttu-id="9a6b7-123">Или в виде конфигурации:</span><span class="sxs-lookup"><span data-stu-id="9a6b7-123">Or, in configuration:</span></span>  
  
```xml  
<bindings>  
  <basicHttpBinding>  
    <binding name="SecurityByTransport">  
      <security mode="Transport">  
        <transport clientCredentialType="Windows" />  
       </security>  
     </binding>  
  </basicHttpBinding>  
</bindings>  
```  
  
 <span data-ttu-id="9a6b7-124">В следующих разделах рассматриваются другие типы учетных данных клиентов.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-124">The following sections discuss other client credential types.</span></span>  
  
#### <a name="basic"></a><span data-ttu-id="9a6b7-125">Basic</span><span class="sxs-lookup"><span data-stu-id="9a6b7-125">Basic</span></span>  
 <span data-ttu-id="9a6b7-126">Соответствует методу обычной проверки подлинности в IIS.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-126">This corresponds to the Basic authentication method in IIS.</span></span> <span data-ttu-id="9a6b7-127">При использовании этого режима на сервере IIS должны быть настроены учетные записи пользователей Windows и соответствующие разрешения файловой системы NTFS.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-127">When using this mode, the IIS server must be configured with Windows user accounts and appropriate NTFS file system permissions.</span></span> <span data-ttu-id="9a6b7-128">Дополнительные сведения о [!INCLUDE[iis601](../../../../includes/iis601-md.md)], см. в разделе [Включение обычной проверки подлинности и настройка имени области](https://go.microsoft.com/fwlink/?LinkId=88592).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-128">For more information about [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Enabling Basic Authentication and Configuring the Realm Name](https://go.microsoft.com/fwlink/?LinkId=88592).</span></span> <span data-ttu-id="9a6b7-129">Дополнительные сведения о [!INCLUDE[iisver](../../../../includes/iisver-md.md)], см. в разделе [бета-версия IIS 7.0: Настройка обычной проверки подлинности](https://go.microsoft.com/fwlink/?LinkId=88593).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-129">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configure Basic Authentication](https://go.microsoft.com/fwlink/?LinkId=88593).</span></span>  
  
#### <a name="certificate"></a><span data-ttu-id="9a6b7-130">Сертификат</span><span class="sxs-lookup"><span data-stu-id="9a6b7-130">Certificate</span></span>  
 <span data-ttu-id="9a6b7-131">В IIS предусмотрена функция, требующая, чтобы клиенты входили в систему с использованием сертификата.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-131">IIS has an option to require clients to log on with a certificate.</span></span> <span data-ttu-id="9a6b7-132">Эта возможность также позволяет IIS сопоставить сертификат клиента с учетной записью Windows.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-132">The feature also enables IIS to map a client certificate to a Windows account.</span></span> <span data-ttu-id="9a6b7-133">Дополнительные сведения о [!INCLUDE[iis601](../../../../includes/iis601-md.md)], см. в разделе [включение сертификатов клиентов в IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88594).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-133">For more information about [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Enabling Client Certificates in IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88594).</span></span> <span data-ttu-id="9a6b7-134">Дополнительные сведения о [!INCLUDE[iisver](../../../../includes/iisver-md.md)], см. в разделе [бета-версия IIS 7.0: Настройка сертификатов сервера в IIS 7.0](https://go.microsoft.com/fwlink/?LinkId=88595).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-134">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkId=88595).</span></span>  
  
#### <a name="digest"></a><span data-ttu-id="9a6b7-135">Digest</span><span class="sxs-lookup"><span data-stu-id="9a6b7-135">Digest</span></span>  
 <span data-ttu-id="9a6b7-136">Дайджест-проверка подлинности подобна обычной проверке подлинности, но имеет преимущество, заключающееся в передаче учетных данных в виде хэша, а не открытого текста.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-136">Digest authentication is similar to Basic authentication, but offers the advantage of sending the credentials as a hash, instead of in clear text.</span></span> <span data-ttu-id="9a6b7-137">Дополнительные сведения о [!INCLUDE[iis601](../../../../includes/iis601-md.md)], см. в разделе [дайджест-проверка подлинности в IIS 6.0](https://go.microsoft.com/fwlink/?LinkID=88443).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-137">For more information about [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Digest Authentication in IIS 6.0](https://go.microsoft.com/fwlink/?LinkID=88443).</span></span> <span data-ttu-id="9a6b7-138">Дополнительные сведения о [!INCLUDE[iisver](../../../../includes/iisver-md.md)], см. в разделе [бета-версия IIS 7.0: Настройка дайджест-проверка подлинности](https://go.microsoft.com/fwlink/?LinkId=88596).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-138">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configure Digest Authentication](https://go.microsoft.com/fwlink/?LinkId=88596).</span></span>  
  
#### <a name="windows"></a><span data-ttu-id="9a6b7-139">Windows</span><span class="sxs-lookup"><span data-stu-id="9a6b7-139">Windows</span></span>  
 <span data-ttu-id="9a6b7-140">Соответствует встроенной проверке подлинности Windows в IIS.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-140">This corresponds to integrated Windows authentication in IIS.</span></span> <span data-ttu-id="9a6b7-141">При задании этого значения также предполагается, что сервер находится в домене Windows, в котором для взаимодействия с контроллером домена используется протокол Kerberos.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-141">When set to this value, the server is also expected to exist on a Windows domain that uses the Kerberos protocol as its domain controller.</span></span> <span data-ttu-id="9a6b7-142">Если сервер не находится в домене с поддержкой Kerberos или происходит сбой системы Kerberos, можно использовать значение NTLM, описанное в следующем разделе.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-142">If the server is not on a Kerberos-backed domain, or if the Kerberos system fails, you can use the NT LAN Manager (NTLM) value described in the next section.</span></span> <span data-ttu-id="9a6b7-143">Дополнительные сведения о [!INCLUDE[iis601](../../../../includes/iis601-md.md)], см. в разделе [встроенная проверка подлинности Windows в IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88597).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-143">For more information about [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Integrated Windows Authentication in IIS 6.0](https://go.microsoft.com/fwlink/?LinkId=88597).</span></span> <span data-ttu-id="9a6b7-144">Дополнительные сведения о [!INCLUDE[iisver](../../../../includes/iisver-md.md)], см. в разделе [бета-версия IIS 7.0: Настройка сертификатов сервера в IIS 7.0](https://go.microsoft.com/fwlink/?LinkId=88595).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-144">For more information about [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkId=88595).</span></span>  
  
#### <a name="ntlm"></a><span data-ttu-id="9a6b7-145">NTLM</span><span class="sxs-lookup"><span data-stu-id="9a6b7-145">NTLM</span></span>  
 <span data-ttu-id="9a6b7-146">Это позволяет серверу использовать NTLM для проверки подлинности в случае сбоя протокола Kerberos.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-146">This enables the server to use NTLM for authentication if the Kerberos protocol fails.</span></span> <span data-ttu-id="9a6b7-147">Дополнительные сведения о настройке IIS в [!INCLUDE[iis601](../../../../includes/iis601-md.md)], см. в разделе [Принудительная проверка подлинности NTLM](https://go.microsoft.com/fwlink/?LinkId=88598).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-147">For more information about configuring IIS in [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Forcing NTLM Authentication](https://go.microsoft.com/fwlink/?LinkId=88598).</span></span> <span data-ttu-id="9a6b7-148">Для [!INCLUDE[iisver](../../../../includes/iisver-md.md)] проверка подлинности Windows включает проверку подлинности NTLM.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-148">For [!INCLUDE[iisver](../../../../includes/iisver-md.md)], the Windows authentication includes NTLM authentication.</span></span> <span data-ttu-id="9a6b7-149">Дополнительные сведения см. в разделе [бета-версия IIS 7.0: Настройка сертификатов сервера в IIS 7.0](https://go.microsoft.com/fwlink/?LinkID=88595).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-149">For more information, see [IIS 7.0 Beta: Configuring Server Certificates in IIS 7.0](https://go.microsoft.com/fwlink/?LinkID=88595).</span></span>  
  
## <a name="wshttpbinding"></a><span data-ttu-id="9a6b7-150">WsHttpBinding</span><span class="sxs-lookup"><span data-stu-id="9a6b7-150">WsHttpBinding</span></span>  
 <span data-ttu-id="9a6b7-151">Класс <xref:System.ServiceModel.WSHttpBinding> предназначен для взаимодействия со службами, реализующими спецификации WS-\*.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-151">The <xref:System.ServiceModel.WSHttpBinding> class is designed for interoperation with services that implement WS-\* specifications.</span></span> <span data-ttu-id="9a6b7-152">Безопасность транспорта для этой привязки обеспечивается посредством протокола SSL по протоколам HTTP или HTTPS.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-152">The transport security for this binding is Secure Sockets Layer (SSL) over HTTP, or HTTPS.</span></span> <span data-ttu-id="9a6b7-153">Чтобы создать приложение WCF, использующее SSL, используйте IIS для размещения приложения.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-153">To create an WCF application that uses SSL, use IIS to host the application.</span></span> <span data-ttu-id="9a6b7-154">В случае создания резидентного приложения используйте средство HttpCfg.exe для привязки сертификата X.509 к конкретному порту на компьютере.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-154">Alternatively, if you are creating a self-hosted application, use the HttpCfg.exe tool to bind an X.509 certificate to a specific port on a computer.</span></span> <span data-ttu-id="9a6b7-155">Номер порта указывается как часть приложения WCF, как адрес конечной точки.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-155">The port number is specified as part of the WCF application as an endpoint address.</span></span> <span data-ttu-id="9a6b7-156">При использовании транспортного режима адрес конечной точки должен включать протокол HTTPS; в противном случае во время выполнения будет вызвано исключение.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-156">When using transport mode, the endpoint address must include the HTTPS protocol or an exception will be thrown at run time.</span></span> <span data-ttu-id="9a6b7-157">Дополнительные сведения см. в разделе [безопасности транспорта HTTP](../../../../docs/framework/wcf/feature-details/http-transport-security.md).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-157">For more information, see [HTTP Transport Security](../../../../docs/framework/wcf/feature-details/http-transport-security.md).</span></span>  
  
 <span data-ttu-id="9a6b7-158">Для проверки подлинности клиента присвойте свойству <xref:System.ServiceModel.HttpTransportSecurity.ClientCredentialType%2A> класса <xref:System.ServiceModel.HttpTransportSecurity> одно из значений перечисления <xref:System.ServiceModel.HttpClientCredentialType>.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-158">For client authentication, set the <xref:System.ServiceModel.HttpTransportSecurity.ClientCredentialType%2A> property of the <xref:System.ServiceModel.HttpTransportSecurity> class to one of the <xref:System.ServiceModel.HttpClientCredentialType> enumeration values.</span></span> <span data-ttu-id="9a6b7-159">Значения перечисления идентичны типам учетных данных клиентов для класса <xref:System.ServiceModel.BasicHttpBinding> и должны размещаться службами IIS.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-159">The enumeration values are identical to the client credential types for <xref:System.ServiceModel.BasicHttpBinding> and are designed to be hosted with IIS services.</span></span>  
  
 <span data-ttu-id="9a6b7-160">В следующем примере показана привязка, используемая с учетными данными клиента типа Windows.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-160">The following example shows the binding being used with a client credential type of Windows.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#11](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#11)]
 [!code-vb[c_ProgrammingSecurity#11](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#11)]  
  
## <a name="wsdualhttpbinding"></a><span data-ttu-id="9a6b7-161">WSDualHttpBinding</span><span class="sxs-lookup"><span data-stu-id="9a6b7-161">WSDualHttpBinding</span></span>  
 <span data-ttu-id="9a6b7-162">Эта привязка обеспечивает безопасность только на уровне сообщений, а не на транспортном уровне.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-162">This binding provides only message-level security, not transport-level security.</span></span>  
  
## <a name="nettcpbinding"></a><span data-ttu-id="9a6b7-163">NetTcpBinding</span><span class="sxs-lookup"><span data-stu-id="9a6b7-163">NetTcpBinding</span></span>  
 <span data-ttu-id="9a6b7-164">Для передачи сообщений класс <xref:System.ServiceModel.NetTcpBinding> использует протокол TCP.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-164">The <xref:System.ServiceModel.NetTcpBinding> class uses TCP for message transport.</span></span> <span data-ttu-id="9a6b7-165">Безопасность транспортного режима обеспечивается реализацией протокола TLS по TCP.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-165">Security for the transport mode is provided by implementing Transport Layer Security (TLS) over TCP.</span></span> <span data-ttu-id="9a6b7-166">Реализация TLS обеспечивается операционной системой.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-166">The TLS implementation is provided by the operating system.</span></span>  
  
 <span data-ttu-id="9a6b7-167">Тип учетных данных клиента можно также задать, присвоив свойству <xref:System.ServiceModel.TcpTransportSecurity.ClientCredentialType%2A> класса <xref:System.ServiceModel.TcpTransportSecurity> одно из значений <xref:System.ServiceModel.TcpClientCredentialType>, как показано в следующем коде.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-167">You can also specify the client's credential type by setting the <xref:System.ServiceModel.TcpTransportSecurity.ClientCredentialType%2A> property of the <xref:System.ServiceModel.TcpTransportSecurity> class to one of the <xref:System.ServiceModel.TcpClientCredentialType> values, as shown in the following code.</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#12](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#12)]
 [!code-vb[c_ProgrammingSecurity#12](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#12)]  
  
#### <a name="client"></a><span data-ttu-id="9a6b7-168">"Клиент";</span><span class="sxs-lookup"><span data-stu-id="9a6b7-168">Client</span></span>  
 <span data-ttu-id="9a6b7-169">На клиенте следует задать сертификат с помощью метода <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> класса <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential>.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-169">On the client, you must specify a certificate using the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential.SetCertificate%2A> method of the <xref:System.ServiceModel.Security.X509CertificateInitiatorClientCredential> class.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="9a6b7-170">В случае использования безопасности Windows сертификат не требуется.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-170">If you are using Windows security, a certificate is not required.</span></span>  
  
 <span data-ttu-id="9a6b7-171">В следующем коде используется отпечаток сертификата, который однозначно идентифицирует его.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-171">The following code uses the thumbprint of the certificate, which uniquely identifies it.</span></span> <span data-ttu-id="9a6b7-172">Дополнительные сведения см. в разделе [Работа с сертификатами](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-172">For more information about certificates, see [Working with Certificates](../../../../docs/framework/wcf/feature-details/working-with-certificates.md).</span></span>  
  
 [!code-csharp[c_ProgrammingSecurity#13](../../../../samples/snippets/csharp/VS_Snippets_CFX/c_programmingsecurity/cs/source.cs#13)]
 [!code-vb[c_ProgrammingSecurity#13](../../../../samples/snippets/visualbasic/VS_Snippets_CFX/c_programmingsecurity/vb/source.vb#13)]  
  
 <span data-ttu-id="9a6b7-173">Кроме того, укажите сертификат в конфигурации клиента с помощью [ \<clientCredentials >](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) элемент в разделе поведений.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-173">Alternatively, specify the certificate in the client's configuration using a [\<clientCredentials>](../../../../docs/framework/configure-apps/file-schema/wcf/clientcredentials.md) element in the behaviors section.</span></span>  
  
```xml  
<behaviors>  
  <behavior>  
   <clientCredentials>  
     <clientCertificate findValue= "101010101010101010101010101010000000000"   
      storeLocation="LocalMachine" storeName="My"   
      X509FindType="FindByThumbPrint"/>  
     </clientCertificate>  
   </clientCredentials>  
 </behavior>  
</behaviors>    
```  
  
## <a name="netnamedpipebinding"></a><span data-ttu-id="9a6b7-174">NetNamedPipeBinding</span><span class="sxs-lookup"><span data-stu-id="9a6b7-174">NetNamedPipeBinding</span></span>  
 <span data-ttu-id="9a6b7-175">Класс <xref:System.ServiceModel.NetNamedPipeBinding> предназначен для эффективного взаимодействия внутри компьютера, т. е. для процессов, выполняющихся на одном компьютере, хотя между двумя компьютерами, расположенными в одной сети, могут быть созданы именованные каналы.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-175">The <xref:System.ServiceModel.NetNamedPipeBinding> class is designed for efficient intra-machine communication; that is, for processes running on the same computer, although named pipe channels can be created between two computers on the same network.</span></span> <span data-ttu-id="9a6b7-176">Эта привязка обеспечивает безопасность только на транспортном уровне.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-176">This binding provides only transport-level security.</span></span> <span data-ttu-id="9a6b7-177">При создании приложений с использованием данной привязки адреса конечных точек должны включать "net.pipe" в качестве протокола адреса конечной точки.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-177">When creating applications using this binding, the endpoint addresses must include "net.pipe" as the protocol of the endpoint address.</span></span>  
  
## <a name="wsfederationhttpbinding"></a><span data-ttu-id="9a6b7-178">WSFederationHttpBinding</span><span class="sxs-lookup"><span data-stu-id="9a6b7-178">WSFederationHttpBinding</span></span>  
 <span data-ttu-id="9a6b7-179">При использовании безопасности транспорта эта привязка использует протокол SSL по HTTP, известный как HTTPS-протокол с выданным токеном (<xref:System.ServiceModel.WSFederationHttpSecurityMode.TransportWithMessageCredential>).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-179">When using transport security, this binding uses SSL over HTTP, known as HTTPS with an issued token (<xref:System.ServiceModel.WSFederationHttpSecurityMode.TransportWithMessageCredential>).</span></span> <span data-ttu-id="9a6b7-180">Дополнительные сведения о федеративных приложениях см. в разделе [Федерация и выданные маркеры](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-180">For more information about federation applications, see [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>  
  
## <a name="netpeertcpbinding"></a><span data-ttu-id="9a6b7-181">NetPeerTcpBinding</span><span class="sxs-lookup"><span data-stu-id="9a6b7-181">NetPeerTcpBinding</span></span>  
 <span data-ttu-id="9a6b7-182">Класс <xref:System.ServiceModel.NetPeerTcpBinding> представляет защищенный транспорт, предназначенный для эффективного взаимодействия с использованием функции одноранговой сети.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-182">The <xref:System.ServiceModel.NetPeerTcpBinding> class is a secure transport that is designed for efficient communication using the peer-to-peer networking feature.</span></span> <span data-ttu-id="9a6b7-183">Как указано в имени класса и привязки, применяется протокол TCP.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-183">As indicated by the name of the class and binding, TCP is the protocol.</span></span> <span data-ttu-id="9a6b7-184">Если для режима безопасности задано значение Transport, данная привязка реализует протокол TLS по TCP.</span><span class="sxs-lookup"><span data-stu-id="9a6b7-184">When the security mode is set to Transport, the binding implements TLS over TCP.</span></span> <span data-ttu-id="9a6b7-185">Дополнительные сведения о функции peer-to-peer см. в разделе [сети Peer-to-Peer](../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-185">For more information about the peer-to-peer feature, see [Peer-to-Peer Networking](../../../../docs/framework/wcf/feature-details/peer-to-peer-networking.md).</span></span>  
  
## <a name="msmqintegrationbinding-and-netmsmqbinding"></a><span data-ttu-id="9a6b7-186">MsmqIntegrationBinding и NetMsmqBinding</span><span class="sxs-lookup"><span data-stu-id="9a6b7-186">MsmqIntegrationBinding and NetMsmqBinding</span></span>  
 <span data-ttu-id="9a6b7-187">Подробное обсуждение транспорта безопасности с очередью сообщений (ранее называемой MSMQ), см. в разделе [защита безопасность транспорта с помощью сообщений](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md).</span><span class="sxs-lookup"><span data-stu-id="9a6b7-187">For a complete discussion of transport security with Message Queuing (previously called MSMQ), see [Securing Messages Using Transport Security](../../../../docs/framework/wcf/feature-details/securing-messages-using-transport-security.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9a6b7-188">См. также</span><span class="sxs-lookup"><span data-stu-id="9a6b7-188">See Also</span></span>  
 [<span data-ttu-id="9a6b7-189">Программирование безопасности WCF</span><span class="sxs-lookup"><span data-stu-id="9a6b7-189">Programming WCF Security</span></span>](../../../../docs/framework/wcf/feature-details/programming-wcf-security.md)
