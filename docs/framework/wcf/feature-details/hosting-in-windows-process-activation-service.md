---
title: "Размещение в службе активации процессов Windows | Microsoft Docs"
ms.custom: ""
ms.date: "03/30/2017"
ms.prod: ".net-framework-4.6"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "dotnet-clr"
ms.tgt_pltfrm: ""
ms.topic: "article"
helpviewer_keywords: 
  - "размещение служб [WCF], WAS"
ms.assetid: d2b9d226-15b7-41fc-8c9a-cb651ac20ecd
caps.latest.revision: 16
author: "Erikre"
ms.author: "erikre"
manager: "erikre"
caps.handback.revision: 16
---
# Размещение в службе активации процессов Windows
Служба активации Windows \(WAS\) управляет активацией и временем существования рабочих процессов, содержащих приложения, которые размещают службы [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].  Модель процесса WAS обобщает модель процесса [!INCLUDE[iis601](../../../../includes/iis601-md.md)] для HTTP\-сервера путем устранения зависимости от HTTP.  Это позволяет службам [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] использовать и протокол HTTP, и отличные от HTTP протоколы, такие как Net.TCP, в среде размещения, которая поддерживает активацию на основе сообщений и предоставляет возможность размещать большое количество приложений на данном компьютере.  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)] создании службы [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], которая выполняется в среде размещения WAS, см. раздел [Как разместить службу WCF в WAS](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md).  
  
 Модель процессов WAS предоставляет несколько функций, благодаря которым размещение приложений можно осуществлять более надежным и управляемым способом и при этом более эффективно использовать ресурсы.  
  
-   Активация приложений на основе сообщений и динамические запуск и остановка приложений рабочего процесса в ответ на входящие рабочие элементы, поступающие по протоколу HTTP или по сетевым протоколам, отличным от HTTP.  
  
-   Надежный перезапуск приложений и рабочих процессов для поддержания состояния выполняемых приложений.  
  
-   Централизованные настройка приложений и управление ими.  
  
-   Возможность использования приложениями модели процессов IIS без развертывания полной установки IIS.  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)] функциях WAS см. в разделе [IIS 7.0 Beta: IIS 7.0 Web Administration](../../../../docs/framework/wcf/feature-details/hosting-in-windows-process-activation-service.md).  
  
 [Windows Server AppFabric](http://go.microsoft.com/fwlink/?LinkId=196496) работает совместно с [!INCLUDE[iisver](../../../../includes/iisver-md.md)] и службой активации процессов Windows \(WAS\), обеспечивая среду размещения функционально насыщенных приложений для служб NET4 WCF и WF.  К ее преимуществам относятся управление жизненным циклом, перезапуск процессов, совместное размещение, быстрая защита от сбоев, обработка потерянных процессов, активация по запросу и наблюдение за работоспособностью.  Подробные сведения см. в разделах [Функции размещения AppFabric](http://go.microsoft.com/fwlink/?LinkId=196494) и [Основы размещения AppFabric](http://go.microsoft.com/fwlink/?LinkId=196495).  
  
## Элементы модели адресации WAS  
 Приложения имеют адреса универсального кода ресурса \(URI\), представляющие собой единицы кода, временем существования и средой выполнения которых управляет сервер.  В одном экземпляре сервера WAS может размещаться много различных приложений.  Серверы организуют приложения по группам, называемым *узлы*.  Внутри узла приложения упорядочены иерархически, их расположение отражает структуру URI, выполняющих функцию их внешних адресов.  
  
 Адреса приложений состоят из двух частей: базовый префикс URI и относительный адрес конкретного приложения \(путь\), сочетание этих элементов дает внешний адрес приложения.  Базовый префикс URI создается из привязки узла и используется для всех приложений в этом узле.  Затем адреса приложений создаются добавлением фрагментов пути конкретного приложения \(таких как “\/applicationOne”\) к базовому префиксу URI \(например, “net.tcp:\/\/localhost”\), в результате чего получается полный URI приложения.  
  
 В следующей таблице приведены несколько возможных сценариев адресации для сайтов WAS с привязками сайтов HTTP и привязками сайтов, отличными от HTTP.  
  
|Сценарий|Привязки узла|Путь к приложению|Базовые URI приложения|  
|--------------|-------------------|-----------------------|----------------------------|  
|Только HTTP|http: \*:80:\*|\/appTwo|http:\/\/localhost\/appTwo\/|  
|HTTP и отличные от HTTP|http: \*:80:\*<br /><br /> net.tcp: 808:\*|\/appTwo|http:\/\/localhost\/appTwo\/                 <br /> net.tcp:\/\/localhost\/appTwo\/|  
|Только отличные от HTTP|net.pipe: \*|\/appThree|net.pipe:\/\/appThree\/|  
  
 Можно также обращаться к службам и ресурсам внутри приложения.  Обратиться к ресурсам приложения внутри приложения можно с помощью базового пути к приложению.  Например, предположим, что узел на компьютере с именем contoso.com имеет привязки узла для протоколов HTTP и Net.TCP.  Также предположим, что узел содержит одно приложение, расположенное в \/Billing и предоставляющее службу в GetOrders.svc.  Тогда, если бы служба GetOrders.svc предоставляла конечную точку с относительным адресом SecureEndpoint, конечная точка службы предоставлялась бы в двух следующих URI:  
  
 http:\/\/contoso.com\/Billing\/GetOrders.svc\/SecureEndpoint           
 net.tcp:\/\/contoso.com\/Billing\/GetOrders.svc\/SecureEndpoint  
  
## Среда выполнения WAS  
 Приложения организуются в узлы для адресации и управления.  В среде выполнения приложения также группируются в пулы приложений.  В пуле приложения можно разместить большое количество различных приложений из многих узлов.  Все приложения внутри пула приложений имеют общий набор характеристик среды выполнения.  Например, они все выполняются в среде CLR \(common language runtime\) одной и той же версии и имеют одно и то же удостоверение процесса.  Каждый пул приложений соответствует экземпляру рабочего процесса \(w3wp.exe\).  Каждое управляемое приложение, выполняемое внутри общего пула приложений, изолировано от других приложений с помощью AppDomain среды CLR.  
  
## См. также  
 [Архитектура активации WAS](../../../../docs/framework/wcf/feature-details/was-activation-architecture.md)   
 [Настройка WAS для использования с WCF](../../../../docs/framework/wcf/feature-details/configuring-the-wpa--service-for-use-with-wcf.md)   
 [Как устанавливать и настраивать компоненты активации WCF](../../../../docs/framework/wcf/feature-details/how-to-install-and-configure-wcf-activation-components.md)   
 [Как разместить службу WCF в WAS](../../../../docs/framework/wcf/feature-details/how-to-host-a-wcf-service-in-was.md)   
 [Функции размещения Windows Server App Fabric](http://go.microsoft.com/fwlink/?LinkId=201276)