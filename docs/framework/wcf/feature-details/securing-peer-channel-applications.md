---
title: "Защита приложений одноранговых каналов"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: d4a0311d-3f78-4525-9c4b-5c93c4492f28
caps.latest.revision: "13"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: 02bad6b5c7460655f4d3a5851e4e74d7de12111f
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/21/2017
---
# <a name="securing-peer-channel-applications"></a>Защита приложений одноранговых каналов
Как и другие привязки в [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)], привязка `NetPeerTcpBinding` имеет включенную по умолчанию безопасность и предлагает безопасность как на основе транспорта, так и на основе сообщения (или оба типа безопасности). В данном разделе обсуждаются два этих типа безопасности. Тип безопасности задается тегом режима безопасности в спецификации привязки (<xref:System.ServiceModel.NetPeerTcpBinding.Security%2A>`Mode`).  
  
## <a name="transport-based-security"></a>Безопасность на базе транспорта  
 Одноранговый канал поддерживает два типа учетных данных для проверки подлинности, обеспечивающие безопасность транспорта; оба типа требуют настройки свойства `ClientCredentialSettings.Peer` в связанной фабрике каналов `ChannelFactory`.  
  
-   Пароль. Клиенты используют знание секретного пароля для проверки подлинности подключений. При использовании этого типа учетных данных `ClientCredentialSettings.Peer.MeshPassword` должен содержать действительный пароль и дополнительно экземпляр `X509Certificate2`.  
  
-   Сертификат. Используется специальная проверка подлинности приложения. При использовании этого типа учетных данных необходимо использовать конкретную реализацию <xref:System.IdentityModel.Selectors.X509CertificateValidator> в проверке подлинности `ClientCredentialSettings.Peer.PeerAuthentication`.  
  
## <a name="message-based-security"></a>Безопасность на основе сообщения  
 Приложение может подписывать исходящие сообщения с помощью безопасности сообщений, чтобы все получатели могли проверить, что сообщение отправлено надежной стороной и защищено от подделки. В настоящее время одноранговый канал поддерживает только подпись сообщений с учетными данными X.509.  
  
## <a name="best-practices"></a>Рекомендации  
  
-   В этом разделе приводятся рекомендации по защите приложений одноранговых каналов.  
  
### <a name="enable-security-with-peer-channel-applications"></a>Включение безопасности приложений одноранговых каналов  
 Распределенность протоколов однорангового канала затрудняет принудительное использование членства в сетке, секретности и конфиденциальности в незащищенной сетке. Важно также не забыть обеспечить безопасность связи между клиентами и службой распознавателя. В протоколе PNRP используйте безопасные имена во избежание спуфинга и других распространенных атак. Защитите пользовательскую службу распознавателя, включив безопасность на подключении, используемом клиентами для связи со службой распознавателя, включая как безопасность на основе сообщений, так и на основе транспорта.  
  
### <a name="use-the-strongest-possible-security-model"></a>Используйте самую сильную модель безопасности  
 Например, если требуется отдельно идентифицировать каждого члена сетки, используйте модель проверки подлинности на основе сертификатов. Если это невозможно, используйте проверку подлинности на основе паролей, следуя текущим рекомендациям по их защите. Для защиты паролей необходимо обмениваться паролями только с доверенными сторонами, передавать пароли только в безопасной среде передачи, часто изменять пароли и обеспечивать надежность паролей (они должны состоять как минимум из восьми символов, включать хотя бы по одному символу из обоих регистров, цифру и специальный знак).  
  
### <a name="never-accept-self-signed-certificates"></a>Никогда не принимайте самозаверяющие сертификаты  
 Никогда не принимайте учетные данные сертификата на основе имен субъекта. Обратите внимание, что любой может создать сертификат и выбрать имя, проверку которого вы осуществляете. Чтобы защититься от спуфинга, необходимо проверять сертификаты на основе учетных данных центра выдачи сертификата (доверенного издателя или корневого центра сертификации).  
  
### <a name="use-message-authentication"></a>Используйте проверку подлинности сообщения  
 Используйте проверку подлинности сообщения, чтобы проверить, что сообщение было получено из надежного источника и не было подделано во время передачи. Без проверки подлинности сообщения злонамеренному клиенту легко подделать или заменить сообщения в сетке.  
  
## <a name="peer-channel-code-examples"></a>Примеры кода одноранговых каналов  
 [Сценарии одноранговых каналов](../../../../docs/framework/wcf/feature-details/peer-channel-scenarios.md)  
  
## <a name="see-also"></a>См. также  
 [Безопасность одноранговых каналов](../../../../docs/framework/wcf/feature-details/peer-channel-security.md)  
 [Создание приложения одноранговых каналов](../../../../docs/framework/wcf/feature-details/building-a-peer-channel-application.md)
