---
title: "Действие"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 70471705-f55f-4da1-919f-4b580f172665
caps.latest.revision: "10"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: cbcf33aa734cde1d2458e46cd161f9ea5197a827
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/22/2017
---
# <a name="activity"></a><span data-ttu-id="f1554-102">Действие</span><span class="sxs-lookup"><span data-stu-id="f1554-102">Activity</span></span>
<span data-ttu-id="f1554-103">В этом разделе описываются трассировки действий в модели трассировки [!INCLUDE[indigo1](../../../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="f1554-103">This topic describes activity traces in the [!INCLUDE[indigo1](../../../../../includes/indigo1-md.md)] tracing model.</span></span> <span data-ttu-id="f1554-104">Действия — это блоки обработки, позволяющие пользователю сузить область сбоя.</span><span class="sxs-lookup"><span data-stu-id="f1554-104">Activities are processing units that help the user narrow down the scope of a failure.</span></span> <span data-ttu-id="f1554-105">Ошибки, возникающие в одном действии, напрямую связаны между собой.</span><span class="sxs-lookup"><span data-stu-id="f1554-105">Errors that occur in the same activity are directly related.</span></span> <span data-ttu-id="f1554-106">Например, операция заканчивается неудачей в результате сбоя при расшифровывании сообщения.</span><span class="sxs-lookup"><span data-stu-id="f1554-106">For example, an operation fails because message decryption has failed.</span></span> <span data-ttu-id="f1554-107">Трассировки операции и расшифровывания сообщения появляются в том же действии и показывают прямую связь между ошибкой расшифровывания и ошибкой запроса.</span><span class="sxs-lookup"><span data-stu-id="f1554-107">The traces for both the operation and message decryption failure appear in the same activity, showing direct correlation between the decryption error and the request error.</span></span>  
  
## <a name="configuring-activity-tracing"></a><span data-ttu-id="f1554-108">Настройка трассировки действий</span><span class="sxs-lookup"><span data-stu-id="f1554-108">Configuring Activity Tracing</span></span>  
 [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)]<span data-ttu-id="f1554-109">предоставляет предварительно определенные действия для приложений обработки (см. [список действия](../../../../../docs/framework/wcf/diagnostics/tracing/activity-list.md)).</span><span class="sxs-lookup"><span data-stu-id="f1554-109"> provides pre-defined activities for processing applications (see [Activity List](../../../../../docs/framework/wcf/diagnostics/tracing/activity-list.md)).</span></span> <span data-ttu-id="f1554-110">Кроме того, действия можно определить программно для группирования пользовательских трассировок.</span><span class="sxs-lookup"><span data-stu-id="f1554-110">You can also define activities programmatically to group user traces.</span></span> <span data-ttu-id="f1554-111">Дополнительные сведения см. в разделе [создающие трассировки пользовательского кода](../../../../../docs/framework/wcf/diagnostics/tracing/emitting-user-code-traces.md).</span><span class="sxs-lookup"><span data-stu-id="f1554-111">For more information, see [Emitting User-Code Traces](../../../../../docs/framework/wcf/diagnostics/tracing/emitting-user-code-traces.md).</span></span>  
  
 <span data-ttu-id="f1554-112">Чтобы создать трассировки действия во время выполнения, используйте параметр `ActivityTracing` для источника трассировки `System.ServiceModel` либо другие источники трассировки [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] или пользовательские источники трассировки, как показано в следующем примере кода конфигурации.</span><span class="sxs-lookup"><span data-stu-id="f1554-112">To emit activity traces at run time, use the `ActivityTracing` setting for the `System.ServiceModel` trace source, or other [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] or custom trace sources, as demonstrated by the following configuration code.</span></span>  
  
```xml  
<source name="System.ServiceModel" switchValue="Verbose,ActivityTracing">  
```  
  
 <span data-ttu-id="f1554-113">Чтобы получить представление о элемента конфигурации и атрибутов, используемый, в разделе [Настройка трассировки](../../../../../docs/framework/wcf/diagnostics/tracing/configuring-tracing.md) раздела.</span><span class="sxs-lookup"><span data-stu-id="f1554-113">To understand more about the configuration element and attributes being used, see the [Configuring Tracing](../../../../../docs/framework/wcf/diagnostics/tracing/configuring-tracing.md) topic.</span></span>  
  
## <a name="viewing-activities"></a><span data-ttu-id="f1554-114">Просмотр действий</span><span class="sxs-lookup"><span data-stu-id="f1554-114">Viewing Activities</span></span>  
 <span data-ttu-id="f1554-115">Можно просмотреть действия и свою функциональность в [программы Service Trace Viewer (SvcTraceViewer.exe)](../../../../../docs/framework/wcf/service-trace-viewer-tool-svctraceviewer-exe.md).</span><span class="sxs-lookup"><span data-stu-id="f1554-115">You can view the activities and their utility in the [Service Trace Viewer Tool (SvcTraceViewer.exe)](../../../../../docs/framework/wcf/service-trace-viewer-tool-svctraceviewer-exe.md).</span></span> <span data-ttu-id="f1554-116">Если функция ActivityTracing включена, данное средство сортирует трассировки на основе действий.</span><span class="sxs-lookup"><span data-stu-id="f1554-116">When ActivityTracing is enabled, this tool takes the traces and sorts them based on activity.</span></span> <span data-ttu-id="f1554-117">Также можно просматривать перенаправления трассировок.</span><span class="sxs-lookup"><span data-stu-id="f1554-117">You can also see trace transfers.</span></span> <span data-ttu-id="f1554-118">Перенаправление трассировки показывает, как различные действия связаны между собой.</span><span class="sxs-lookup"><span data-stu-id="f1554-118">A trace transfer indicates how different activities are related to each other.</span></span> <span data-ttu-id="f1554-119">Таким образом, можно увидеть, какие действия приводят к запуску других действий.</span><span class="sxs-lookup"><span data-stu-id="f1554-119">You can see that a particular activity caused another to start.</span></span> <span data-ttu-id="f1554-120">Например, запрос сообщения привел к запуску процедуры подтверждения для получения маркера безопасного диалога.</span><span class="sxs-lookup"><span data-stu-id="f1554-120">For example, a message request started a security handshake to get a Secure Conversation Token.</span></span>  
  
### <a name="correlating-activities-in-service-trace-viewer"></a><span data-ttu-id="f1554-121">Корреляция действия в программе Service Trace Viewer</span><span class="sxs-lookup"><span data-stu-id="f1554-121">Correlating Activities in Service Trace Viewer</span></span>  
 <span data-ttu-id="f1554-122">В программе Service Trace Viewer предусмотрено два представления действий.</span><span class="sxs-lookup"><span data-stu-id="f1554-122">The Service Trace Viewer tool provides two views of activities:</span></span>  
  
-   <span data-ttu-id="f1554-123">**Список** представление, когда идентификатор действия используется для непосредственной корреляции трассировок в процессах.</span><span class="sxs-lookup"><span data-stu-id="f1554-123">**List** view, where the activity ID is used to directly correlate traces across processes.</span></span> <span data-ttu-id="f1554-124">Трассировки из различных процессов (например, клиента и службы) с одним и тем же идентификатором действия группируются в одном действии.</span><span class="sxs-lookup"><span data-stu-id="f1554-124">Traces from different processes, for example, client and service, but with the same activity ID are grouped in the same activity.</span></span> <span data-ttu-id="f1554-125">Поэтому ошибка службы и вызванная ей ошибка на клиенте будут отображены в программе в одном представлении действий.</span><span class="sxs-lookup"><span data-stu-id="f1554-125">Therefore, an error occurring on the service which then causes an error on the client will both show up in the same activity view in the tool.</span></span>  
  
-   <span data-ttu-id="f1554-126">**График** представление, где действий группируются по процессам.</span><span class="sxs-lookup"><span data-stu-id="f1554-126">**Graph** view, where activities are grouped by processes.</span></span> <span data-ttu-id="f1554-127">В этом представлении трассировки клиента и службы с одинаковым идентификатором действия находятся в различных действиях.</span><span class="sxs-lookup"><span data-stu-id="f1554-127">In this view, a client and service with the same activity ID have their traces in different activities.</span></span> <span data-ttu-id="f1554-128">Для корреляции действий с одинаковым идентификатором в различных процессах программа отображает потоки сообщений в связанных действиях.</span><span class="sxs-lookup"><span data-stu-id="f1554-128">To correlate activities with the same activity ID in different processes, the tool shows message flows across the related activities.</span></span>  
  
 <span data-ttu-id="f1554-129">Дополнительные сведения и графическое представление средства просмотра трассировки службы см. в разделе [программы Service Trace Viewer (SvcTraceViewer.exe)](../../../../../docs/framework/wcf/service-trace-viewer-tool-svctraceviewer-exe.md) и [с помощью программы Service Trace Viewer для просмотра корреляцию трассировок и Устранение неполадок](../../../../../docs/framework/wcf/diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md).</span><span class="sxs-lookup"><span data-stu-id="f1554-129">For more information, and to see a graphical view of the Service Trace Viewer tool, see [Service Trace Viewer Tool (SvcTraceViewer.exe)](../../../../../docs/framework/wcf/service-trace-viewer-tool-svctraceviewer-exe.md) and [Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting](../../../../../docs/framework/wcf/diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md).</span></span>  
  
## <a name="defining-the-scope-of-an-activity"></a><span data-ttu-id="f1554-130">Определение области действия</span><span class="sxs-lookup"><span data-stu-id="f1554-130">Defining the Scope of an Activity</span></span>  
 <span data-ttu-id="f1554-131">Действие определяется во время проектирования и обозначает логический блок обработки.</span><span class="sxs-lookup"><span data-stu-id="f1554-131">An activity is defined at design time and denotes a logical unit of work.</span></span> <span data-ttu-id="f1554-132">Созданные трассировки с одинаковым идентификатором действия являются связанными напрямую; они представляют собой часть одного действия.</span><span class="sxs-lookup"><span data-stu-id="f1554-132">Emitted traces with the same activity identifier are directly related, they are part of the same activity.</span></span> <span data-ttu-id="f1554-133">Поскольку действие может пересекать границы конечной точки (например, запрос), для действия определяются две области.</span><span class="sxs-lookup"><span data-stu-id="f1554-133">Because an activity can cross endpoint boundaries (a request), two scopes for an activity are defined.</span></span>  
  
-   <span data-ttu-id="f1554-134">Область `Global` для каждого приложения.</span><span class="sxs-lookup"><span data-stu-id="f1554-134">`Global` scope, per application.</span></span> <span data-ttu-id="f1554-135">В этой области действие определяется 128-разрядным глобальным уникальным идентификатором действия (gAId).</span><span class="sxs-lookup"><span data-stu-id="f1554-135">In this scope, the activity is identified by its 128-bit globally unique activity identifier, the gAId.</span></span> <span data-ttu-id="f1554-136">Идентификатор gAid распространяется на конечные точки.</span><span class="sxs-lookup"><span data-stu-id="f1554-136">The gAid is what is propagated across endpoints.</span></span>  
  
-   <span data-ttu-id="f1554-137">Область `Local` для каждой конечной точки.</span><span class="sxs-lookup"><span data-stu-id="f1554-137">`Local` scope, per endpoint.</span></span> <span data-ttu-id="f1554-138">В этой области действие определяется своим идентификатором gAId, а также именем источника трассировки, создающего трассировки действий, и идентификатором процесса. Эти три значения составляют идентификатор локального действия, lAId.</span><span class="sxs-lookup"><span data-stu-id="f1554-138">In this scope, the activity is identified by its gAId, along with the trace source name emitting the activity traces and the process Id. This triplet constitutes the local activity id, lAId.</span></span> <span data-ttu-id="f1554-139">Идентификатор lAId используется для определения (локальных) границ действия.</span><span class="sxs-lookup"><span data-stu-id="f1554-139">The lAId is used to define the (local) boundaries of an activity.</span></span>  
  
## <a name="trace-schema"></a><span data-ttu-id="f1554-140">Схема трассировки</span><span class="sxs-lookup"><span data-stu-id="f1554-140">Trace Schema</span></span>  
 <span data-ttu-id="f1554-141">Трассировки можно создавать с использованием любой схемы и для различных платформ Майкрософт.</span><span class="sxs-lookup"><span data-stu-id="f1554-141">Traces can be emitted using any schema, and across Microsoft platforms.</span></span> <span data-ttu-id="f1554-142">«e2e» (для «конца в конец») представляет собой часто используемые схему.</span><span class="sxs-lookup"><span data-stu-id="f1554-142">"e2e" (for "End to End") is a commonly used schema.</span></span> <span data-ttu-id="f1554-143">Эта схема включает 128-разрядный идентификатор (gAId), имя источника трассировки и идентификатор процесса.</span><span class="sxs-lookup"><span data-stu-id="f1554-143">This schema includes a 128 bit identifier (gAId), the trace source name, and process ID.</span></span> <span data-ttu-id="f1554-144">В управляемом коде <xref:System.Diagnostics.XmlWriterTraceListener> создает трассировки по схеме E2E.</span><span class="sxs-lookup"><span data-stu-id="f1554-144">In managed code, <xref:System.Diagnostics.XmlWriterTraceListener> emits traces in the E2E schema.</span></span>  
  
 <span data-ttu-id="f1554-145">Разработчики могут задавать идентификатор действия, выдаваемый вместе с трассировкой, путем присвоения свойству <xref:System.Diagnostics.CorrelationManager.ActivityId%2A> значения идентификатора GUID в локальной памяти потока.</span><span class="sxs-lookup"><span data-stu-id="f1554-145">Developers can set the AID that is emitted with a trace by setting the <xref:System.Diagnostics.CorrelationManager.ActivityId%2A> property with a Guid on Thread Local Storage (TLS).</span></span> <span data-ttu-id="f1554-146">В следующем примере это показано.</span><span class="sxs-lookup"><span data-stu-id="f1554-146">The following example demonstrates this.</span></span>  
  
```  
// set the current Activity ID to a new GUID.  
CorrelationManager.ActivityId = Guid.NewGuid();  
```  
  
 <span data-ttu-id="f1554-147">Задание идентификатора gAId в локальной памяти потока будет засвидетельствовано при создании трассировок с помощью источника трассировки, как показано в следующем примере.</span><span class="sxs-lookup"><span data-stu-id="f1554-147">Setting the gAId in TLS will be evident when traces are emitted using a trace source, as shown by the following example.</span></span>  
  
```  
TraceSource traceSource = new TraceSource("myTraceSource");  
traceSource.TraceEvent(TraceEventType.Warning, eventId, "Information");  
```  
  
 <span data-ttu-id="f1554-148">В выданной трассировке будут содержаться идентификатор gAId, находящийся в данный момент в локальной памяти потока, имя источника трассировки, переданное в качестве параметра конструктору источника трассировки, и идентификатор текущего процесса.</span><span class="sxs-lookup"><span data-stu-id="f1554-148">The trace emitted will contain the gAId currently in TLS, the trace source name passed as a parameter to the trace source’s constructor, and the current process’s ID.</span></span>  
  
## <a name="activity-lifetime"></a><span data-ttu-id="f1554-149">Время существования действия</span><span class="sxs-lookup"><span data-stu-id="f1554-149">Activity Lifetime</span></span>  
 <span data-ttu-id="f1554-150">Строго говоря, свидетельство действия начинается при первом использовании идентификатора действия в созданной трассировке и заканчивается при последнем использовании идентификатора действия в созданной трассировке.</span><span class="sxs-lookup"><span data-stu-id="f1554-150">In strictest terms, evidence of an activity starts the first time the activity ID is used in an emitted trace, and ends the last time it is used in an emitted trace.</span></span> <span data-ttu-id="f1554-151">Предварительно определенный набор типов трассировок, включающий "Запуск" и "Остановку", предоставляется пространством имен <xref:System.Diagnostics> для явной пометки границ времени существования действия.</span><span class="sxs-lookup"><span data-stu-id="f1554-151">A predefined set of trace types are provided by <xref:System.Diagnostics>, including Start and Stop, to explicitly mark the activity lifetime boundaries.</span></span>  
  
-   <span data-ttu-id="f1554-152">Запуск. Обозначает начало действия.</span><span class="sxs-lookup"><span data-stu-id="f1554-152">Start: Indicates the beginning of an activity.</span></span> <span data-ttu-id="f1554-153">Трассировку «Пуск» предоставляет запись о начале нового этапа обработки.</span><span class="sxs-lookup"><span data-stu-id="f1554-153">A "Start" trace provides a record of beginning a new processing milestone.</span></span> <span data-ttu-id="f1554-154">В ней содержится новый идентификатор действия для заданного источника трассировки в заданном процессе, кроме случая распространения идентификатора действия на конечные точки, в котором наблюдается одна трассировка «Запуск» для каждой конечной точки.</span><span class="sxs-lookup"><span data-stu-id="f1554-154">It contains a new activity ID for a given trace source in a given process, except when the activity ID is propagated across endpoints, in which case we see one "Start" per endpoint.</span></span> <span data-ttu-id="f1554-155">Примером запуска нового действия является создание нового потока для обработки или нового открытого метода.</span><span class="sxs-lookup"><span data-stu-id="f1554-155">Examples of starting a new activity include creating a new thread for processing, or entering a new public method.</span></span>  
  
-   <span data-ttu-id="f1554-156">Остановка. Обозначает конец действия.</span><span class="sxs-lookup"><span data-stu-id="f1554-156">Stop: Indicates the end of an activity.</span></span> <span data-ttu-id="f1554-157">Трассировку «Остановка» предоставляет запись о завершении существующего этапа обработки.</span><span class="sxs-lookup"><span data-stu-id="f1554-157">A "Stop" trace provides a record of ending an existing processing milestone.</span></span> <span data-ttu-id="f1554-158">В ней содержится существующий идентификатор действия для заданного источника трассировки в заданном процессе, кроме случая распространения идентификатора действия на конечные точки, в котором наблюдается одна трассировка «Остановка» для каждой конечной точки.</span><span class="sxs-lookup"><span data-stu-id="f1554-158">It contains an existing activity ID for a given trace source in a given process, except when the activity ID is propagated across endpoints, in which case we see one "Stop" per endpoint.</span></span>  <span data-ttu-id="f1554-159">Остановка действия примеры завершение потока обработки или выход из метода, начало которого было обозначено трассировкой «Start».</span><span class="sxs-lookup"><span data-stu-id="f1554-159">Examples of stopping an activity include terminating a processing thread, or exiting a method whose beginning was denoted with a "Start" trace.</span></span>  
  
-   <span data-ttu-id="f1554-160">Приостановка. Обозначает приостановку обработки действия.</span><span class="sxs-lookup"><span data-stu-id="f1554-160">Suspend: Indicates suspension of processing of an activity.</span></span> <span data-ttu-id="f1554-161">Трассировка «Приостановка» содержится идентификатор существующего действия, обработка которых ожидается возобновление позднее.</span><span class="sxs-lookup"><span data-stu-id="f1554-161">A "Suspend" trace contains an existing activity ID whose processing is expected to resume at a later time.</span></span> <span data-ttu-id="f1554-162">Между событиями «Приостановка» и «Возобновление» никакие трассировки из источника трассировки не создаются.</span><span class="sxs-lookup"><span data-stu-id="f1554-162">No traces are emitted with this ID between the Suspend and Resume events from the current trace source.</span></span> <span data-ttu-id="f1554-163">Примером является приостановка действия при вызове внешней функции библиотеки или при ожидании ресурса, такого как порт завершения ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="f1554-163">Examples include pausing an activity when calling into an external library function, or when waiting on a resource such as an I/O completion port.</span></span>  
  
-   <span data-ttu-id="f1554-164">Возобновление. Обозначает продолжение обработки действия.</span><span class="sxs-lookup"><span data-stu-id="f1554-164">Resume: Indicates the resumption of processing of an activity.</span></span> <span data-ttu-id="f1554-165">Трассировке «Возобновление» содержится идентификатор существующего действия которого последнего созданную трассировку из текущего источника трассировки была трассировка «Приостановка».</span><span class="sxs-lookup"><span data-stu-id="f1554-165">A "Resume" trace contains an existing activity id whose last emitted trace from the current trace source was a "Suspend" trace.</span></span> <span data-ttu-id="f1554-166">Примером является возврат после вызова внешней функции библиотеки или получение сигнала возобновления обработки от ресурса, такого как порт завершения ввода-вывода.</span><span class="sxs-lookup"><span data-stu-id="f1554-166">Examples include returning from a call to an external library function, or when signaled to resume processing by a resource such as an I/O completion port.</span></span>  
  
-   <span data-ttu-id="f1554-167">Перенаправление: Так как некоторые действия вызываются другими или относятся к ним, действия могут связываться с другими действиями с помощью трассировок «Перенаправление».</span><span class="sxs-lookup"><span data-stu-id="f1554-167">Transfer: Because some activities are caused by others, or relate to others, activities can be related to other activities through "Transfer" traces.</span></span> <span data-ttu-id="f1554-168">Трассировка перенаправления записывает непосредственное отношение одного действия к другому.</span><span class="sxs-lookup"><span data-stu-id="f1554-168">A transfer records the directed relationship of one activity to another</span></span>  
  
 <span data-ttu-id="f1554-169">Трассировки Start и Stop не являются критически важными для корреляции.</span><span class="sxs-lookup"><span data-stu-id="f1554-169">Start and Stop traces are not critical for correlation.</span></span> <span data-ttu-id="f1554-170">Однако они могут способствовать повышению производительности, профилированию и проверке области действия.</span><span class="sxs-lookup"><span data-stu-id="f1554-170">However, they can help in increasing performance, profiling, and activity scope validation.</span></span>  
  
 <span data-ttu-id="f1554-171">Используя эти типы, средства могут оптимизировать журналы трассировки для поиска непосредственно связанных событий одного действия или событий в связанных действиях, если средство прослеживает трассировки перенаправления.</span><span class="sxs-lookup"><span data-stu-id="f1554-171">Using these types, the tools can optimize navigating the trace logs to find the immediately related events of the same activity, or events in related activities if the tool follows transfer traces.</span></span> <span data-ttu-id="f1554-172">Например, средства прекращают анализ журналов для заданного действия при обнаружении трассировки Start и Stop.</span><span class="sxs-lookup"><span data-stu-id="f1554-172">For example, the tools will stop parsing the logs for a given activity when they see a Start/Stop trace.</span></span>  
  
 <span data-ttu-id="f1554-173">Эти типы трассировки можно также использовать для профилирования.</span><span class="sxs-lookup"><span data-stu-id="f1554-173">These trace types can also be used for profiling.</span></span> <span data-ttu-id="f1554-174">Ресурсы, которые использовались в течение интервала, определенного маркерами запуска и остановки, представляют инклюзивное время действия, включающее содержащиеся логические действия.</span><span class="sxs-lookup"><span data-stu-id="f1554-174">Resources consumed between the start and stop markers represent the activity’s inclusive time including contained logical activities.</span></span> <span data-ttu-id="f1554-175">После вычитания интервалов времени между трассировками Suspend и Resume получается фактическое время действия.</span><span class="sxs-lookup"><span data-stu-id="f1554-175">Subtracting the time intervals between the Suspend and Resume traces provides the actual activity time.</span></span>  
  
 <span data-ttu-id="f1554-176">Трассировку «Остановка» особенно полезно использовать для проверки области реализованных действий.</span><span class="sxs-lookup"><span data-stu-id="f1554-176">The Stop trace is also particularly useful for validating the scope of the implemented activities.</span></span> <span data-ttu-id="f1554-177">Если некоторые трассировки обработки появляются после трассировки Stop, а не в рамках заданного действия, это может указывать на дефект в коде.</span><span class="sxs-lookup"><span data-stu-id="f1554-177">If some processing traces appear after the Stop trace instead of inside a given activity, this can suggests code defect.</span></span>  
  
## <a name="guidelines-for-using-activity-tracing"></a><span data-ttu-id="f1554-178">Рекомендации по использованию трассировки действий</span><span class="sxs-lookup"><span data-stu-id="f1554-178">Guidelines for Using Activity Tracing</span></span>  
 <span data-ttu-id="f1554-179">Ниже приведены рекомендации по использованию трассировок ActivityTracing (Start, Stop, Suspend, Resume и Transfer).</span><span class="sxs-lookup"><span data-stu-id="f1554-179">The following is a guideline of using ActivityTracing traces (Start, Stop, Suspend, Resume, and Transfer).</span></span>  
  
-   <span data-ttu-id="f1554-180">Трассировка является направленным циклическим графом, а не деревом.</span><span class="sxs-lookup"><span data-stu-id="f1554-180">Tracing is a directed cyclic graph, not a tree.</span></span> <span data-ttu-id="f1554-181">Можно вернуть управление действию, которое породило заданное действие.</span><span class="sxs-lookup"><span data-stu-id="f1554-181">You can return control to an activity which spawned an activity.</span></span>  
  
-   <span data-ttu-id="f1554-182">Действие обозначает границу обработки, что может быть существенным для администратора системы или для возможности поддержки.</span><span class="sxs-lookup"><span data-stu-id="f1554-182">An activity denotes a processing boundary which can be meaningful to the administrator of the system or for supportability.</span></span>  
  
-   <span data-ttu-id="f1554-183">Каждый метод [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] как на клиенте, так и на сервере ограничивается началом нового действия, затем (после выполнения работы) завершением нового действия и возвратом к внешнему действию.</span><span class="sxs-lookup"><span data-stu-id="f1554-183">Each [!INCLUDE[indigo2](../../../../../includes/indigo2-md.md)] method, both on the client and server, is bounded by beginning a new activity, then (after work is done) ending the new activity and returning to the ambient activity.</span></span>  
  
-   <span data-ttu-id="f1554-184">Долго выполняющиеся (текущие) действия, такие как прослушивание соединений или ожидание сообщений, представляются соответствующими маркерами запуска и остановки.</span><span class="sxs-lookup"><span data-stu-id="f1554-184">Long running (ongoing) activities such as listening for connections or waiting for messages are represented by corresponding start/stop markers.</span></span>  
  
-   <span data-ttu-id="f1554-185">Действия, инициируемые получением или обработкой сообщения, представляются границами трассировки.</span><span class="sxs-lookup"><span data-stu-id="f1554-185">Activities triggered by the receipt or processing of a message are represented by trace boundaries.</span></span>  
  
-   <span data-ttu-id="f1554-186">Действия представляют действия, а не обязательно объекты.</span><span class="sxs-lookup"><span data-stu-id="f1554-186">Activities represent activities, not necessarily objects.</span></span> <span data-ttu-id="f1554-187">Действие должно интерпретироваться как «это происходило при.</span><span class="sxs-lookup"><span data-stu-id="f1554-187">An activity should be interpreted as "this was happening when .</span></span> <span data-ttu-id="f1554-188">.</span><span class="sxs-lookup"><span data-stu-id="f1554-188">.</span></span> <span data-ttu-id="f1554-189">.</span><span class="sxs-lookup"><span data-stu-id="f1554-189">.</span></span> <span data-ttu-id="f1554-190">(была создана существенная трассировка)".</span><span class="sxs-lookup"><span data-stu-id="f1554-190">(meaningful trace emission occurred)."</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="f1554-191">См. также</span><span class="sxs-lookup"><span data-stu-id="f1554-191">See Also</span></span>  
 [<span data-ttu-id="f1554-192">Настройка трассировки</span><span class="sxs-lookup"><span data-stu-id="f1554-192">Configuring Tracing</span></span>](../../../../../docs/framework/wcf/diagnostics/tracing/configuring-tracing.md)  
 [<span data-ttu-id="f1554-193">Использование программы Service Trace Viewer для просмотра скоррелированных трассировок и устранения неполадок</span><span class="sxs-lookup"><span data-stu-id="f1554-193">Using Service Trace Viewer for Viewing Correlated Traces and Troubleshooting</span></span>](../../../../../docs/framework/wcf/diagnostics/tracing/using-service-trace-viewer-for-viewing-correlated-traces-and-troubleshooting.md)  
 [<span data-ttu-id="f1554-194">Сценарии сквозной трассировки</span><span class="sxs-lookup"><span data-stu-id="f1554-194">End-To-End Tracing Scenarios</span></span>](../../../../../docs/framework/wcf/diagnostics/tracing/end-to-end-tracing-scenarios.md)  
 [<span data-ttu-id="f1554-195">Средство просмотра трассировки служб (SvcTraceViewer.exe)</span><span class="sxs-lookup"><span data-stu-id="f1554-195">Service Trace Viewer Tool (SvcTraceViewer.exe)</span></span>](../../../../../docs/framework/wcf/service-trace-viewer-tool-svctraceviewer-exe.md)  
 [<span data-ttu-id="f1554-196">Создание трассировки пользовательского кода</span><span class="sxs-lookup"><span data-stu-id="f1554-196">Emitting User-Code Traces</span></span>](../../../../../docs/framework/wcf/diagnostics/tracing/emitting-user-code-traces.md)
