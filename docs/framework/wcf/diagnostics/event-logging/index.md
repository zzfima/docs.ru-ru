---
title: Ведение журнала событий в WCF
ms.date: 03/30/2017
helpviewer_keywords:
- event logging [WCF]
ms.assetid: aac0530d-f44c-45a1-bada-e30e0677b41f
ms.openlocfilehash: ea0e6f3dc66bf40d631077c0dce20ea46f3a6688
ms.sourcegitcommit: 15109844229ade1c6449f48f3834db1b26907824
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/07/2018
---
# <a name="event-logging-in-wcf"></a><span data-ttu-id="6c08d-102">Ведение журнала событий в WCF</span><span class="sxs-lookup"><span data-stu-id="6c08d-102">Event Logging in WCF</span></span>
<span data-ttu-id="6c08d-103">Windows Communication Foundation (WCF) отслеживает внутренние события в журнал событий Windows.</span><span class="sxs-lookup"><span data-stu-id="6c08d-103">Windows Communication Foundation (WCF) traces internal events in the Windows event log.</span></span>  
  
## <a name="viewing-event-logs"></a><span data-ttu-id="6c08d-104">Просмотр журналов событий</span><span class="sxs-lookup"><span data-stu-id="6c08d-104">Viewing Event Logs</span></span>  
 <span data-ttu-id="6c08d-105">Автоматическая запись событий в журнал включена по умолчанию, механизма ее отключения не существует.</span><span class="sxs-lookup"><span data-stu-id="6c08d-105">Event logging is enabled automatically by default, and there is no mechanism to disable it.</span></span> <span data-ttu-id="6c08d-106">События, записанные WCF можно просмотреть с помощью средства просмотра событий.</span><span class="sxs-lookup"><span data-stu-id="6c08d-106">Events logged by WCF can be viewed using the Event Viewer.</span></span> <span data-ttu-id="6c08d-107">Чтобы запустить это средство, нажмите кнопку **запустить**, нажмите кнопку **панели управления**, дважды щелкните **Администрирование**, а затем дважды щелкните **просмотра событий**.</span><span class="sxs-lookup"><span data-stu-id="6c08d-107">To launch this tool, click **Start**, click **Control Panel**, double-click **Administrative Tools**, and then double-click **Event Viewer**.</span></span>  
  
### <a name="application-event-log"></a><span data-ttu-id="6c08d-108">Журнал событий приложений</span><span class="sxs-lookup"><span data-stu-id="6c08d-108">Application Event Log</span></span>  
 <span data-ttu-id="6c08d-109">**Журнал событий приложений** содержит основные события, формируемые WCF.</span><span class="sxs-lookup"><span data-stu-id="6c08d-109">The **Application Event Log** contains most of the events generated by WCF.</span></span> <span data-ttu-id="6c08d-110">В большинстве записей указаны сбои при запуске определенных возможностей какого-либо приложения.</span><span class="sxs-lookup"><span data-stu-id="6c08d-110">Most of the entries indicate that a particular feature failed to start up for an application.</span></span> <span data-ttu-id="6c08d-111">Примеры:</span><span class="sxs-lookup"><span data-stu-id="6c08d-111">Examples include:</span></span>  
  
-   <span data-ttu-id="6c08d-112">Трассировка и ведение журнала сообщений: WCF записывает событие в журнал событий при сбое трассировки и ведения журнала сообщений.</span><span class="sxs-lookup"><span data-stu-id="6c08d-112">Message Logging/tracing: WCF writes an event to the event log when trace and message logging fails.</span></span> <span data-ttu-id="6c08d-113">Однако не при каждом сбое трассировки возникает событие.</span><span class="sxs-lookup"><span data-stu-id="6c08d-113">However, not every trace failure triggers an event.</span></span> <span data-ttu-id="6c08d-114">Чтобы предотвратить журнал событий полностью заполненный сбоями трассировки, WCF реализует 10 минутный период отключения для такого события.</span><span class="sxs-lookup"><span data-stu-id="6c08d-114">To prevent the event log from being completely filled with traces failures, WCF implements a 10 minute blackout period for such an event.</span></span> <span data-ttu-id="6c08d-115">Это означает, что если WCF записывает сбой трассировки в журнал событий, не будут, и опять же в течение 10 минут.</span><span class="sxs-lookup"><span data-stu-id="6c08d-115">This means that if WCF writes a trace failure to the event log, it will not do so again for at least 10 minutes.</span></span>  
  
-   <span data-ttu-id="6c08d-116">Общий прослушиватель: служба совместного использования портов WCF TCP вносит событие в журнал в случае сбоя при ее запуске.</span><span class="sxs-lookup"><span data-stu-id="6c08d-116">Shared Listener: The WCF TCP Port Sharing Service logs an event when it fails to start.</span></span>  
  
-   [!INCLUDE[infocard](../../../../../includes/infocard-md.md)]<span data-ttu-id="6c08d-117">: вносит события в журнал в случае сбоя при запуске службы.</span><span class="sxs-lookup"><span data-stu-id="6c08d-117">: Logs events when the service fails to start.</span></span>  
  
-   <span data-ttu-id="6c08d-118">Критические события и события ошибок, например сбои при запуске или сбои системы</span><span class="sxs-lookup"><span data-stu-id="6c08d-118">Critical and error events, such as startup failures or crashes</span></span>  
  
-   <span data-ttu-id="6c08d-119">Ведение журнала сообщений включено: события вносятся в журнал, когда ведение журнала событий включено.</span><span class="sxs-lookup"><span data-stu-id="6c08d-119">Message logging turned on: Logs events when message logging is turned on.</span></span> <span data-ttu-id="6c08d-120">Это делается для оповещения администратора о том, что конфиденциальная информация, относящаяся к приложению, может быть внесена в журнал в заголовках и телах сообщений.</span><span class="sxs-lookup"><span data-stu-id="6c08d-120">This is to notify the administrator that sensitive, application-specific information may be logged in message headers and bodies.</span></span>  
  
-   <span data-ttu-id="6c08d-121">Событие вносится в журнал, когда задан атрибут `enableLoggingKnownPII` в элементе `machineSettings` файла `machine.config`.</span><span class="sxs-lookup"><span data-stu-id="6c08d-121">An event is logged when the `enableLoggingKnownPII` attribute in the `machineSettings` element of the `machine.config` file is set.</span></span> <span data-ttu-id="6c08d-122">Этот атрибут задает, разрешено ли какому-либо приложению, выполняющемуся на компьютере, вносить в журнал личную информацию (PII).</span><span class="sxs-lookup"><span data-stu-id="6c08d-122">This attribute specifies if any application running on the machine is permitted to log known personally identifiable information (PII).</span></span>  
  
-   <span data-ttu-id="6c08d-123">Если атрибут `logKnownPii` в файле `app.config` или `web.config` задан как `true` для определенного приложения, чтобы включить ведение журнала PII, а атрибут `enableLoggingKnownPII` в элементе `machineSettings` файла `machine.config` задан как `false`, событие вносится в журнал.</span><span class="sxs-lookup"><span data-stu-id="6c08d-123">If the `logKnownPii` attribute in either the `app.config` or `web.config` file is set to `true` for a specific application to turn on PII logging, but the `enableLoggingKnownPII` attribute in the `machineSettings` element of the `machine.config` file is set to `false`, an event is logged.</span></span> <span data-ttu-id="6c08d-124">Кроме того, если оба атрибута `logKnownPii` и `enableLoggingKnownPII` заданы как `true`, событие вносится в журнал.</span><span class="sxs-lookup"><span data-stu-id="6c08d-124">In addition, if both `logKnownPii` and `enableLoggingKnownPII` are set to `true`, and event is logged.</span></span> <span data-ttu-id="6c08d-125">Дополнительные сведения об этих параметрах конфигурации см. в разделе «Безопасность» [Настройка ведения журнала сообщений](../../../../../docs/framework/wcf/diagnostics/configuring-message-logging.md) раздела.</span><span class="sxs-lookup"><span data-stu-id="6c08d-125">For more information on these configuration settings, see the Security section of the [Configuring Message Logging](../../../../../docs/framework/wcf/diagnostics/configuring-message-logging.md) topic.</span></span>  
  
### <a name="security-event-log"></a><span data-ttu-id="6c08d-126">Журнал событий безопасности</span><span class="sxs-lookup"><span data-stu-id="6c08d-126">Security Event Log</span></span>  
 <span data-ttu-id="6c08d-127">**Журнал событий безопасности** содержит события аудита безопасности, регистрируемые WCF.</span><span class="sxs-lookup"><span data-stu-id="6c08d-127">The **Security Event Log** contains security audit events that are logged by WCF.</span></span>  
  
### <a name="system-event-log"></a><span data-ttu-id="6c08d-128">Журнал системных событий</span><span class="sxs-lookup"><span data-stu-id="6c08d-128">System Event Log</span></span>  
 <span data-ttu-id="6c08d-129">WCF не регистрирует никаких действий в **журнал системных событий**.</span><span class="sxs-lookup"><span data-stu-id="6c08d-129">WCF does not log anything in the **System Event Log**.</span></span>  
  
### <a name="event-log-entries"></a><span data-ttu-id="6c08d-130">Записи журнала событий</span><span class="sxs-lookup"><span data-stu-id="6c08d-130">Event Log Entries</span></span>  
 <span data-ttu-id="6c08d-131">**Источник** события является имя сборки, которая приводит к возникновению ошибки в записях журнала.</span><span class="sxs-lookup"><span data-stu-id="6c08d-131">The **source** of an event is the name of the assembly that generates the log entry.</span></span>  
  
 <span data-ttu-id="6c08d-132">Тип записи в журнале событий используется для указания важности события.</span><span class="sxs-lookup"><span data-stu-id="6c08d-132">The type of an event log entry is used to indicate the severity of an event.</span></span> <span data-ttu-id="6c08d-133">Каждое событие должно относиться к одному типу, определяемому приложением при записи этого события.</span><span class="sxs-lookup"><span data-stu-id="6c08d-133">Each event must be of a single type, which the application indicates when it reports the event.</span></span> <span data-ttu-id="6c08d-134">Средство "Просмотр событий" использует этот тип для определения значка, отображаемого в представлении списка журнала событий.</span><span class="sxs-lookup"><span data-stu-id="6c08d-134">The Event Viewer uses this type to determine which icon to display in the list view of the log.</span></span> <span data-ttu-id="6c08d-135">Описание разных типов записей в журнале событий см. в <xref:System.Diagnostics.EventLogEntryType>.</span><span class="sxs-lookup"><span data-stu-id="6c08d-135">For the different event type of an event log entry, see <xref:System.Diagnostics.EventLogEntryType>.</span></span>  
  
 <span data-ttu-id="6c08d-136">При нажатии кнопки «подробнее» при просмотре события в средстве просмотра событий, средство просмотра событий может отправить информацию через Интернет.</span><span class="sxs-lookup"><span data-stu-id="6c08d-136">When you click "more information" when viewing an event in the Event Viewer, the Event Viewer may send information across the Internet.</span></span> <span data-ttu-id="6c08d-137">Дополнительные сведения см. в справке по средству "Просмотр событий".</span><span class="sxs-lookup"><span data-stu-id="6c08d-137">For more information, see the Event Viewer help.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="6c08d-138">См. также</span><span class="sxs-lookup"><span data-stu-id="6c08d-138">See Also</span></span>  
 [<span data-ttu-id="6c08d-139">Администрирование и диагностика</span><span class="sxs-lookup"><span data-stu-id="6c08d-139">Administration and Diagnostics</span></span>](../../../../../docs/framework/wcf/diagnostics/index.md)  
 [<span data-ttu-id="6c08d-140">Общие справочные сведения о событиях</span><span class="sxs-lookup"><span data-stu-id="6c08d-140">Events General Reference</span></span>](../../../../../docs/framework/wcf/diagnostics/event-logging/events-general-reference.md)
