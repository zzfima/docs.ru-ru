---
title: Инструкции по настройке виртуальных каталогов
ms.date: 03/30/2017
ms.assetid: 3c62cab5-81a4-48b6-ac8c-9ce33a85a157
ms.openlocfilehash: 6dccc5174e3fb9ab67023310d8c060d598a707c9
ms.sourcegitcommit: 581ab03291e91983459e56e40ea8d97b5189227e
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/27/2019
ms.locfileid: "70038650"
---
# <a name="virtual-directory-setup-instructions"></a>Инструкции по настройке виртуальных каталогов
Примеры Windows Communication Foundation (WCF) предназначены для совместного использования общего виртуального каталога с именем servicemodelsamples, сопоставленного с папкой%SystemDrive%\inetpub\wwwroot\servicemodelsamples.  
  
> [!NOTE]
> Переменная %SystemDrive% обычно имеет значение C: или D: в зависимости от того, на каком диске установлены службы IIS.  
  
 Вы можете запустить файлы Setupvroot. bat и Клеанупврут. bat из [процедуры однократной установки,](../../../../docs/framework/wcf/samples/one-time-setup-procedure-for-the-wcf-samples.md) чтобы создать виртуальный каталог с помощью примеров Windows Communication Foundation. Если требуется создать виртуальный каталог вручную, воспользуйтесь следующими процедурами.  
  
## <a name="procedures"></a>Процедуры  
  
#### <a name="to-create-a-virtual-directory-in-iis-70-or-75"></a>Создание виртуального каталога в IIS 7,0 или 7,5  
  
1. В меню **Пуск** выберите пункт **выполнить**, а затем введите **inetmgr** , чтобы открыть оснастку MMC службы IIS (IIS).  
  
2. В левой области разверните узел с именем компьютера, а затем разверните узел **сайты** .  
  
3. Щелкните правой кнопкой мыши **веб-сайт по умолчанию**и выберите пункт **Добавить приложение** , чтобы открыть **окно Добавление приложения**.  
  
4. В окне введите `servicemodelsamples` псевдоним создаваемого виртуального каталога.  
  
5. Создайте следующий каталог: %SystemDrive%\inetpub\wwwroot\servicemodelsamples  
  
6. Укажите путь к физическому каталогу %SystemDrive%\inetpub\wwwroot\servicemodelsamples.  Большинство образцов WCF при построении копируют исполняемые файлы службы именно в этот каталог.  
  
7. Нажмите кнопку **ОК**. Веб-приложение для образцов WCF создано.  
  
    > [!NOTE]
    > Эту задачу необходимо выполнить только один раз, так как все примеры WCF используют одно и то же веб-приложение servicemodelsamples.  
  
    > [!NOTE]
    > В этой документации термины `virtual directory` и `Web application` являются синонимами.  
  
     Кроме создания виртуального каталога, необходимо также задать его свойства, чтобы разрешить выполнение служб WCF. Дополнительные сведения см. далее.  
  
#### <a name="to-create-a-virtual-directory-in-iis-51-or-60"></a>Создание виртуального каталога в IIS 5.1 и 6.0  
  
1. Откройте окно командной строки и введите `start inetmgr` , чтобы открыть оснастку MMC службы IIS (IIS).  
  
2. В левой области разверните узел с именем компьютера, а затем разверните узел **веб-сайты** .  
  
3. Щелкните правой кнопкой мыши **веб-сайт по умолчанию** и выберите **создать, виртуальный каталог,** чтобы открыть мастер создания виртуального каталога.  
  
4. В мастере введите `servicemodelsamples` в качестве псевдонима создаваемого виртуального каталога.  
  
5. Укажите путь к каталогу %SystemDrive%\inetpub\wwwroot\servicemodelsamples. Большинство образцов WCF при построении копируют исполняемые файлы службы именно в этот каталог.  
  
6. Нажмите кнопку **Далее**.  
  
7. По умолчанию устанавливаются следующие флажки:  
  
    - **чтение**  
  
    - **Выполнение скриптов (например, ASP)**  
  
8. Нажмите кнопку **Далее**, а затем кнопку **Готово** , чтобы завершить работу мастера.  
  
    > [!NOTE]
    > Эту задачу необходимо выполнить только один раз, так как все примеры WCF используют один и тот же виртуальный каталог servicemodelsamples.  
  
#### <a name="to-set-additional-virtual-directory-properties-in-iis-70-or-75"></a>Установка дополнительных свойств виртуального каталога в IIS 7,0 или 7,5  
  
1. Щелкните узел servicemodelsamples. В нижней части окна будет указано два представления. Выберите **представление функций** , если оно еще не выбрано.  
  
2. Дважды щелкните запись для **обзора каталогов**.  
  
3. На панели действия выберите параметр **включить** . Это позволит обращаться к каталогу каталога с помощью веб-обозревателя Internet Explorer, что упростит отладку службы.  
  
 Наконец необходимо задать свойства безопасности папки servicemodelsamples, чтобы другие пользователи могли получать доступ к ней. Дополнительные сведения см. далее.  
  
#### <a name="to-set-additional-virtual-directory-properties-in-iis-51-or-60"></a>Задание дополнительных свойств виртуального каталога в IIS 5.1 и 6.0  
  
1. Щелкните правой кнопкой мыши узел servicemodelsamples и выберите пункт **Свойства**.  
  
2. По умолчанию устанавливаются следующие флажки:  
  
    - **чтение**  
  
    - **Посещения журнала**  
  
    - **Индексировать этот ресурс**  
  
3. Установите флажок **Просмотр каталогов** . Это позволит обращаться к каталогу каталога с помощью веб-обозревателя Internet Explorer, что упростит отладку службы.  
  
#### <a name="to-set-security-properties-of-the-folder-in-iis-70-or-75"></a>Установка свойств безопасности папки в IIS 7,0 или 7,5  
  
1. Перейдите к каталогу %SystemDrive%\inetpub\wwwroot\servicemodelsamples.  
  
2. Щелкните правой кнопкой мыши папку servicemodelsamples и выберите команду **поделиться** или **поделиться с**.  
  
3. Щелкните стрелку вниз слева от кнопки **Добавить** .  
  
4. Выберите запись **поиска** . Откроется окно **Выбор пользователей или групп** .  
  
5. Нажмите кнопку **Дополнительно**.  
  
6. Щелкните **расположения**. Откроется окно " **расположения** ".  
  
7. Выберите запись, соответствующую используемому компьютеру. Важно выбрать локальный компьютер, а не запись, соответствующую всем перечисленным доменам и сетям. Выбрав компьютер, нажмите кнопку **ОК**.  
  
8. Нажмите кнопку **найти**. В результатах поиска появятся объекты, связанные с локальным компьютером.  
  
9. Найдите запись **IIS_IUSRS** в столбце **имя (относительное различающееся имя)** . Выберите эту запись и нажмите кнопку **ОК** , чтобы закрыть окно Результаты поиска.  
  
10. Нажмите кнопку **ОК** , чтобы закрыть окно **Выбор пользователей или групп** .  
  
11. Нажмите кнопку **общий доступ** , чтобы сохранить изменения.  
  
12. После внесения изменений для включения общего доступа нажмите кнопку **Готово** , чтобы закрыть окно **общего доступа к файлам** .  
  
#### <a name="to-set-security-properties-of-the-folder-in-iis-51-or-60"></a>Задание свойств безопасности папки в IIS 5.1 и 6.0  
  
1. Перейдите к каталогу %SystemDrive%\inetpub\wwwroot\servicemodelsamples.  
  
2. Щелкните правой кнопкой мыши папку **servicemodelsamples** и выберите пункт **общий доступ и безопасность.**  
  
3. Перейдите на вкладку **Безопасность** .  
  
4. Если вы используете IIS 6,0, в поле **группы или пользователи** проверьте, указана ли **учетная запись гостя в Интернете** .  
  
     Если эта учетная запись отсутствует, выполните следующие действия.  
  
    1. Нажмите кнопку **Пуск**, затем щелкните **Панель управления**.  
  
    2. Если значок **учетные записи пользователей** не отображается, щелкните Переключиться **в представление категорий**.  
  
    3. Щелкните значок **учетные записи пользователей** .  
  
    4. В разделе "или выберите значок панели управления" щелкните **учетные записи пользователей**.  
  
    5. В диалоговом окне **учетные записи пользователей** перейдите на вкладку **Дополнительно** .  
  
    6. Нажмите кнопку **Дополнительно**.  
  
    7. В диалоговом окне **Локальные пользователи и группы** щелкните, чтобы развернуть папку **Пользователи** .  
  
    8. В области справа дважды щелкните **Гостевая учетная запись Интернета**.  
  
    9. В диалоговом окне **Свойства** скопируйте имя, используемое в качестве гостевой учетной записи Интернета. По умолчанию имя состоит из префикса «USR_» и имени компьютера.  
  
    10. Закройте диалоговое окно **Свойства** .  
  
    11. Закройте диалоговое окно **Локальные пользователи и группы** .  
  
    12. Закройте диалоговое окно **учетные записи пользователей** .  
  
    13. Закройте диалоговое окно другие **учетные записи пользователей** .  
  
    14. В диалоговом окне **Свойства servicemodelsamples** на вкладке **Безопасность** нажмите кнопку **добавить**.  
  
    15. Введите имя компьютера, а затем обратную косую черту, а затем вставьте имя учетной записи пользователя Интернета, например мимачиненаме\\% интернетгуестаккаунтнаме%.  
  
    16. Щелкните **Проверить имена** , чтобы проверить добавление. Если оно допустимо, то будет выделено подчеркиванием и прописными буквами.  
  
5. Для IIS 6,0 также убедитесь, что СЕТЕВая служба указана в поле **группы или пользователи** .  
  
     Если учетная запись NETWORK SERVICE отсутствует, выполните следующие действия.  
  
    1. Нажмите кнопку **Добавить**.  
  
    2. В диалоговом окне **Выбор пользователей или групп** введите имя компьютера, а затем обратную косую черту.  
  
    3. Введите **Служба** после обратной косой черты (без пробела).  
  
    4. Нажмите кнопку **Проверить имена**.  
  
    5. Если найдено несколько имен, выберите **Сетевая служба** и нажмите кнопку **ОК**.  
  
    6. Нажмите кнопку **ОК** , чтобы закрыть диалоговое окно **Выбор пользователей или групп** .  
  
6. Если вы используете Windows XP с пакетом обновления 2 (SP2) с IIS 5,1, убедитесь, что в поле **имена групп или пользователей** указаны и учетная запись гостя в Интернете, и имя ASPNET.  
  
     Обратите внимание, что пользователь ASPNET может быть членом встроенной группы безопасности **Пользователи** . Если да, то если группа **Пользователи** указана в диалоговом окне, вам не нужно добавлять ее в качестве отдельного элемента в список разрешенных пользователей.  
  
     Чтобы проверить, является ли ASPNET членом группы безопасности " **Пользователи** ", сделайте следующее:  
  
    1. В меню **Пуск** выберите пункт **Панель управления**.  
  
    2. Щелкните значок **учетные записи пользователей** .  
  
    3. В столбце **Группа** убедитесь, что для **ASPNET** задано значение "Пользователи".  
  
## <a name="see-also"></a>См. также

- [Инструкции по размещению в службах IIS](../../../../docs/framework/wcf/samples/internet-information-service-hosting-instructions.md)
