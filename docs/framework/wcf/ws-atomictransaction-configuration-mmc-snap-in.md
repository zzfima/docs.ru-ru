---
title: Оснастка консоли MMC для конфигурации WS-AtomicTransaction
ms.date: 03/30/2017
ms.assetid: 23592973-1d51-44cc-b887-bf8b0d801e9e
ms.openlocfilehash: 9b6c7ecf112309b6c10414bfe506559e153911c2
ms.sourcegitcommit: 7088f87e9a7da144266135f4b2397e611cf0a228
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/11/2020
ms.locfileid: "75900726"
---
# <a name="ws-atomictransaction-configuration-mmc-snap-in"></a>Оснастка MMC для настройки WS-AtomicTransaction

Оснастка MMC "Настройка WS-AtomicTransaction" используется для настройки части параметров WS-AtomicTransaction как на локальном, так и на удаленном компьютерах.

## <a name="remarks"></a>Заметки

Если вы используете [!INCLUDE[wxp](../../../includes/wxp-md.md)] или Windows Server 2003, оснастку MMC можно найти, перейдя к **панели управления/Администрирование/службы компонентов/** , щелкнув правой кнопкой мыши **Мой компьютер**и выбрав пункт **Свойства**. В этом же расположении можно настроить координатор MSDTC. Параметры, доступные для конфигурации, группируются на вкладке **WS-AT** .

 Если вы используете Windows Vista или Windows Server 2008, то оснастку MMC можно найти, нажав кнопку **Пуск** и введя в поле **поиска** `dcomcnfg.exe`. Когда откроется консоль MMC, перейдите к узлу **Мои Компутер\дистрибутед Transaction КУРДИНАТОР\ЛОКАЛ DTC** , щелкните правой кнопкой мыши и выберите пункт **свойства**. Параметры, доступные для конфигурации, группируются на вкладке **WS-AT** .

 Предыдущие шаги используются, чтобы запустить оснастку для настройки локального компьютера. Если вы хотите настроить удаленный компьютер, вы должны определить имя удаленного компьютера в **панели управления/Администрирование/службы компонентов/** и выполнить аналогичные действия, если вы используете [!INCLUDE[wxp](../../../includes/wxp-md.md)] или Windows Server 2003. Если вы используете Windows Vista или Windows Server 2008, выполните описанные выше действия для Vista и Windows Server 2008, но используйте узел **Распределенная транзакция КУРДИНАТОР\ЛОКАЛ DTC** на узле удаленного компьютера.

 Для работы с пользовательским интерфейсом, предоставляемым средством, необходимо зарегистрировать файл WsatUI.dll. Путь к этому файлу:

 **%PROGRAMFILES%\Microsoft SDKs\Windows\v6.0\Bin\WsatUI.dll**

 Регистрацию можно выполнить с помощью следующей команды.

```console
regasm.exe /codebase WsatUI.dll
```

 Это средство можно использовать для изменения основных параметров WS-AtomicTransaction. Например, можно включить или отключить поддержку протокола WS-AtomicTransaction, настроить HTTP-порты для WS-AT, привязать SSL-сертификат к HTTP-порту, настроить сертификаты путем указания имен субъектов сертификатов, выбрать режим трассировки и задать значения времени ожидания (по умолчанию и максимальное).

 Если необходимо настроить поддержку WS-AtomicTransaction только на локальном компьютере, можно использовать версию этого средства из командной строки. Дополнительные сведения о программе командной строки см. в разделе [служебная программа настройки WS-AtomicTransaction (WsatConfig. exe)](ws-atomictransaction-configuration-utility-wsatconfig-exe.md) .

 Следует иметь в виду, что оснастка консоли MMC и программа командной строки не поддерживают настройку всех параметров WS-AT. Некоторые параметры можно изменять только путем непосредственного редактирования реестра. Дополнительные сведения об этих параметрах реестра см. в разделе [Настройка поддержки транзакций WS-Atomic](./feature-details/configuring-ws-atomic-transaction-support.md).

### <a name="user-interface-description"></a>Описание пользовательского интерфейса

**Включить поддержку сети WS-Atomic Transaction**:

 Этот флажок позволяет включить или отключить все компоненты графического пользовательского интерфейса данной оснастки.

 Перед установкой этого флажка убедитесь, что сетевой доступ DTC включен с входящей или исходящей связью либо с обоими типами связи. Это значение можно проверить на вкладке **Безопасность** оснастки MSDTC.

#### <a name="network-group-box"></a>Группа "Сеть"

Также можно задать HTTPS-порт и дополнительные параметры безопасности, например SSL-шифрование, в группе "Сеть". Эта группа отключена (отображается серым цветом), если отключены сетевые транзакции DTC.

 **HTTPS, порт**

 Это номер HTTPS-порта, используемого для WS-AT. Номер порта должен быть целым числом из диапазона 1–65535 (чтобы представлять допустимый порт). Изменение HTTP-порта приводит к изменению конфигурации службы HTTP; это означает, что ранее использовавшийся адрес службы WS-AT удаляется и регистрируется новый адрес службы WS-AT на основе нового порта. Кроме того, вновь выбранный порт шифруется с помощью выбранного в данный момент сертификата для SSL-шифрования.

> [!NOTE]
> Если брандмауэр был включен перед запуском данного средства, порт автоматически регистрируется в списке исключений. Если брандмауэр был отключен перед запуском данного средства, никакой дополнительной настройки относительно брандмауэра не выполняется.

 В случае включения брандмауэра после настройки WS-AT необходимо повторно запустить данное средство и указать номер порта с помощью этого параметра. В случае отключения брандмауэра после настройки WS-AT продолжает работу без ввода дополнительных данных.

 **Сертификат конечной точки**

 При нажатии кнопки **выбрать** отображается список с доступными в настоящее время сертификатами на локальном компьютере, что позволяет пользователю выбрать сертификат, который можно использовать для шифрования SSL. Сертификаты должны иметь закрытый ключ. В противном случае отображается сообщение об ошибке.

> [!NOTE]
> При задании SSL-сертификата для выбранного порта выполняется перезапись исходного SSL-сертификата (если он существует), связанного с этим портом.

 **Полномочные учетные записи**

 Нажатие кнопки " **выбрать** " вызывает редактор списка управления доступом Windows, где можно указать пользователя или группу, которые могут участвовать в транзакциях WS-Atomic, установив флажок " **Разрешить** " или " **запретить** " в группе разрешений " **участие** ".

 **Полномочные сертификаты**

 При нажатии кнопки **выбрать** отображается список доступных сертификатов в хранилище LocalMachine. После этого можно выбрать сертификаты, которым разрешено участвовать в транзакциях WS-Atomic.

#### <a name="timeout-group-box"></a>Группа "Время ожидания"

Поле Группа **времени ожидания** позволяет указать значение по умолчанию и максимальное время ожидания для транзакции WS-Atomic. Допустимое значение для исходящего времени ожидания составляет от 1 до 3600. Допустимое значение для входящего времени ожидания составляет от 0 до 3600.

#### <a name="tracing-and-logging-group-box"></a>Группа "Трассировка и регистрация"

Поле Группа **трассировки и ведения журнала** позволяет настроить требуемый уровень трассировки и ведения журнала.

 При нажатии кнопки **Параметры** вызывается страница, на которой можно указать дополнительные параметры.

 Поле «комбинация **уровней трассировки** » позволяет выбрать любое допустимое значение перечисления <xref:System.Diagnostics.TraceLevel>. Кроме того, можно использовать флажки, чтобы указать необходимость трассировки действий, распространения действий или сбора персональных данных.

 Сеансы ведения журнала также можно указать в поле Группа **сеансов ведения журнала** .

> [!NOTE]
> Новый сеанс ведения журнала для событий трассировки невозможно создать, если поставщик трассировки WS-AT используется другим потребителем трассировки. Любая попытка настроить ведение журнала в течение этого времени приводит к отображению следующего сообщения об ошибке: "Не удалось активировать поставщик. Код ошибки: 1".

 Дополнительные сведения о трассировке и ведении журнала см. в разделе [Администрирование и диагностика](./diagnostics/index.md).

## <a name="see-also"></a>См. также:

- [Настройка поддержки транзакций WS-Atomic](./feature-details/configuring-ws-atomic-transaction-support.md)
- [Служебная программа конфигурации WS-AtomicTransaction (wsatConfig.exe)](ws-atomictransaction-configuration-utility-wsatconfig-exe.md)
- [Администрирование и диагностика](./diagnostics/index.md)
