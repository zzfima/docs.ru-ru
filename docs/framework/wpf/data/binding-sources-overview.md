---
title: "Общие сведения об источниках привязки"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- binding data [WPF], binding sources
- data binding [WPF], binding source
- binding sources [WPF]
ms.assetid: 2df2cd11-6aac-4bdf-ab7b-ea5f464cd5ca
caps.latest.revision: "25"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 6b603599232a5cb4d33e2b7c9ad00e7ab3a24649
ms.sourcegitcommit: 91691981897cf8451033cb01071d8f5d94017f97
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/09/2018
---
# <a name="binding-sources-overview"></a><span data-ttu-id="ab9fa-102">Общие сведения об источниках привязки</span><span class="sxs-lookup"><span data-stu-id="ab9fa-102">Binding Sources Overview</span></span>
<span data-ttu-id="ab9fa-103">В привязке данных объект источника привязки (источник) ссылается на объект, из которого вы получаете данные.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-103">In data binding, the binding source object refers to the object you obtain data from.</span></span> <span data-ttu-id="ab9fa-104">В этом разделе рассматриваются типы объектов, которые можно использовать в качестве источника привязки.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-104">This topic discusses the types of objects you can use as the binding source.</span></span>  
  
  
  
<a name="binding_sources"></a>   
## <a name="binding-source-types"></a><span data-ttu-id="ab9fa-105">Типы источников привязки</span><span class="sxs-lookup"><span data-stu-id="ab9fa-105">Binding Source Types</span></span>  
 <span data-ttu-id="ab9fa-106">Привязка данных [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] поддерживает указанные далее типы источников привязки.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-106">[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] data binding supports the following binding source types:</span></span>  
  
|<span data-ttu-id="ab9fa-107">Источник привязки</span><span class="sxs-lookup"><span data-stu-id="ab9fa-107">Binding Source</span></span>|<span data-ttu-id="ab9fa-108">Описание:</span><span class="sxs-lookup"><span data-stu-id="ab9fa-108">Description</span></span>|  
|--------------------|-----------------|  
|<span data-ttu-id="ab9fa-109">Объекты [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ab9fa-109">[!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] objects</span></span>|<span data-ttu-id="ab9fa-110">Можно осуществить привязку к открытым свойствам, подсвойствам, а также индексаторам любого объекта [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ab9fa-110">You can bind to public properties, sub-properties, as well as indexers, of any [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] object.</span></span> <span data-ttu-id="ab9fa-111">Обработчик привязки использует отражение [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] для получения значений свойств.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-111">The binding engine uses [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] reflection to get the values of the properties.</span></span> <span data-ttu-id="ab9fa-112">Кроме того, объекты, реализующие <xref:System.ComponentModel.ICustomTypeDescriptor> или имеют зарегистрированные <xref:System.ComponentModel.TypeDescriptionProvider> также работают с обработчиком привязки.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-112">Alternatively, objects that implement <xref:System.ComponentModel.ICustomTypeDescriptor> or have a registered <xref:System.ComponentModel.TypeDescriptionProvider> also work with the binding engine.</span></span><br /><br /> <span data-ttu-id="ab9fa-113">Дополнительные сведения о том, как реализовать класс, который можно использовать в качестве источника привязки, см. в разделе [Использование класса в качестве источника привязки](#classes).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-113">For more information about how to implement a class that can serve as a binding source, see [Implementing a Class for the Binding Source](#classes) later in this topic.</span></span>|  
|<span data-ttu-id="ab9fa-114">динамические объекты</span><span class="sxs-lookup"><span data-stu-id="ab9fa-114">dynamic objects</span></span>|<span data-ttu-id="ab9fa-115">Можно привязать к доступные свойства и индексаторы объект, реализующий интерфейс <xref:System.Dynamic.IDynamicMetaObjectProvider> интерфейс.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-115">You can bind to available properties and indexers of an object that implements the <xref:System.Dynamic.IDynamicMetaObjectProvider> interface.</span></span> <span data-ttu-id="ab9fa-116">Если можно обратиться к члену кода, к нему можно выполнить привязку.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-116">If you can access the member in code, you can bind to it.</span></span> <span data-ttu-id="ab9fa-117">Например, если динамический объект позволяет получить доступ к члену в коде с помощью `someObjet.AProperty`, к нему можно выполнить привязку, задав в качестве пути привязки `AProperty`.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-117">For example, if a dynamic object enables you to access a member in code via `someObjet.AProperty`, you can bind to it by setting the binding path to `AProperty`.</span></span>|  
|<span data-ttu-id="ab9fa-118">Объекты [!INCLUDE[TLA#tla_adonet](../../../../includes/tlasharptla-adonet-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ab9fa-118">[!INCLUDE[TLA#tla_adonet](../../../../includes/tlasharptla-adonet-md.md)] objects</span></span>|<span data-ttu-id="ab9fa-119">Можно привязать к [!INCLUDE[TLA2#tla_adonet](../../../../includes/tla2sharptla-adonet-md.md)] объекты, такие как <xref:System.Data.DataTable>.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-119">You can bind to [!INCLUDE[TLA2#tla_adonet](../../../../includes/tla2sharptla-adonet-md.md)] objects, such as <xref:System.Data.DataTable>.</span></span> <span data-ttu-id="ab9fa-120">[!INCLUDE[TLA2#tla_adonet](../../../../includes/tla2sharptla-adonet-md.md)] <xref:System.Data.DataView> Реализует <xref:System.ComponentModel.IBindingList> интерфейс, который предоставляет уведомления об изменениях, которые механизм привязки прослушивает.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-120">The [!INCLUDE[TLA2#tla_adonet](../../../../includes/tla2sharptla-adonet-md.md)] <xref:System.Data.DataView> implements the <xref:System.ComponentModel.IBindingList> interface, which provides change notifications that the binding engine listens for.</span></span>|  
|<span data-ttu-id="ab9fa-121">Объекты [!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)].</span><span class="sxs-lookup"><span data-stu-id="ab9fa-121">[!INCLUDE[TLA#tla_xml](../../../../includes/tlasharptla-xml-md.md)] objects</span></span>|<span data-ttu-id="ab9fa-122">Можно привязать к и запустить `XPath` запросы на <xref:System.Xml.XmlNode>, <xref:System.Xml.XmlDocument>, или <xref:System.Xml.XmlElement>.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-122">You can bind to and run `XPath` queries on an <xref:System.Xml.XmlNode>, <xref:System.Xml.XmlDocument>, or <xref:System.Xml.XmlElement>.</span></span> <span data-ttu-id="ab9fa-123">Удобный способ доступа к [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] данных, являющийся источником привязки в разметке заключается в использовании <xref:System.Windows.Data.XmlDataProvider> объекта.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-123">A convenient way to access [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] data that is the binding source in markup is to use an <xref:System.Windows.Data.XmlDataProvider> object.</span></span> <span data-ttu-id="ab9fa-124">Дополнительные сведения см. в разделе [Привязка к XML-данным с помощью XMLDataProvider и запросов XPath](../../../../docs/framework/wpf/data/how-to-bind-to-xml-data-using-an-xmldataprovider-and-xpath-queries.md).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-124">For more information, see [Bind to XML Data Using an XMLDataProvider and XPath Queries](../../../../docs/framework/wpf/data/how-to-bind-to-xml-data-using-an-xmldataprovider-and-xpath-queries.md).</span></span><br /><br /> <span data-ttu-id="ab9fa-125">Также можно привязать к <xref:System.Xml.Linq.XElement> или <xref:System.Xml.Linq.XDocument>, или выполнить привязку для результатов запросов, выполняемых для объектов этих типов с помощью LINQ to XML.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-125">You can also bind to an <xref:System.Xml.Linq.XElement> or <xref:System.Xml.Linq.XDocument>, or bind to the results of queries run on objects of these types by using LINQ to XML.</span></span> <span data-ttu-id="ab9fa-126">Удобный способ использования LINQ to XML для доступа к данным XML, который является источником привязки в разметке, — использовать <xref:System.Windows.Data.ObjectDataProvider> объекта.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-126">A convenient way to use LINQ to XML to access XML data that is the binding source in markup is to use an <xref:System.Windows.Data.ObjectDataProvider> object.</span></span> <span data-ttu-id="ab9fa-127">Дополнительные сведения см. в разделе [Привязка к XDocument, XElement или LINQ для результатов запросов XML](../../../../docs/framework/wpf/data/how-to-bind-to-xdocument-xelement-or-linq-for-xml-query-results.md).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-127">For more information, see [Bind to XDocument, XElement, or LINQ for XML Query Results](../../../../docs/framework/wpf/data/how-to-bind-to-xdocument-xelement-or-linq-for-xml-query-results.md).</span></span>|  
|<span data-ttu-id="ab9fa-128">Объекты <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-128"><xref:System.Windows.DependencyObject> objects</span></span>|<span data-ttu-id="ab9fa-129">Можно привязать к свойствам зависимостей любых <xref:System.Windows.DependencyObject>.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-129">You can bind to dependency properties of any <xref:System.Windows.DependencyObject>.</span></span> <span data-ttu-id="ab9fa-130">Пример см. в разделе [Как привязать свойства двух элементов управления](../../../../docs/framework/wpf/data/how-to-bind-the-properties-of-two-controls.md).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-130">For an example, see [Bind the Properties of Two Controls](../../../../docs/framework/wpf/data/how-to-bind-the-properties-of-two-controls.md).</span></span>|  
  
<a name="classes"></a>   
## <a name="implementing-a-class-for-the-binding-source"></a><span data-ttu-id="ab9fa-131">Использование класса в качестве источника привязки</span><span class="sxs-lookup"><span data-stu-id="ab9fa-131">Implementing a Class for the Binding Source</span></span>  
 <span data-ttu-id="ab9fa-132">Можно создать собственную привязку.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-132">You can create your own binding sources.</span></span> <span data-ttu-id="ab9fa-133">В этом разделе обсуждаются вопросы, которые нужно знать, если реализуется класс, используемый в качестве источника привязки.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-133">This section discusses the things you need to know if you are implementing a class to serve as a binding source.</span></span>  
  
### <a name="providing-change-notifications"></a><span data-ttu-id="ab9fa-134">Предоставление уведомлений об изменениях</span><span class="sxs-lookup"><span data-stu-id="ab9fa-134">Providing Change Notifications</span></span>  
 <span data-ttu-id="ab9fa-135">При использовании либо <xref:System.Windows.Data.BindingMode.OneWay> или <xref:System.Windows.Data.BindingMode.TwoWay> привязки (так как вы хотите вашей [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] обновление при динамическом изменении свойств источника привязки), необходимо реализовать механизм уведомлений подходящий изменения свойства.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-135">If you are using either <xref:System.Windows.Data.BindingMode.OneWay> or <xref:System.Windows.Data.BindingMode.TwoWay> binding (because you want your [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] to update when the binding source properties change dynamically), you must implement a suitable property changed notification mechanism.</span></span> <span data-ttu-id="ab9fa-136">Представляет собой механизм, рекомендуемые для [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] или динамического класса для реализации <xref:System.ComponentModel.INotifyPropertyChanged> интерфейса.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-136">The recommended mechanism is for the [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] or dynamic class to implement the <xref:System.ComponentModel.INotifyPropertyChanged> interface.</span></span> <span data-ttu-id="ab9fa-137">Дополнительные сведения см. в разделе [Реализация уведомления об изменении свойств](../../../../docs/framework/wpf/data/how-to-implement-property-change-notification.md).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-137">For more information, see [Implement Property Change Notification](../../../../docs/framework/wpf/data/how-to-implement-property-change-notification.md).</span></span>  
  
 <span data-ttu-id="ab9fa-138">При создании [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] объекта, который не реализует <xref:System.ComponentModel.INotifyPropertyChanged>, то необходимо реализовать свою систему уведомлений, чтобы убедиться в том, что данные, используемые в привязке остаются актуальными.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-138">If you create a [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] object that does not implement <xref:System.ComponentModel.INotifyPropertyChanged>, then you must arrange for your own notification system to make sure that the data used in a binding stays current.</span></span> <span data-ttu-id="ab9fa-139">Можно предоставить уведомление об изменениях с помощью шаблона `PropertyChanged` для каждого свойства, для которого требуются уведомления об изменении.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-139">You can provide change notifications by supporting the `PropertyChanged` pattern for each property that you want change notifications for.</span></span> <span data-ttu-id="ab9fa-140">Для поддержки этого шаблона необходимо определить событие *PropertyName*Changed для каждого свойства, где *PropertyName* — это имя свойства.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-140">To support this pattern, you define a *PropertyName*Changed event for each property, where *PropertyName* is the name of the property.</span></span> <span data-ttu-id="ab9fa-141">Событие вызывается каждый раз при изменении свойства.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-141">You raise the event every time the property changes.</span></span>  
  
 <span data-ttu-id="ab9fa-142">Если источник привязки реализует один из этих механизмов уведомлений, обновления целевого объекта выполняются автоматически.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-142">If your binding source implements one of these notification mechanisms, target updates happen automatically.</span></span> <span data-ttu-id="ab9fa-143">Если по какой-либо причине источник привязки не обеспечивает правильное свойство уведомления об изменениях, у вас есть возможность использовать <xref:System.Windows.Data.BindingExpression.UpdateTarget%2A> метод для обновления целевого свойства явным образом.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-143">If for any reason your binding source does not provide the proper property changed notifications, you have the option to use the <xref:System.Windows.Data.BindingExpression.UpdateTarget%2A> method to update the target property explicitly.</span></span>  
  
### <a name="other-characteristics"></a><span data-ttu-id="ab9fa-144">Другие характеристики</span><span class="sxs-lookup"><span data-stu-id="ab9fa-144">Other Characteristics</span></span>  
 <span data-ttu-id="ab9fa-145">Ниже приведены другие важные замечания.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-145">The following list provides other important points to note:</span></span>  
  
-   <span data-ttu-id="ab9fa-146">Если вы хотите создать объект в [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], класс должен иметь конструктор по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-146">If you want to create the object in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], the class must have a default constructor.</span></span> <span data-ttu-id="ab9fa-147">В некоторых языках [!INCLUDE[TLA2#tla_net](../../../../includes/tla2sharptla-net-md.md)], таких как [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)], конструктор по умолчанию может быть уже создан.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-147">In some [!INCLUDE[TLA2#tla_net](../../../../includes/tla2sharptla-net-md.md)] languages, such as [!INCLUDE[TLA#tla_cshrp](../../../../includes/tlasharptla-cshrp-md.md)], the default constructor might be created for you.</span></span>  
  
-   <span data-ttu-id="ab9fa-148">Свойства, используемые в качестве свойств источника привязки, должны быть открытыми свойствами класса.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-148">The properties you use as binding source properties for a binding must be public properties of your class.</span></span> <span data-ttu-id="ab9fa-149">Явно определенные свойства интерфейса не могут использоваться для целей привязки, также как и защищенные, закрытые или виртуальные свойства, не имеющие базовой реализации.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-149">Explicitly defined interface properties cannot be accessed for binding purposes, nor can protected, private, internal, or virtual properties that have no base implementation.</span></span>  
  
-   <span data-ttu-id="ab9fa-150">Привязка к открытым полям невозможна.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-150">You cannot bind to public fields.</span></span>  
  
-   <span data-ttu-id="ab9fa-151">Тип свойства, объявленного в классе, является типом, передаваемым привязке.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-151">The type of the property declared in your class is the type that is passed to the binding.</span></span> <span data-ttu-id="ab9fa-152">Однако тип используемой привязки в конечном счете зависит от типа свойства целевого объекта привязки, а не свойства источника привязки.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-152">However, the type ultimately used by the binding depends on the type of the binding target property, not of the binding source property.</span></span> <span data-ttu-id="ab9fa-153">Если есть разница в типе, может потребоваться написать преобразователь для обработки того, как пользовательское свойство изначально передается привязке.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-153">If there is a difference in type, you might want to write a converter to handle how your custom property is initially passed to the binding.</span></span> <span data-ttu-id="ab9fa-154">Дополнительные сведения см. в разделе <xref:System.Windows.Data.IValueConverter>.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-154">For more information, see <xref:System.Windows.Data.IValueConverter>.</span></span>  
  
<a name="objects"></a>   
## <a name="using-entire-objects-as-a-binding-source"></a><span data-ttu-id="ab9fa-155">Использование всего объекта в качестве источника привязки</span><span class="sxs-lookup"><span data-stu-id="ab9fa-155">Using Entire Objects as a Binding Source</span></span>  
 <span data-ttu-id="ab9fa-156">В качестве источника привязки можно использовать весь объект.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-156">You can use an entire object as a binding source.</span></span> <span data-ttu-id="ab9fa-157">Можно указать источник привязки с помощью <xref:System.Windows.Data.Binding.Source%2A> или <xref:System.Windows.FrameworkElement.DataContext%2A> свойства, а затем укажите пустое определение привязки: `{Binding}`.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-157">You can specify a binding source by using the <xref:System.Windows.Data.Binding.Source%2A> or the <xref:System.Windows.FrameworkElement.DataContext%2A> property, and then provide a blank binding declaration: `{Binding}`.</span></span> <span data-ttu-id="ab9fa-158">Сценарии, в которых это полезно, включают привязку к объектам строкового типа, привязку к объектам с несколькими интересующими вас свойствами или привязку к коллекции объектов.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-158">Scenarios in which this is useful include binding to objects that are of type string, binding to objects with multiple properties you are interested in, or binding to collection objects.</span></span> <span data-ttu-id="ab9fa-159">Пример привязки к целому объекту коллекции см. в разделе [Использование шаблона "главный — подчиненный" с иерархическими данными](../../../../docs/framework/wpf/data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-159">For an example of binding to an entire collection object, see [Use the Master-Detail Pattern with Hierarchical Data](../../../../docs/framework/wpf/data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md).</span></span>  
  
 <span data-ttu-id="ab9fa-160">Обратите внимание, что может потребоваться применить пользовательскую логику, чтобы данные имели смысл для свойства целевого объекта привязки.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-160">Note that you may need to apply custom logic so that the data is meaningful to your bound target property.</span></span> <span data-ttu-id="ab9fa-161">Пользовательская логика может быть в виде пользовательского преобразователя (если не существует преобразования типа по умолчанию) или <xref:System.Windows.DataTemplate>.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-161">The custom logic may be in the form of a custom converter (if default type conversion does not exist) or a <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="ab9fa-162">Дополнительные сведения о преобразователях см. в подразделе "Преобразование данных" раздела [Общие сведения о привязке данных](../../../../docs/framework/wpf/data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-162">For more information about converters, see the Data Conversion section of [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md).</span></span> <span data-ttu-id="ab9fa-163">Дополнительные сведения о шаблонах данных см. в разделе [Общие сведения о шаблонах данных](../../../../docs/framework/wpf/data/data-templating-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-163">For more information about data templates, see [Data Templating Overview](../../../../docs/framework/wpf/data/data-templating-overview.md).</span></span>  
  
<a name="collections"></a>   
## <a name="using-collection-objects-as-a-binding-source"></a><span data-ttu-id="ab9fa-164">Объекты коллекции, используемые в качестве источника привязки</span><span class="sxs-lookup"><span data-stu-id="ab9fa-164">Using Collection Objects as a Binding Source</span></span>  
 <span data-ttu-id="ab9fa-165">Часто объект, который требуется использовать в качестве источника привязки, является коллекцией пользовательских объектов.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-165">Often, the object you want to use as the binding source is a collection of custom objects.</span></span> <span data-ttu-id="ab9fa-166">Каждый объект играет роль источника для одного экземпляра повторной привязки.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-166">Each object serves as the source for one instance of a repeated binding.</span></span> <span data-ttu-id="ab9fa-167">Например, у вас может быть коллекция `CustomerOrders`, состоящая из объектов `CustomerOrder`, где приложение перемещается по коллекции, чтобы определить, сколько существует заказов и данных, содержащихся в каждом объекте.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-167">For example, you might have a `CustomerOrders` collection that consists of `CustomerOrder` objects, where your application iterates over the collection to determine how many orders exist and the data contained in each.</span></span>  
  
 <span data-ttu-id="ab9fa-168">Можно перечислить любой коллекции, реализующей <xref:System.Collections.IEnumerable> интерфейса.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-168">You can enumerate over any collection that implements the <xref:System.Collections.IEnumerable> interface.</span></span> <span data-ttu-id="ab9fa-169">Тем не менее чтобы настроить динамические привязки, чтобы обновить вставки и удаления элементов в коллекции [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] автоматически, необходимо реализовать коллекции <xref:System.Collections.Specialized.INotifyCollectionChanged> интерфейса.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-169">However, to set up dynamic bindings so that insertions or deletions in the collection update the [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] automatically, the collection must implement the <xref:System.Collections.Specialized.INotifyCollectionChanged> interface.</span></span> <span data-ttu-id="ab9fa-170">Этот интерфейс предоставляет событие, которое должно вызываться при каждом изменении коллекции.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-170">This interface exposes an event that must be raised whenever the underlying collection changes.</span></span>  
  
 <span data-ttu-id="ab9fa-171"><xref:System.Collections.ObjectModel.ObservableCollection%601> Класса является встроенной реализацией коллекции данных, предоставляющей <xref:System.Collections.Specialized.INotifyCollectionChanged> интерфейса.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-171">The <xref:System.Collections.ObjectModel.ObservableCollection%601> class is a built-in implementation of a data collection that exposes the <xref:System.Collections.Specialized.INotifyCollectionChanged> interface.</span></span> <span data-ttu-id="ab9fa-172">Отдельные объекты данных в коллекции должны удовлетворять требованиям, описанным в предыдущих разделах.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-172">The individual data objects within the collection must satisfy the requirements described in the preceding sections.</span></span> <span data-ttu-id="ab9fa-173">Пример см. в разделе [Создание и привязка ObservableCollection](../../../../docs/framework/wpf/data/how-to-create-and-bind-to-an-observablecollection.md).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-173">For an example, see [Create and Bind to an ObservableCollection](../../../../docs/framework/wpf/data/how-to-create-and-bind-to-an-observablecollection.md).</span></span> <span data-ttu-id="ab9fa-174">Перед реализацией свою собственную коллекцию, рассмотрите возможность использования <xref:System.Collections.ObjectModel.ObservableCollection%601> или один из существующей коллекции классов, таких как <xref:System.Collections.Generic.List%601>, <xref:System.Collections.ObjectModel.Collection%601>, и <xref:System.ComponentModel.BindingList%601>, многие другие.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-174">Before implementing your own collection, consider using <xref:System.Collections.ObjectModel.ObservableCollection%601> or one of the existing collection classes, such as <xref:System.Collections.Generic.List%601>, <xref:System.Collections.ObjectModel.Collection%601>, and <xref:System.ComponentModel.BindingList%601>, among many others.</span></span>  
  
 <span data-ttu-id="ab9fa-175">WPF никогда не реализует прямую привязку к коллекции.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-175">WPF never binds directly to a collection.</span></span> <span data-ttu-id="ab9fa-176">Если в качестве источника привязки указана коллекция, WPF фактически выполняет привязку к представлению коллекции по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-176">If you specify a collection as a binding source, WPF actually binds to the collection's default view.</span></span> <span data-ttu-id="ab9fa-177">Сведения о представлениях по умолчанию см. в разделе [Общие сведения о привязке данных](../../../../docs/framework/wpf/data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-177">For information about default views, see [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md).</span></span>  
  
 <span data-ttu-id="ab9fa-178">Если имеется расширенный сценарий и требуется реализовать свою собственную коллекцию, рассмотрите возможность использования <xref:System.Collections.IList> интерфейса.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-178">If you have an advanced scenario and you want to implement your own collection, consider using the <xref:System.Collections.IList> interface.</span></span> <span data-ttu-id="ab9fa-179"><xref:System.Collections.IList>предоставляет неуниверсальную коллекцию объектов, которые можно получить индивидуальный доступ по индексу, что позволяет повысить производительность.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-179"><xref:System.Collections.IList> provides a non-generic collection of objects that can be individually accessed by index, which can improve performance.</span></span>  
  
<a name="permissions"></a>   
## <a name="permission-requirements-in-data-binding"></a><span data-ttu-id="ab9fa-180">Требования к разрешениям в привязке данных</span><span class="sxs-lookup"><span data-stu-id="ab9fa-180">Permission Requirements in Data Binding</span></span>  
 <span data-ttu-id="ab9fa-181">При привязке данных необходимо учитывать уровень доверия приложения.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-181">When data binding, you must consider the trust level of the application.</span></span> <span data-ttu-id="ab9fa-182">В следующей таблице перечислены типы свойств, к которым можно выполнить привязку в приложении, выполняющемся в режиме полного доверия или частичного доверия.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-182">The following table summarizes what property types can be bound to in an application that is executing in either full trust or partial trust:</span></span>  
  
|<span data-ttu-id="ab9fa-183">Тип свойства</span><span class="sxs-lookup"><span data-stu-id="ab9fa-183">Property type</span></span><br /><br /> <span data-ttu-id="ab9fa-184">(Все модификаторы доступа)</span><span class="sxs-lookup"><span data-stu-id="ab9fa-184">(all access modifiers)</span></span>|<span data-ttu-id="ab9fa-185">Свойство динамического объекта</span><span class="sxs-lookup"><span data-stu-id="ab9fa-185">Dynamic object property</span></span>|<span data-ttu-id="ab9fa-186">Свойство динамического объекта</span><span class="sxs-lookup"><span data-stu-id="ab9fa-186">Dynamic object property</span></span>|<span data-ttu-id="ab9fa-187">Свойство CLR</span><span class="sxs-lookup"><span data-stu-id="ab9fa-187">CLR property</span></span>|<span data-ttu-id="ab9fa-188">Свойство CLR</span><span class="sxs-lookup"><span data-stu-id="ab9fa-188">CLR property</span></span>|<span data-ttu-id="ab9fa-189">Свойство зависимостей</span><span class="sxs-lookup"><span data-stu-id="ab9fa-189">Dependency property</span></span>|<span data-ttu-id="ab9fa-190">Свойство зависимостей</span><span class="sxs-lookup"><span data-stu-id="ab9fa-190">Dependency property</span></span>|  
|------------------------------------------------|-----------------------------|-----------------------------|------------------|------------------|-------------------------|-------------------------|  
|<span data-ttu-id="ab9fa-191">**Уровень доверия**</span><span class="sxs-lookup"><span data-stu-id="ab9fa-191">**Trust level**</span></span>|<span data-ttu-id="ab9fa-192">**Полное доверие**</span><span class="sxs-lookup"><span data-stu-id="ab9fa-192">**Full trust**</span></span>|<span data-ttu-id="ab9fa-193">**Частичное доверие**</span><span class="sxs-lookup"><span data-stu-id="ab9fa-193">**Partial trust**</span></span>|<span data-ttu-id="ab9fa-194">**Полное доверие**</span><span class="sxs-lookup"><span data-stu-id="ab9fa-194">**Full trust**</span></span>|<span data-ttu-id="ab9fa-195">**Частичное доверие**</span><span class="sxs-lookup"><span data-stu-id="ab9fa-195">**Partial trust**</span></span>|<span data-ttu-id="ab9fa-196">**Полное доверие**</span><span class="sxs-lookup"><span data-stu-id="ab9fa-196">**Full trust**</span></span>|<span data-ttu-id="ab9fa-197">**Частичное доверие**</span><span class="sxs-lookup"><span data-stu-id="ab9fa-197">**Partial trust**</span></span>|  
|<span data-ttu-id="ab9fa-198">Открытый класс</span><span class="sxs-lookup"><span data-stu-id="ab9fa-198">Public class</span></span>|<span data-ttu-id="ab9fa-199">Да</span><span class="sxs-lookup"><span data-stu-id="ab9fa-199">Yes</span></span>|<span data-ttu-id="ab9fa-200">Да</span><span class="sxs-lookup"><span data-stu-id="ab9fa-200">Yes</span></span>|<span data-ttu-id="ab9fa-201">Да</span><span class="sxs-lookup"><span data-stu-id="ab9fa-201">Yes</span></span>|<span data-ttu-id="ab9fa-202">Да</span><span class="sxs-lookup"><span data-stu-id="ab9fa-202">Yes</span></span>|<span data-ttu-id="ab9fa-203">Да</span><span class="sxs-lookup"><span data-stu-id="ab9fa-203">Yes</span></span>|<span data-ttu-id="ab9fa-204">Да</span><span class="sxs-lookup"><span data-stu-id="ab9fa-204">Yes</span></span>|  
|<span data-ttu-id="ab9fa-205">Закрытый класс</span><span class="sxs-lookup"><span data-stu-id="ab9fa-205">Non-public class</span></span>|<span data-ttu-id="ab9fa-206">Да</span><span class="sxs-lookup"><span data-stu-id="ab9fa-206">Yes</span></span>|<span data-ttu-id="ab9fa-207">Нет</span><span class="sxs-lookup"><span data-stu-id="ab9fa-207">No</span></span>|<span data-ttu-id="ab9fa-208">Да</span><span class="sxs-lookup"><span data-stu-id="ab9fa-208">Yes</span></span>|<span data-ttu-id="ab9fa-209">Нет</span><span class="sxs-lookup"><span data-stu-id="ab9fa-209">No</span></span>|<span data-ttu-id="ab9fa-210">Да</span><span class="sxs-lookup"><span data-stu-id="ab9fa-210">Yes</span></span>|<span data-ttu-id="ab9fa-211">Да</span><span class="sxs-lookup"><span data-stu-id="ab9fa-211">Yes</span></span>|  
  
 <span data-ttu-id="ab9fa-212">В этой таблице описаны следующие важные моменты для требований к разрешениям в привязке данных.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-212">This table describes the following important points about permission requirements in data binding:</span></span>  
  
-   <span data-ttu-id="ab9fa-213">Для свойств [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] привязка данных действует до тех пор, пока обработчик привязки может обращаться к свойству источника привязки с помощью отражения.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-213">For [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] properties, data binding works as long as the binding engine is able to access the binding source property using reflection.</span></span> <span data-ttu-id="ab9fa-214">В противном случае обработчик привязки выдает предупреждение о том, что свойство не найдено, и использует запасное значение или значение по умолчанию, если оно доступно.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-214">Otherwise, the binding engine issues a warning that the property cannot be found and uses the fallback value or the default value, if it is available.</span></span>  
  
-   <span data-ttu-id="ab9fa-215">Можно выполнить привязку к свойствам динамических объектов, определенных во время компиляции или во время выполнения.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-215">You can bind to properties on dynamic objects that are defined at compile time or run time.</span></span>  
  
-   <span data-ttu-id="ab9fa-216">Всегда можно осуществить привязку к свойствам зависимостей.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-216">You can always bind to dependency properties.</span></span>  
  
 <span data-ttu-id="ab9fa-217">Требование разрешения для привязки [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] то же.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-217">The permission requirement for [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] binding is similar.</span></span> <span data-ttu-id="ab9fa-218">В песочнице с частичным доверием <xref:System.Windows.Data.XmlDataProvider> завершается неудачно, если он не имеет разрешения на доступ к указанным данным.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-218">In a partial-trust sandbox, <xref:System.Windows.Data.XmlDataProvider> fails when it does not have permissions to access the specified data.</span></span>  
  
 <span data-ttu-id="ab9fa-219">Объекты анонимных типов являются внутренними.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-219">Objects with an anonymous type are internal.</span></span> <span data-ttu-id="ab9fa-220">Можно выполнить привязку к свойствам анонимных типов только при работе в режиме полного доверия.</span><span class="sxs-lookup"><span data-stu-id="ab9fa-220">You can bind to properties of anonymous types only when running in full trust.</span></span> <span data-ttu-id="ab9fa-221">Дополнительные сведения об анонимных типах см. в разделах [Анонимные типы (руководство по программированию на C#)](~/docs/csharp/programming-guide/classes-and-structs/anonymous-types.md) или [Анонимные типы (Visual Basic)](~/docs/visual-basic/programming-guide/language-features/objects-and-classes/anonymous-types.md) (Visual Basic).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-221">For more information about anonymous types, see [Anonymous Types (C# Programming Guide)](~/docs/csharp/programming-guide/classes-and-structs/anonymous-types.md) or [Anonymous Types (Visual Basic)](~/docs/visual-basic/programming-guide/language-features/objects-and-classes/anonymous-types.md) (Visual Basic).</span></span>  
  
 <span data-ttu-id="ab9fa-222">Дополнительные сведения о безопасности частичного доверия см. в разделе [Безопасность частичного доверия в WPF](../../../../docs/framework/wpf/wpf-partial-trust-security.md).</span><span class="sxs-lookup"><span data-stu-id="ab9fa-222">For more information about partial-trust security, see [WPF Partial Trust Security](../../../../docs/framework/wpf/wpf-partial-trust-security.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="ab9fa-223">См. также</span><span class="sxs-lookup"><span data-stu-id="ab9fa-223">See Also</span></span>  
 <xref:System.Windows.Data.ObjectDataProvider>  
 <xref:System.Windows.Data.XmlDataProvider>  
 [<span data-ttu-id="ab9fa-224">Указание источника привязки</span><span class="sxs-lookup"><span data-stu-id="ab9fa-224">Specify the Binding Source</span></span>](../../../../docs/framework/wpf/data/how-to-specify-the-binding-source.md)  
 [<span data-ttu-id="ab9fa-225">Общие сведения о привязке данных</span><span class="sxs-lookup"><span data-stu-id="ab9fa-225">Data Binding Overview</span></span>](../../../../docs/framework/wpf/data/data-binding-overview.md)  
 [<span data-ttu-id="ab9fa-226">Разделы практического руководства</span><span class="sxs-lookup"><span data-stu-id="ab9fa-226">How-to Topics</span></span>](../../../../docs/framework/wpf/data/data-binding-how-to-topics.md)  
 [<span data-ttu-id="ab9fa-227">Общие сведения о привязке данных WPF с помощью LINQ to XML</span><span class="sxs-lookup"><span data-stu-id="ab9fa-227">WPF Data Binding with LINQ to XML Overview</span></span>](/visualstudio/designers/wpf-data-binding-with-linq-to-xml-overview)  
 [<span data-ttu-id="ab9fa-228">Привязка данных</span><span class="sxs-lookup"><span data-stu-id="ab9fa-228">Data Binding</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-data-binding.md)
