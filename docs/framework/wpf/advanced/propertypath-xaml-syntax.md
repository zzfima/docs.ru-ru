---
title: Синтаксис PropertyPath XAML
ms.date: 03/30/2017
helpviewer_keywords:
- PropertyPath object [WPF]
- XAML [WPF], PropertyPath object
ms.assetid: 0e3cdf07-abe6-460a-a9af-3764b4fd707f
ms.openlocfilehash: 17c8982a66960626a5d049fa2da90f5f2d995d14
ms.sourcegitcommit: f8c36054eab877de4d40a705aacafa2552ce70e9
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 12/31/2019
ms.locfileid: "75559772"
---
# <a name="propertypath-xaml-syntax"></a><span data-ttu-id="944b4-102">Синтаксис PropertyPath XAML</span><span class="sxs-lookup"><span data-stu-id="944b4-102">PropertyPath XAML Syntax</span></span>

<span data-ttu-id="944b4-103">Объект <xref:System.Windows.PropertyPath> поддерживает сложный встроенный [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] синтаксис для установки различных свойств, которые принимают тип <xref:System.Windows.PropertyPath> в качестве значения.</span><span class="sxs-lookup"><span data-stu-id="944b4-103">The <xref:System.Windows.PropertyPath> object supports a complex inline [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] syntax for setting various properties that take the <xref:System.Windows.PropertyPath> type as their value.</span></span> <span data-ttu-id="944b4-104">В этом разделе документируется синтаксис <xref:System.Windows.PropertyPath>, примененный к синтаксису привязки и анимации.</span><span class="sxs-lookup"><span data-stu-id="944b4-104">This topic documents the <xref:System.Windows.PropertyPath> syntax as applied to binding and animation syntaxes.</span></span>

<a name="where"></a>

## <a name="where-propertypath-is-used"></a><span data-ttu-id="944b4-105">Где используется PropertyPath</span><span class="sxs-lookup"><span data-stu-id="944b4-105">Where PropertyPath Is Used</span></span>

<span data-ttu-id="944b4-106"><xref:System.Windows.PropertyPath> — это общий объект, используемый в нескольких [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]ных функциях.</span><span class="sxs-lookup"><span data-stu-id="944b4-106"><xref:System.Windows.PropertyPath> is a common object that is used in several [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] features.</span></span> <span data-ttu-id="944b4-107">Несмотря на использование общих <xref:System.Windows.PropertyPath> для передачи сведений о пути к свойству, использование каждой функциональной области, где <xref:System.Windows.PropertyPath> используется в качестве типа, различается.</span><span class="sxs-lookup"><span data-stu-id="944b4-107">Despite using the common <xref:System.Windows.PropertyPath> to convey property path information, the usages for each feature area where <xref:System.Windows.PropertyPath> is used as a type vary.</span></span> <span data-ttu-id="944b4-108">Таким образом, более практично документировать синтаксис для каждой функции.</span><span class="sxs-lookup"><span data-stu-id="944b4-108">Therefore, it is more practical to document the syntaxes on a per-feature basis.</span></span>

<span data-ttu-id="944b4-109">В основном [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использует <xref:System.Windows.PropertyPath> для описания путей к объектной модели для обхода свойств источника данных объекта и для описания целевого пути для целевых анимаций.</span><span class="sxs-lookup"><span data-stu-id="944b4-109">Primarily, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses <xref:System.Windows.PropertyPath> to describe object-model paths for traversing the properties of an object data source, and to describe the target path for targeted animations.</span></span>

<span data-ttu-id="944b4-110">Некоторые свойства стиля и шаблона, такие как <xref:System.Windows.Setter.Property%2A?displayProperty=nameWithType>, имеют полное имя свойства, которое внешне напоминает <xref:System.Windows.PropertyPath>.</span><span class="sxs-lookup"><span data-stu-id="944b4-110">Some style and template properties such as <xref:System.Windows.Setter.Property%2A?displayProperty=nameWithType> take a qualified property name that superficially resembles a <xref:System.Windows.PropertyPath>.</span></span> <span data-ttu-id="944b4-111">Но это не правда <xref:System.Windows.PropertyPath>; Вместо этого он является полным *владельцем.* использование формата строки свойства, включенного процессором [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] WPF в сочетании с преобразователем типов для <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="944b4-111">But this is not a true <xref:System.Windows.PropertyPath>; instead it is a qualified *owner.property* string format usage that is enabled by the WPF [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor in combination with the type converter for <xref:System.Windows.DependencyProperty>.</span></span>

<a name="databinding_s"></a>

## <a name="propertypath-for-objects-in-data-binding"></a><span data-ttu-id="944b4-112">PropertyPath для объектов в привязке данных</span><span class="sxs-lookup"><span data-stu-id="944b4-112">PropertyPath for Objects in Data Binding</span></span>

<span data-ttu-id="944b4-113">Привязка данных является функцией [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], которую можно привязать к целевому значению любого свойства зависимостей.</span><span class="sxs-lookup"><span data-stu-id="944b4-113">Data binding is a [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] feature whereby you can bind to the target value of any dependency property.</span></span> <span data-ttu-id="944b4-114">Однако источник такой привязки данных не обязательно должен быть свойством зависимостей. Это может быть любой тип свойства, распознаваемый применимым поставщиком данных.</span><span class="sxs-lookup"><span data-stu-id="944b4-114">However, the source of such a data binding need not be a dependency property; it can be any property type that is recognized by the applicable data provider.</span></span> <span data-ttu-id="944b4-115">Пути к свойствам особенно используются для <xref:System.Windows.Data.ObjectDataProvider>, который используется для получения источников привязки из объектов среды CLR и их свойств.</span><span class="sxs-lookup"><span data-stu-id="944b4-115">Property paths are particularly used for the <xref:System.Windows.Data.ObjectDataProvider>, which is used for obtaining binding sources from common language runtime (CLR) objects and their properties.</span></span>

<span data-ttu-id="944b4-116">Обратите внимание, что привязка данных к XML не использует <xref:System.Windows.PropertyPath>, так как не использует <xref:System.Windows.Data.Binding.Path%2A> в <xref:System.Windows.Data.Binding>.</span><span class="sxs-lookup"><span data-stu-id="944b4-116">Note that data binding to XML does not use <xref:System.Windows.PropertyPath>, because it does not use <xref:System.Windows.Data.Binding.Path%2A> in the <xref:System.Windows.Data.Binding>.</span></span> <span data-ttu-id="944b4-117">Вместо этого используйте <xref:System.Windows.Data.Binding.XPath%2A> и укажите допустимый синтаксис XPath в XML-модель DOM (DOM) данных.</span><span class="sxs-lookup"><span data-stu-id="944b4-117">Instead, you use <xref:System.Windows.Data.Binding.XPath%2A> and specify valid XPath syntax into the XML Document Object Model (DOM) of the data.</span></span> <span data-ttu-id="944b4-118"><xref:System.Windows.Data.Binding.XPath%2A> также указывается в виде строки, но здесь не описывается. см. статью [Привязка к XML-данным с помощью XmlDataProvider и запросов XPath](../data/how-to-bind-to-xml-data-using-an-xmldataprovider-and-xpath-queries.md).</span><span class="sxs-lookup"><span data-stu-id="944b4-118"><xref:System.Windows.Data.Binding.XPath%2A> is also specified as a string, but is not documented here; see [Bind to XML Data Using an XMLDataProvider and XPath Queries](../data/how-to-bind-to-xml-data-using-an-xmldataprovider-and-xpath-queries.md).</span></span>

<span data-ttu-id="944b4-119">Ключом к пониманию путей к свойствам в привязке к данным является то, что можно настроить целевой объект привязки на отдельное значение свойства либо использовать привязку к целевым свойствам, которые принимают списки или коллекции.</span><span class="sxs-lookup"><span data-stu-id="944b4-119">A key to understanding property paths in data binding is that you can target the binding to an individual property value, or you can instead bind to target properties that take lists or collections.</span></span> <span data-ttu-id="944b4-120">При привязке коллекций для привязки к экземпляру <xref:System.Windows.Controls.ListBox>, который будет расширяться в зависимости от количества элементов данных в коллекции, путь к свойству должен ссылаться на объект коллекции, а не на отдельные элементы коллекции.</span><span class="sxs-lookup"><span data-stu-id="944b4-120">If you are binding collections, for instance binding a <xref:System.Windows.Controls.ListBox> that will expand depending on how many data items are in the collection, then your property path should reference the collection object, not individual collection items.</span></span> <span data-ttu-id="944b4-121">Обработчик привязки данных будет сопоставлять коллекцию, используемую в качестве источника данных, с типом целевого объекта привязки автоматически, что приводит к поведению, например заполнению <xref:System.Windows.Controls.ListBox> массивом элементов.</span><span class="sxs-lookup"><span data-stu-id="944b4-121">The data binding engine will match the collection used as the data source to the type of the binding target automatically, resulting in behavior such as populating a <xref:System.Windows.Controls.ListBox> with an items array.</span></span>

<a name="singlecurrent"></a>

### <a name="single-property-on-the-immediate-object-as-data-context"></a><span data-ttu-id="944b4-122">Одиночное свойство в объекте интерпретации в качестве контекста данных</span><span class="sxs-lookup"><span data-stu-id="944b4-122">Single Property on the Immediate Object as Data Context</span></span>

```xml
<Binding Path="propertyName" .../>
```

<span data-ttu-id="944b4-123">*PropertyName* должен быть разрешен в качестве имени свойства, которое находится в текущем <xref:System.Windows.FrameworkElement.DataContext%2A> для использования <xref:System.Windows.Data.Binding.Path%2A>.</span><span class="sxs-lookup"><span data-stu-id="944b4-123">*propertyName* must resolve to be the name of a property that is in the current <xref:System.Windows.FrameworkElement.DataContext%2A> for a <xref:System.Windows.Data.Binding.Path%2A> usage.</span></span> <span data-ttu-id="944b4-124">Если привязка обновляет источник, это свойство должно быть доступно для чтения и записи, а исходный объект должен быть изменяемым.</span><span class="sxs-lookup"><span data-stu-id="944b4-124">If your binding updates the source, that property must be read/write and the source object must be mutable.</span></span>

<a name="singleindex"></a>

### <a name="single-indexer-on-the-immediate-object-as-data-context"></a><span data-ttu-id="944b4-125">Одиночный индексатор в объекте интерпретации в контексте данных</span><span class="sxs-lookup"><span data-stu-id="944b4-125">Single Indexer on the Immediate Object as Data Context</span></span>

```xml
<Binding Path="[key]" .../>
```

<span data-ttu-id="944b4-126">`key` должен быть либо типизированным индексом для словаря или хэш-таблицы, либо целочисленным индексом массива.</span><span class="sxs-lookup"><span data-stu-id="944b4-126">`key` must be either the typed index to a dictionary or hash table, or the integer index of an array.</span></span> <span data-ttu-id="944b4-127">Кроме того, значение ключа должно быть типом, который можно непосредственно привязать к свойству, в котором оно применяется.</span><span class="sxs-lookup"><span data-stu-id="944b4-127">Also, the value of the key must be a type that is directly bindable to the property where it is applied.</span></span> <span data-ttu-id="944b4-128">Например, хэш-таблица, содержащая строковые ключи и строковые значения, может использоваться таким образом для привязки к тексту для <xref:System.Windows.Controls.TextBox>.</span><span class="sxs-lookup"><span data-stu-id="944b4-128">For instance, a hash table that contains string keys and string values can be used this way to bind to Text for a <xref:System.Windows.Controls.TextBox>.</span></span> <span data-ttu-id="944b4-129">Либо, если ключ указывает на коллекцию или субиндекс, этот синтаксис можно использовать для привязки к целевому свойству коллекции.</span><span class="sxs-lookup"><span data-stu-id="944b4-129">Or, if the key points to a collection or subindex, you could use this syntax to bind to a target collection property.</span></span> <span data-ttu-id="944b4-130">В противном случае необходимо ссылаться на конкретное свойство, например с помощью синтаксиса `<Binding Path="[key].propertyName" .../>`.</span><span class="sxs-lookup"><span data-stu-id="944b4-130">Otherwise, you need to reference a specific property, through a syntax such as `<Binding Path="[key].propertyName" .../>`.</span></span>

<span data-ttu-id="944b4-131">При необходимости можно указать тип индекса.</span><span class="sxs-lookup"><span data-stu-id="944b4-131">You can specify the type of the index if necessary.</span></span> <span data-ttu-id="944b4-132">Дополнительные сведения об этом аспекте пути индексированного свойства см. в разделе <xref:System.Windows.Data.Binding.Path%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="944b4-132">For details on this aspect of an indexed property path, see <xref:System.Windows.Data.Binding.Path%2A?displayProperty=nameWithType>.</span></span>

<a name="multipleindirect"></a>

### <a name="multiple-property-indirect-property-targeting"></a><span data-ttu-id="944b4-133">Несколько свойств (косвенное назначение свойства)</span><span class="sxs-lookup"><span data-stu-id="944b4-133">Multiple Property (Indirect Property Targeting)</span></span>

```xml
<Binding Path="propertyName.propertyName2" .../>
```

<span data-ttu-id="944b4-134">`propertyName` должен быть разрешен в качестве имени свойства, которое является текущим <xref:System.Windows.FrameworkElement.DataContext%2A>ом.</span><span class="sxs-lookup"><span data-stu-id="944b4-134">`propertyName` must resolve to be the name of a property that is the current <xref:System.Windows.FrameworkElement.DataContext%2A>.</span></span> <span data-ttu-id="944b4-135">Свойствами пути `propertyName` и `propertyName2` могут быть любые свойства, которые существуют в связи, где `propertyName2` — свойство, которое существует в типе, являющемся значением `propertyName`.</span><span class="sxs-lookup"><span data-stu-id="944b4-135">The path properties `propertyName` and `propertyName2` can be any properties that exist in a relationship, where `propertyName2` is a property that exists on the type that is the value of `propertyName`.</span></span>

<a name="singleattached"></a>

### <a name="single-property-attached-or-otherwise-type-qualified"></a><span data-ttu-id="944b4-136">Одиночное свойство, присоединенное свойство или свойство с указанием типа</span><span class="sxs-lookup"><span data-stu-id="944b4-136">Single Property, Attached or Otherwise Type-Qualified</span></span>

```xml
<object property="(ownerType.propertyName)" .../>
```

<span data-ttu-id="944b4-137">Круглые скобки указывают, что это свойство в <xref:System.Windows.PropertyPath> должно быть создано с использованием частичной квалификации.</span><span class="sxs-lookup"><span data-stu-id="944b4-137">The parentheses indicate that this property in a <xref:System.Windows.PropertyPath> should be constructed using a partial qualification.</span></span> <span data-ttu-id="944b4-138">Может использоваться пространство имен XML для поиска типа с соответствующим сопоставлением.</span><span class="sxs-lookup"><span data-stu-id="944b4-138">It can use an XML namespace to find the type with an appropriate mapping.</span></span> <span data-ttu-id="944b4-139">`ownerType` ищет типы, к которым обработчик [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] имеет доступ, через объявления <xref:System.Windows.Markup.XmlnsDefinitionAttribute> в каждой сборке.</span><span class="sxs-lookup"><span data-stu-id="944b4-139">The `ownerType` searches types that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor has access to, through the <xref:System.Windows.Markup.XmlnsDefinitionAttribute> declarations in each assembly.</span></span> <span data-ttu-id="944b4-140">В большинстве приложений есть пространство имен XML по умолчанию, сопоставленное пространству имен `http://schemas.microsoft.com/winfx/2006/xaml/presentation`, поэтому префикс обычно требуется только для настраиваемых типов или типов вне этого пространства имен.</span><span class="sxs-lookup"><span data-stu-id="944b4-140">Most applications have the default XML namespace mapped to the `http://schemas.microsoft.com/winfx/2006/xaml/presentation` namespace, so a prefix is usually only necessary for custom types or types otherwise outside that namespace.</span></span>  <span data-ttu-id="944b4-141">`propertyName` должно разрешаться как имя свойства, существующего в `ownerType`.</span><span class="sxs-lookup"><span data-stu-id="944b4-141">`propertyName` must resolve to be the name of a property existing on the `ownerType`.</span></span> <span data-ttu-id="944b4-142">Этот синтаксис обычно используется в одном из следующих случаев.</span><span class="sxs-lookup"><span data-stu-id="944b4-142">This syntax is generally used for one of the following cases:</span></span>

- <span data-ttu-id="944b4-143">Путь, указанный в [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], который находится в стиле или шаблоне, не имеющем указанного целевого типа.</span><span class="sxs-lookup"><span data-stu-id="944b4-143">The path is specified in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] that is in a style or template that does not have a specified Target Type.</span></span> <span data-ttu-id="944b4-144">Использование полных имен обычно недействительно для иных случаев, поскольку в отличие от стилей и шаблонов свойство существует в экземпляре, а не в типе.</span><span class="sxs-lookup"><span data-stu-id="944b4-144">A qualified usage is generally not valid for cases other than this, because in non-style, non-template cases, the property exists on an instance, not a type.</span></span>

- <span data-ttu-id="944b4-145">Свойство является присоединенным свойством.</span><span class="sxs-lookup"><span data-stu-id="944b4-145">The property is an attached property.</span></span>

- <span data-ttu-id="944b4-146">Выполняется привязка к статическому свойству.</span><span class="sxs-lookup"><span data-stu-id="944b4-146">You are binding to a static property.</span></span>

<span data-ttu-id="944b4-147">Для использования в качестве цели раскадровки свойство, указанное как `propertyName`, должно быть <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="944b4-147">For use as storyboard target, the property specified as `propertyName` must be a <xref:System.Windows.DependencyProperty>.</span></span>

<a name="sourcetraversal"></a>

### <a name="source-traversal-binding-to-hierarchies-of-collections"></a><span data-ttu-id="944b4-148">Обход источников (привязка к иерархиям коллекций)</span><span class="sxs-lookup"><span data-stu-id="944b4-148">Source Traversal (Binding to Hierarchies of Collections)</span></span>

```xml
<object Path="propertyName/propertyNameX" .../>
```

<span data-ttu-id="944b4-149">/ в этом синтаксисе используется для навигации в иерархическом объекте источника данных. Поддерживается несколько шагов в иерархии с последовательными символами /.</span><span class="sxs-lookup"><span data-stu-id="944b4-149">The / in this syntax is used to navigate within a hierarchical data source object, and multiple steps into the hierarchy with successive / characters are supported.</span></span> <span data-ttu-id="944b4-150">Обход источников учитывает текущую позицию указателя записи, которая определяется синхронизацией данных с пользовательским интерфейсом его представления.</span><span class="sxs-lookup"><span data-stu-id="944b4-150">The source traversal accounts for the current record pointer position, which is determined by synchronizing the data with the UI of its view.</span></span> <span data-ttu-id="944b4-151">Дополнительные сведения о привязке к иерархическим объектам источника данных и концепции указателя текущей записи в привязке данных см. в разделе [Использование шаблона "Основной/подробности" с иерархическими данными](../data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md) или [Общие сведения о привязке данных](../../../desktop-wpf/data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="944b4-151">For details on binding with hierarchical data source objects, and the concept of current record pointer in data binding, see [Use the Master-Detail Pattern with Hierarchical Data](../data/how-to-use-the-master-detail-pattern-with-hierarchical-data.md) or [Data Binding Overview](../../../desktop-wpf/data/data-binding-overview.md).</span></span>

> [!NOTE]
> <span data-ttu-id="944b4-152">Внешне этот синтаксис напоминает XPath.</span><span class="sxs-lookup"><span data-stu-id="944b4-152">Superficially, this syntax resembles XPath.</span></span> <span data-ttu-id="944b4-153">Истинное выражение XPath для привязки к источнику данных XML не используется в качестве <xref:System.Windows.Data.Binding.Path%2A>ого значения и должно использоваться для взаимоисключающего <xref:System.Windows.Data.Binding.XPath%2A> свойства.</span><span class="sxs-lookup"><span data-stu-id="944b4-153">A true XPath expression for binding to an XML data source is not used as a <xref:System.Windows.Data.Binding.Path%2A> value and should instead be used for the mutually exclusive <xref:System.Windows.Data.Binding.XPath%2A> property.</span></span>

### <a name="collection-views"></a><span data-ttu-id="944b4-154">Представления коллекций</span><span class="sxs-lookup"><span data-stu-id="944b4-154">Collection Views</span></span>

<span data-ttu-id="944b4-155">Для ссылки на представление именованной коллекции перед именем представления используется символ решетки (`#`).</span><span class="sxs-lookup"><span data-stu-id="944b4-155">To reference a named collection view, prefix the collection view name with the hash character (`#`).</span></span>

### <a name="current-record-pointer"></a><span data-ttu-id="944b4-156">Указатель текущей записи</span><span class="sxs-lookup"><span data-stu-id="944b4-156">Current Record Pointer</span></span>

<span data-ttu-id="944b4-157">Чтобы ссылаться на указатель текущей записи для представления коллекции или сценария привязки данных "Основной/подробности", в начале строки пути поставьте косую черту (`/`).</span><span class="sxs-lookup"><span data-stu-id="944b4-157">To reference the current record pointer for a collection view or master detail data binding scenario, start the path string with a forward slash (`/`).</span></span> <span data-ttu-id="944b4-158">Обход любого пути, проходящего через косую черту, начинается с указателя текущей записи.</span><span class="sxs-lookup"><span data-stu-id="944b4-158">Any path past the forward slash is traversed starting from the current record pointer.</span></span>

### <a name="multiple-indexers"></a><span data-ttu-id="944b4-159">Несколько индексаторов</span><span class="sxs-lookup"><span data-stu-id="944b4-159">Multiple Indexers</span></span>

```xaml
<object Path="[index1,index2...]" .../>
```

<span data-ttu-id="944b4-160">или</span><span class="sxs-lookup"><span data-stu-id="944b4-160">or</span></span>

```xaml
<object Path="propertyName[index,index2...]" .../>
```

<span data-ttu-id="944b4-161">Если данный объект поддерживает несколько индексаторов, их можно указать по порядку, аналогично синтаксису ссылок на массив.</span><span class="sxs-lookup"><span data-stu-id="944b4-161">If a given object supports multiple indexers, those indexers can be specified in order, similar to an array referencing syntax.</span></span> <span data-ttu-id="944b4-162">Рассматриваемый объект может быть либо текущим контекстом, либо значением свойства, содержащего объект с несколькими индексами.</span><span class="sxs-lookup"><span data-stu-id="944b4-162">The object in question can be either the current context or the value of a property that contains a multiple index object.</span></span>

<span data-ttu-id="944b4-163">По умолчанию значения индексатора вводятся с использованием характеристик базового объекта.</span><span class="sxs-lookup"><span data-stu-id="944b4-163">By default, the indexer values are typed by using the characteristics of the underlying object.</span></span> <span data-ttu-id="944b4-164">При необходимости можно указать тип индекса.</span><span class="sxs-lookup"><span data-stu-id="944b4-164">You can specify the type of the index if necessary.</span></span> <span data-ttu-id="944b4-165">Дополнительные сведения о вводе индексаторов см. в разделе <xref:System.Windows.Data.Binding.Path%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="944b4-165">For details on typing the indexers, see <xref:System.Windows.Data.Binding.Path%2A?displayProperty=nameWithType>.</span></span>

<a name="mixing"></a>

### <a name="mixing-syntaxes"></a><span data-ttu-id="944b4-166">Смешанные синтаксисы</span><span class="sxs-lookup"><span data-stu-id="944b4-166">Mixing Syntaxes</span></span>

<span data-ttu-id="944b4-167">Можно смешивать все синтаксисы, показанные выше.</span><span class="sxs-lookup"><span data-stu-id="944b4-167">Each of the syntaxes shown above can be interspersed.</span></span> <span data-ttu-id="944b4-168">Например, ниже приведен пример, в котором создается путь к свойству для цвета в определенном x, y свойства `ColorGrid`, содержащем массивную сетку <xref:System.Windows.Media.SolidColorBrush> объектов:</span><span class="sxs-lookup"><span data-stu-id="944b4-168">For instance, the following is an example that creates a property path to the color at a particular x,y of a `ColorGrid` property that contains a pixel grid array of <xref:System.Windows.Media.SolidColorBrush> objects:</span></span>

```xml
<Rectangle Fill="{Binding ColorGrid[20,30].SolidColorBrushResult}" .../>
```

### <a name="escapes-for-property-path-strings"></a><span data-ttu-id="944b4-169">Escape-символы для строк путей к свойствам</span><span class="sxs-lookup"><span data-stu-id="944b4-169">Escapes for Property Path Strings</span></span>

<span data-ttu-id="944b4-170">Для некоторых бизнес-объектов может возникнуть случай, когда для правильного анализа строки пути к свойству требуется escape-последовательность.</span><span class="sxs-lookup"><span data-stu-id="944b4-170">For certain business objects, you might encounter a case where the property path string requires an escape sequence in order to parse correctly.</span></span> <span data-ttu-id="944b4-171">Такая необходимость должна возникать редко, так как многие из этих символов имеют аналогичные проблемы взаимодействия при именовании в языках, которые обычно используются для определения бизнес-объекта.</span><span class="sxs-lookup"><span data-stu-id="944b4-171">The need to escape should be rare, because many of these characters have similar naming-interaction issues in languages that would typically be used to define the business object.</span></span>

- <span data-ttu-id="944b4-172">Внутри индексаторов ([]) знак крышки (^) задает экранирование следующего символа.</span><span class="sxs-lookup"><span data-stu-id="944b4-172">Inside indexers ([ ]), the caret character (^) escapes the next character.</span></span>

- <span data-ttu-id="944b4-173">Необходимо предварять escape-символами (используя XML-сущности) определенные символы, которые являются специальными для определения языка XML.</span><span class="sxs-lookup"><span data-stu-id="944b4-173">You must escape (using XML entities) certain characters that are special to the XML language definition.</span></span> <span data-ttu-id="944b4-174">Используйте `&` для экранирования символа "&".</span><span class="sxs-lookup"><span data-stu-id="944b4-174">Use `&` to escape the character "&".</span></span> <span data-ttu-id="944b4-175">Используйте `>` для экранирования закрывающего тега ">".</span><span class="sxs-lookup"><span data-stu-id="944b4-175">Use `>` to escape the end tag ">".</span></span>

- <span data-ttu-id="944b4-176">Необходимо предварять escape-символами (с помощью обратной косой черты `\`) символы, которые являются специальными для поведения средства синтаксического анализа WPF XAML для обработки расширения разметки.</span><span class="sxs-lookup"><span data-stu-id="944b4-176">You must escape (using backslash `\`) characters that are special to the WPF XAML parser behavior for processing a markup extension.</span></span>

  - <span data-ttu-id="944b4-177">Обратная косая черта (`\`) сама по себе является escape-символом.</span><span class="sxs-lookup"><span data-stu-id="944b4-177">Backslash (`\`) is the escape character itself.</span></span>

  - <span data-ttu-id="944b4-178">Знак равенства (`=`) разделяет имя и значение свойства.</span><span class="sxs-lookup"><span data-stu-id="944b4-178">The equal sign (`=`) separates property name from property value.</span></span>

  - <span data-ttu-id="944b4-179">Запятая (`,`) разделяет свойства.</span><span class="sxs-lookup"><span data-stu-id="944b4-179">Comma (`,`) separates properties.</span></span>

  - <span data-ttu-id="944b4-180">Закрывающая фигурная скобка (`}`) — это конец расширения разметки.</span><span class="sxs-lookup"><span data-stu-id="944b4-180">The right curly brace (`}`) is the end of a markup extension.</span></span>

> [!NOTE]
> <span data-ttu-id="944b4-181">С технической точки зрения, эти escape-последовательности также работают для пути к свойству раскадровки, но обычно объектные модели обходятся для существующих объектов WPF и использование escape-символов не требуется.</span><span class="sxs-lookup"><span data-stu-id="944b4-181">Technically, these escapes work for a storyboard property path also, but you are usually traversing object models for existing WPF objects, and escaping should be unnecessary.</span></span>

<a name="databinding_sa"></a>

## <a name="propertypath-for-animation-targets"></a><span data-ttu-id="944b4-182">PropertyPath для целевых объектов анимации</span><span class="sxs-lookup"><span data-stu-id="944b4-182">PropertyPath for Animation Targets</span></span>

<span data-ttu-id="944b4-183">Свойство Target анимации должно быть свойством зависимости, которое принимает либо <xref:System.Windows.Freezable>, либо примитивный тип.</span><span class="sxs-lookup"><span data-stu-id="944b4-183">The target property of an animation must be a dependency property that takes either a <xref:System.Windows.Freezable> or a primitive type.</span></span> <span data-ttu-id="944b4-184">Однако целевое свойство типа и конечное анимированное свойство могут существовать в различных объектах.</span><span class="sxs-lookup"><span data-stu-id="944b4-184">However, the targeted property on a type and the eventual animated property can exist on different objects.</span></span> <span data-ttu-id="944b4-185">Для анимаций путь к свойству используется для определения связи между свойством целевого объекта именованной анимации и заданным целевым свойством анимации путем обхода отношений "объект/свойство" в значениях свойств.</span><span class="sxs-lookup"><span data-stu-id="944b4-185">For animations, a property path is used to define the connection between the named animation target object's property and the intended target animation property, by traversing object-property relationships in the property values.</span></span>

<a name="general"></a>

### <a name="general-object-property-considerations-for-animations"></a><span data-ttu-id="944b4-186">Общие рекомендации для отношений "объект/свойство" для анимаций</span><span class="sxs-lookup"><span data-stu-id="944b4-186">General Object-Property Considerations for Animations</span></span>

<span data-ttu-id="944b4-187">Подробнее о концепциях анимации в целом см. в разделах [Общие сведения о раскадровке ](../graphics-multimedia/storyboards-overview.md) и [Общие сведения об анимации ](../graphics-multimedia/animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="944b4-187">For more information on animation concepts in general, see [Storyboards Overview](../graphics-multimedia/storyboards-overview.md) and [Animation Overview](../graphics-multimedia/animation-overview.md).</span></span>

<span data-ttu-id="944b4-188">Тип значения или анимированное свойство должны быть либо типом <xref:System.Windows.Freezable>, либо примитивом.</span><span class="sxs-lookup"><span data-stu-id="944b4-188">The value type or the property being animated must be either a <xref:System.Windows.Freezable> type or a primitive.</span></span> <span data-ttu-id="944b4-189">Свойство, запускающее путь, должно быть разрешено в качестве имени свойства зависимости, существующего для указанного типа <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A>.</span><span class="sxs-lookup"><span data-stu-id="944b4-189">The property that starts the path must resolve to be the name of a dependency property that exists on the specified <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> type.</span></span>

<span data-ttu-id="944b4-190">Для поддержки клонирования для анимации <xref:System.Windows.Freezable>, которая уже заморожена, объект, заданный <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A>, должен быть <xref:System.Windows.FrameworkElement>ным или <xref:System.Windows.FrameworkContentElement> производным классом.</span><span class="sxs-lookup"><span data-stu-id="944b4-190">In order to support cloning for animating a <xref:System.Windows.Freezable> that is already frozen, the object specified by <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> must be a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement> derived class.</span></span>

<a name="singlestepanim"></a>

### <a name="single-property-on-the-target-object"></a><span data-ttu-id="944b4-191">Одно свойство в целевом объекте</span><span class="sxs-lookup"><span data-stu-id="944b4-191">Single Property on the Target Object</span></span>

```xml
<animation Storyboard.TargetProperty="propertyName" .../>
```

<span data-ttu-id="944b4-192">`propertyName` должен быть разрешен в качестве имени свойства зависимостей, существующего в указанном типе <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A>.</span><span class="sxs-lookup"><span data-stu-id="944b4-192">`propertyName` must resolve to be the name of a dependency property that exists on the specified <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> type.</span></span>

<a name="indirectanim"></a>

### <a name="indirect-property-targeting"></a><span data-ttu-id="944b4-193">Косвенное назначение свойства</span><span class="sxs-lookup"><span data-stu-id="944b4-193">Indirect Property Targeting</span></span>

```xml
<animation Storyboard.TargetProperty="propertyName.propertyName2" .../>
```

<span data-ttu-id="944b4-194">`propertyName` должно быть свойством, которое является типом значения <xref:System.Windows.Freezable> или примитивом, который существует для указанного типа <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A>.</span><span class="sxs-lookup"><span data-stu-id="944b4-194">`propertyName` must be a property that is either a <xref:System.Windows.Freezable> value type or a primitive, which exists on the specified <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> type.</span></span>

<span data-ttu-id="944b4-195">`propertyName2` должно быть именем свойства зависимостей, существующего в объекте, который является значением `propertyName`.</span><span class="sxs-lookup"><span data-stu-id="944b4-195">`propertyName2` must be the name of a dependency property that exists on the object that is the value of `propertyName`.</span></span> <span data-ttu-id="944b4-196">Иными словами, `propertyName2` должны существовать как свойство зависимостей для типа, который является `propertyName` <xref:System.Windows.DependencyProperty.PropertyType%2A>.</span><span class="sxs-lookup"><span data-stu-id="944b4-196">In other words, `propertyName2` must exist as a dependency property on the type that is the `propertyName` <xref:System.Windows.DependencyProperty.PropertyType%2A>.</span></span>

<span data-ttu-id="944b4-197">Косвенное назначение анимации необходимо из-за примененных стилей и шаблонов.</span><span class="sxs-lookup"><span data-stu-id="944b4-197">Indirect targeting of animations is necessary because of applied styles and templates.</span></span> <span data-ttu-id="944b4-198">Чтобы ориентироваться на анимацию, требуется <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> на целевом объекте, и это имя устанавливается с помощью [x:Name](../../../desktop-wpf/xaml-services/xname-directive.md) или <xref:System.Windows.FrameworkElement.Name%2A>.</span><span class="sxs-lookup"><span data-stu-id="944b4-198">In order to target an animation, you need a <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> on a target object, and that name is established by [x:Name](../../../desktop-wpf/xaml-services/xname-directive.md) or <xref:System.Windows.FrameworkElement.Name%2A>.</span></span> <span data-ttu-id="944b4-199">Хотя элементы шаблона и стиля также могут иметь имена, эти имена действительны только в области имен стиля и шаблона.</span><span class="sxs-lookup"><span data-stu-id="944b4-199">Although template and style elements also can have names, those names are only valid within the namescope of the style and template.</span></span> <span data-ttu-id="944b4-200">(Если бы шаблоны и стили совместно использовали пространства имен с разметкой приложения, имена не могли бы быть уникальными.</span><span class="sxs-lookup"><span data-stu-id="944b4-200">(If templates and styles did share namescopes with application markup, names couldn't be unique.</span></span> <span data-ttu-id="944b4-201">Стили и шаблоны буквально совместно используются экземплярами и будут постоянно дублировать имена.) Таким способом, если отдельные свойства элемента, которые вы хотели бы анимировать, поступили из стиля или шаблона, необходимо начать с именованного экземпляра элемента, который не относится к шаблону стиля, а затем перейти к визуальному дереву стиля или шаблона, чтобы оно поступало на свойство Вы хотите анимировать.</span><span class="sxs-lookup"><span data-stu-id="944b4-201">The styles and templates are literally shared between instances and would perpetuate duplicate names.) Thus, if the individual properties of an element that you might wish to animate came from a style or template, you need to start with a named element instance that is not from a style template, and then target into the style or template visual tree to arrive at the property you wish to animate.</span></span>

<span data-ttu-id="944b4-202">Например, свойство <xref:System.Windows.Controls.Panel.Background%2A> <xref:System.Windows.Controls.Panel> является полным <xref:System.Windows.Media.Brush> (фактически <xref:System.Windows.Media.SolidColorBrush>), полученным из шаблона темы.</span><span class="sxs-lookup"><span data-stu-id="944b4-202">For instance, the <xref:System.Windows.Controls.Panel.Background%2A> property of a <xref:System.Windows.Controls.Panel> is a complete <xref:System.Windows.Media.Brush> (actually a <xref:System.Windows.Media.SolidColorBrush>) that came from a theme template.</span></span> <span data-ttu-id="944b4-203">Чтобы полностью анимировать <xref:System.Windows.Media.Brush>, необходимо быть Брушаниматион (возможно, по одному для каждого типа <xref:System.Windows.Media.Brush>) и такого типа нет.</span><span class="sxs-lookup"><span data-stu-id="944b4-203">To animate a <xref:System.Windows.Media.Brush> completely, there would need to be a BrushAnimation (probably one for every <xref:System.Windows.Media.Brush> type) and there is no such type.</span></span> <span data-ttu-id="944b4-204">Чтобы анимировать кисть, необходимо анимировать свойства определенного типа <xref:System.Windows.Media.Brush>.</span><span class="sxs-lookup"><span data-stu-id="944b4-204">To animate a Brush, you instead animate properties of a particular <xref:System.Windows.Media.Brush> type.</span></span> <span data-ttu-id="944b4-205">Чтобы применить <xref:System.Windows.Media.Animation.ColorAnimation>, необходимо получить от <xref:System.Windows.Media.SolidColorBrush> до <xref:System.Windows.Media.SolidColorBrush.Color%2A>.</span><span class="sxs-lookup"><span data-stu-id="944b4-205">You need to get from <xref:System.Windows.Media.SolidColorBrush> to its <xref:System.Windows.Media.SolidColorBrush.Color%2A> to apply a <xref:System.Windows.Media.Animation.ColorAnimation> there.</span></span> <span data-ttu-id="944b4-206">Путь к свойству в этом примере будет `Background.Color`.</span><span class="sxs-lookup"><span data-stu-id="944b4-206">The property path for this example would be `Background.Color`.</span></span>

<a name="attachedanim"></a>

### <a name="attached-properties"></a><span data-ttu-id="944b4-207">Присоединенные свойства</span><span class="sxs-lookup"><span data-stu-id="944b4-207">Attached Properties</span></span>

```xml
<animation Storyboard.TargetProperty="(ownerType.propertyName)" .../>
```

<span data-ttu-id="944b4-208">Круглые скобки указывают, что это свойство в <xref:System.Windows.PropertyPath> должно быть создано с использованием частичной квалификации.</span><span class="sxs-lookup"><span data-stu-id="944b4-208">The parentheses indicate that this property in a <xref:System.Windows.PropertyPath> should be constructed using a partial qualification.</span></span> <span data-ttu-id="944b4-209">Для поиска типа может использоваться пространство имен XML.</span><span class="sxs-lookup"><span data-stu-id="944b4-209">It can use an XML namespace to find the type.</span></span> <span data-ttu-id="944b4-210">`ownerType` ищет типы, к которым обработчик [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] имеет доступ, через объявления <xref:System.Windows.Markup.XmlnsDefinitionAttribute> в каждой сборке.</span><span class="sxs-lookup"><span data-stu-id="944b4-210">The `ownerType` searches types that a [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] processor has access to, through the <xref:System.Windows.Markup.XmlnsDefinitionAttribute> declarations in each assembly.</span></span> <span data-ttu-id="944b4-211">В большинстве приложений есть пространство имен XML по умолчанию, сопоставленное пространству имен `http://schemas.microsoft.com/winfx/2006/xaml/presentation`, поэтому префикс обычно требуется только для настраиваемых типов или типов вне этого пространства имен.</span><span class="sxs-lookup"><span data-stu-id="944b4-211">Most applications have the default XML namespace mapped to the `http://schemas.microsoft.com/winfx/2006/xaml/presentation` namespace, so a prefix is usually only necessary for custom types or types otherwise outside that namespace.</span></span> <span data-ttu-id="944b4-212">`propertyName` должно разрешаться как имя свойства, существующего в `ownerType`.</span><span class="sxs-lookup"><span data-stu-id="944b4-212">`propertyName` must resolve to be the name of a property existing on the `ownerType`.</span></span> <span data-ttu-id="944b4-213">Свойство, указанное как `propertyName`, должно быть <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="944b4-213">The property specified as `propertyName` must be a <xref:System.Windows.DependencyProperty>.</span></span> <span data-ttu-id="944b4-214">(Все присоединенные свойства [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] реализуются как свойства взаимозависимостей, поэтому эта проблема возникает только для настраиваемых присоединенных свойств.)</span><span class="sxs-lookup"><span data-stu-id="944b4-214">(All [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] attached properties are implemented as dependency properties, so this issue is only of concern for custom attached properties.)</span></span>

<a name="indexanim"></a>

### <a name="indexers"></a><span data-ttu-id="944b4-215">Индексаторы</span><span class="sxs-lookup"><span data-stu-id="944b4-215">Indexers</span></span>

```xml
<animation Storyboard.TargetProperty="propertyName.propertyName2[index].propertyName3" .../>
```

<span data-ttu-id="944b4-216">Большинство свойств зависимости или типов <xref:System.Windows.Freezable> не поддерживают индексатор.</span><span class="sxs-lookup"><span data-stu-id="944b4-216">Most dependency properties or <xref:System.Windows.Freezable> types do not support an indexer.</span></span> <span data-ttu-id="944b4-217">Таким образом, единственное использование индексатора в пути к анимации — это промежуточное положение между свойством, которое запускает цепочку в именованном целевом объекте и конечным анимированным свойством.</span><span class="sxs-lookup"><span data-stu-id="944b4-217">Therefore, the only usage for an indexer in an animation path is at an intermediate position between the property that starts the chain on the named target and the eventual animated property.</span></span> <span data-ttu-id="944b4-218">В предоставленном синтаксисе это `propertyName2`.</span><span class="sxs-lookup"><span data-stu-id="944b4-218">In the provided syntax, that is `propertyName2`.</span></span> <span data-ttu-id="944b4-219">Например, может потребоваться использование индексатора, если промежуточное свойство является коллекцией, например <xref:System.Windows.Media.TransformGroup>, в пути к свойству, например `RenderTransform.Children[1].Angle`.</span><span class="sxs-lookup"><span data-stu-id="944b4-219">For instance, an indexer usage might be necessary if the intermediate property is a collection such as <xref:System.Windows.Media.TransformGroup>, in a property path such as `RenderTransform.Children[1].Angle`.</span></span>

<a name="ppincode"></a>

## <a name="propertypath-in-code"></a><span data-ttu-id="944b4-220">PropertyPath в коде</span><span class="sxs-lookup"><span data-stu-id="944b4-220">PropertyPath in Code</span></span>

<span data-ttu-id="944b4-221">Использование кода для <xref:System.Windows.PropertyPath>, включая создание <xref:System.Windows.PropertyPath>, описано в справочном разделе, посвященном <xref:System.Windows.PropertyPath>.</span><span class="sxs-lookup"><span data-stu-id="944b4-221">Code usage for <xref:System.Windows.PropertyPath>, including how to construct a <xref:System.Windows.PropertyPath>, is documented in the reference topic for <xref:System.Windows.PropertyPath>.</span></span>

<span data-ttu-id="944b4-222">В целом <xref:System.Windows.PropertyPath> предназначен для использования двух различных конструкторов: один для использования привязки и простейший способ использования анимации, а второй — для сложных использований анимации.</span><span class="sxs-lookup"><span data-stu-id="944b4-222">In general, <xref:System.Windows.PropertyPath> is designed to use two different constructors, one for the binding usages and simplest animation usages, and one for the complex animation usages.</span></span> <span data-ttu-id="944b4-223">Используйте <xref:System.Windows.PropertyPath.%23ctor%28System.Object%29> подпись для использования привязки, где объект является строкой.</span><span class="sxs-lookup"><span data-stu-id="944b4-223">Use the <xref:System.Windows.PropertyPath.%23ctor%28System.Object%29> signature for binding usages, where the object is a string.</span></span> <span data-ttu-id="944b4-224">Используйте сигнатуру <xref:System.Windows.PropertyPath.%23ctor%28System.Object%29> для одношаговых путей анимации, где объект является <xref:System.Windows.DependencyProperty>.</span><span class="sxs-lookup"><span data-stu-id="944b4-224">Use the <xref:System.Windows.PropertyPath.%23ctor%28System.Object%29> signature for one-step animation paths, where the object is a <xref:System.Windows.DependencyProperty>.</span></span> <span data-ttu-id="944b4-225">Используйте подпись <xref:System.Windows.PropertyPath.%23ctor%28System.String%2CSystem.Object%5B%5D%29> для сложных анимаций.</span><span class="sxs-lookup"><span data-stu-id="944b4-225">Use the <xref:System.Windows.PropertyPath.%23ctor%28System.String%2CSystem.Object%5B%5D%29> signature for complex animations.</span></span> <span data-ttu-id="944b4-226">Последний конструктор использует строку токена для первого параметра и массив объектов, которые заполняют позиции в строке токена, чтобы определить отношение пути к свойству.</span><span class="sxs-lookup"><span data-stu-id="944b4-226">This latter constructor uses a token string for the first parameter and an array of objects that fill positions in the token string to define a property path relationship.</span></span>

## <a name="see-also"></a><span data-ttu-id="944b4-227">См. также:</span><span class="sxs-lookup"><span data-stu-id="944b4-227">See also</span></span>

- <xref:System.Windows.PropertyPath>
- [<span data-ttu-id="944b4-228">Общие сведения о привязке данных</span><span class="sxs-lookup"><span data-stu-id="944b4-228">Data Binding Overview</span></span>](../../../desktop-wpf/data/data-binding-overview.md)
- [<span data-ttu-id="944b4-229">Общие сведения о раскадровке</span><span class="sxs-lookup"><span data-stu-id="944b4-229">Storyboards Overview</span></span>](../graphics-multimedia/storyboards-overview.md)
