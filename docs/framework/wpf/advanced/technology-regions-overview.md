---
title: Общие сведения об областях применения технологий
ms.date: 03/30/2017
helpviewer_keywords:
- window regions [WPF]
- Win32 code [WPF], WPF interoperation
- Win32 code [WPF], airspace
- airspace [WPF]
- interoperability [WPF], airspace
- Win32 code [WPF], window regions
ms.assetid: b7cc350f-b9e2-48b1-be14-60f3d853222e
ms.openlocfilehash: 3fc325f1b4bb4eca73e051732810c9d9853ff4d7
ms.sourcegitcommit: 0c48191d6d641ce88d7510e319cf38c0e35697d0
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/05/2019
ms.locfileid: "57352494"
---
# <a name="technology-regions-overview"></a><span data-ttu-id="c5c65-102">Общие сведения об областях применения технологий</span><span class="sxs-lookup"><span data-stu-id="c5c65-102">Technology Regions Overview</span></span>
<span data-ttu-id="c5c65-103">Если в приложении используются несколько технологий представления, такие как WPF, Win32 или DirectX, то они должны совместно использовать области отрисовки в общем окне верхнего уровня.</span><span class="sxs-lookup"><span data-stu-id="c5c65-103">If multiple presentation technologies are used in an application, such as WPF, Win32, or DirectX, they must share the rendering areas within a common top-level window.</span></span> <span data-ttu-id="c5c65-104">В этом разделе описываются проблемы, которые могут повлиять на представление и выходные данные приложения взаимодействия с WPF.</span><span class="sxs-lookup"><span data-stu-id="c5c65-104">This topic describes issues that might influence the presentation and input for your WPF interoperation application.</span></span>  
  
## <a name="regions"></a><span data-ttu-id="c5c65-105">Области</span><span class="sxs-lookup"><span data-stu-id="c5c65-105">Regions</span></span>  
 <span data-ttu-id="c5c65-106">В окне верхнего уровня можно представить, что каждый HWND, который представляет собой одну из технологий приложения взаимодействия, имеет собственную область (также называемую "свободное пространство").</span><span class="sxs-lookup"><span data-stu-id="c5c65-106">Within a top-level window, you can conceptualize that each HWND that comprises one of the technologies of an interoperation application has its own region (also called "airspace").</span></span> <span data-ttu-id="c5c65-107">Каждый пиксель в окне принадлежит только одному дескриптору HWND, который определяет область этого HWND.</span><span class="sxs-lookup"><span data-stu-id="c5c65-107">Each pixel within the window belongs to exactly one HWND, which constitutes the region of that HWND.</span></span> <span data-ttu-id="c5c65-108">(Строго говоря, существует более одной области [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], если имеется более одного HWND [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], но для целей этого обсуждения можно предположить, что есть только один).</span><span class="sxs-lookup"><span data-stu-id="c5c65-108">(Strictly speaking, there is more than one [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] region if there is more than one [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] HWND, but for purposes of this discussion, you can assume there is only one).</span></span> <span data-ttu-id="c5c65-109">Область подразумевает, что все слои или другие окна, которые пытаются отобразиться поверх этого пикселя во время существования приложения, должны быть частью одной и той же технологии уровня отрисовки.</span><span class="sxs-lookup"><span data-stu-id="c5c65-109">The region implies that all layers or other windows that attempt to render above that pixel during application lifetime must be part of the same render-level technology.</span></span> <span data-ttu-id="c5c65-110">Попытка отобразить пиксели [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] поверх [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] приводит к нежелательным результатам и в максимально возможной степени запрещается через взаимодействие [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c5c65-110">Attempting to render [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] pixels over [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] leads to undesirable results, and is disallowed as much as possible through the interoperation [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span></span>  
  
### <a name="region-examples"></a><span data-ttu-id="c5c65-111">Примеры областей</span><span class="sxs-lookup"><span data-stu-id="c5c65-111">Region Examples</span></span>  
 <span data-ttu-id="c5c65-112">На следующем рисунке показано приложение, в котором одновременно используются [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)], [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] и [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c5c65-112">The following illustration shows an application that mixes [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)], [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)], and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span></span> <span data-ttu-id="c5c65-113">Каждая технология использует отдельный, неперекрывающийся набор пикселей, и проблемы с областями отсутствуют.</span><span class="sxs-lookup"><span data-stu-id="c5c65-113">Each technology uses its own separate, non-overlapping set of pixels, and there are no region issues.</span></span>  
  
 <span data-ttu-id="c5c65-114">![Окно, которое не имеет проблем со свободным пространством](./media/migrationinteroparchitectarticle01.png "MigrationInteropArchitectArticle01")</span><span class="sxs-lookup"><span data-stu-id="c5c65-114">![A window that does not have airspace issues](./media/migrationinteroparchitectarticle01.png "MigrationInteropArchitectArticle01")</span></span>  
  
 <span data-ttu-id="c5c65-115">Предположим, что это приложение использует положение указателя мыши для создания анимации, которая пытается выполнить отрисовку поверх любой из этих трех областей.</span><span class="sxs-lookup"><span data-stu-id="c5c65-115">Suppose that this application uses the mouse pointer position to create an animation that attempts to render over any of these three regions.</span></span> <span data-ttu-id="c5c65-116">Независимо от того, какая технология отвечает за анимацию, эта технология нарушила бы область двух других.</span><span class="sxs-lookup"><span data-stu-id="c5c65-116">No matter which technology was responsible for the animation itself, that technology would violate the region of the other two.</span></span> <span data-ttu-id="c5c65-117">На рисунке показана попытка отрисовать круг WPF поверх области Win32.</span><span class="sxs-lookup"><span data-stu-id="c5c65-117">The following illustration shows an attempt to render a WPF circle over a Win32 region.</span></span>  
  
 <span data-ttu-id="c5c65-118">![Схема взаимодействия](./media/migrationinteroparchitectarticle02.png "MigrationInteropArchitectArticle02")</span><span class="sxs-lookup"><span data-stu-id="c5c65-118">![Interop diagram](./media/migrationinteroparchitectarticle02.png "MigrationInteropArchitectArticle02")</span></span>  
  
 <span data-ttu-id="c5c65-119">Другое нарушение — это попытка использовать прозрачность/альфа-смешение между различными технологиями.</span><span class="sxs-lookup"><span data-stu-id="c5c65-119">Another violation is if you try to use transparency/alpha blending between different technologies.</span></span>  <span data-ttu-id="c5c65-120">На следующей иллюстрации окно [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] нарушает области [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] и [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c5c65-120">In the following illustration, the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] box violates the [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] and [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] regions.</span></span> <span data-ttu-id="c5c65-121">Так как пиксели в этом окне [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] являются полупрозрачными, они должны принадлежать и [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)], и [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], что невозможно.</span><span class="sxs-lookup"><span data-stu-id="c5c65-121">Because pixels in that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] box are semi-transparent, they would have to be owned jointly by both [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] and [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], which is not possible.</span></span>  <span data-ttu-id="c5c65-122">Так что это еще одно нарушение, и его нельзя построить.</span><span class="sxs-lookup"><span data-stu-id="c5c65-122">So this is another violation and cannot be built.</span></span>  
  
 <span data-ttu-id="c5c65-123">![Схема взаимодействия](./media/migrationinteroparchitectarticle03.png "MigrationInteropArchitectArticle03")</span><span class="sxs-lookup"><span data-stu-id="c5c65-123">![Interop diagram](./media/migrationinteroparchitectarticle03.png "MigrationInteropArchitectArticle03")</span></span>  
  
 <span data-ttu-id="c5c65-124">В предыдущих трех примерах использовались прямоугольные области, но возможны разные формы.</span><span class="sxs-lookup"><span data-stu-id="c5c65-124">The previous three examples used rectangular regions, but different shapes are possible.</span></span>  <span data-ttu-id="c5c65-125">Например, в области может быть отверстие.</span><span class="sxs-lookup"><span data-stu-id="c5c65-125">For example, a region can have a hole.</span></span> <span data-ttu-id="c5c65-126">На следующем рисунке показана область [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] с прямоугольным отверстием. Это размер областей [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] и [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] вместе.</span><span class="sxs-lookup"><span data-stu-id="c5c65-126">The following illustration shows a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] region with a rectangular hole this is the size of the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] and [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] regions combined.</span></span>  
  
 <span data-ttu-id="c5c65-127">![Схема взаимодействия](./media/migrationinteroparchitectarticle04.png "MigrationInteropArchitectArticle04")</span><span class="sxs-lookup"><span data-stu-id="c5c65-127">![Interop diagram](./media/migrationinteroparchitectarticle04.png "MigrationInteropArchitectArticle04")</span></span>  
  
 <span data-ttu-id="c5c65-128">Области также могут быть полностью непрямоугольными или иметь любую форму, описываемую [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HRGN (область).</span><span class="sxs-lookup"><span data-stu-id="c5c65-128">Regions can also be completely nonrectangular, or any shape describable by a [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HRGN (region).</span></span>  
  
 <span data-ttu-id="c5c65-129">![Схема взаимодействия](./media/migrationinteroparchitectarticle05.png "MigrationInteropArchitectArticle05")</span><span class="sxs-lookup"><span data-stu-id="c5c65-129">![Interop diagram](./media/migrationinteroparchitectarticle05.png "MigrationInteropArchitectArticle05")</span></span>  
  
## <a name="transparency-and-top-level-windows"></a><span data-ttu-id="c5c65-130">Прозрачность и окна верхнего уровня</span><span class="sxs-lookup"><span data-stu-id="c5c65-130">Transparency and Top-Level Windows</span></span>  
 <span data-ttu-id="c5c65-131">Диспетчер окон Windows в действительности обрабатывает только HWND [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c5c65-131">The window manager in Windows only really processes [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] HWNDs.</span></span> <span data-ttu-id="c5c65-132">Таким образом каждый [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.Window> является HWND.</span><span class="sxs-lookup"><span data-stu-id="c5c65-132">Therefore, every [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <xref:System.Windows.Window> is an HWND.</span></span> <span data-ttu-id="c5c65-133"><xref:System.Windows.Window> HWND должны соблюдаться общие правила для любого HWND.</span><span class="sxs-lookup"><span data-stu-id="c5c65-133">The <xref:System.Windows.Window> HWND must abide by the general rules for any HWND.</span></span> <span data-ttu-id="c5c65-134">Внутри этого HWND код [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] может выполнять любую поддержку [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c5c65-134">Within that HWND, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] code can do whatever the overall [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] support.</span></span> <span data-ttu-id="c5c65-135">Но для взаимодействия с другими HWND на рабочем столе [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] должен соответствовать правилам обработки и отрисовки [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c5c65-135">But for interactions with other HWNDs on the desktop, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] must abide by [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] processing and rendering rules.</span></span>  [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="c5c65-136">поддерживает непрямоугольные окна с помощью [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] — HRGN для непрямоугольных окон, и многослойные окна для альфа-смешения на уровне отдельных пикселей.</span><span class="sxs-lookup"><span data-stu-id="c5c65-136">supports non-rectangular windows by using [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)]—HRGNs for non-rectangular windows, and layered windows for a per-pixel alpha.</span></span>  
  
 <span data-ttu-id="c5c65-137">Постоянные альфа- и цветовые ключи не поддерживаются.</span><span class="sxs-lookup"><span data-stu-id="c5c65-137">Constant alpha and color keys are not supported.</span></span>  <span data-ttu-id="c5c65-138">Возможности многослойных окон [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] зависят от платформы.</span><span class="sxs-lookup"><span data-stu-id="c5c65-138">[!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] layered window capabilities vary by platform.</span></span>  
  
 <span data-ttu-id="c5c65-139">Многослойные окна позволяют сделать все окно прозрачным (полупрозрачным), указав альфа-значение, которое применяется к каждому пикселю в окне.</span><span class="sxs-lookup"><span data-stu-id="c5c65-139">Layered windows can make the entire window translucent (semi-transparent) by specifying an alpha value to apply to every pixel in the window.</span></span>  <span data-ttu-id="c5c65-140">([!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] фактически поддерживает альфа-смешение на уровне отдельных пикселей, но это очень сложно использовать в практических программах, потому что в этом режиме нужно рисовать все дочерние HWND самостоятельно, включая диалоговые окна и выпадающие списки).</span><span class="sxs-lookup"><span data-stu-id="c5c65-140">([!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] in fact supports per-pixel alpha, but this is very difficult to use in practical programs because in this mode you would need to draw any child HWND yourself, including dialogs and dropdowns).</span></span>  
  
 [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="c5c65-141">поддерживает HRGN. Тем не менее для этой функциональности нет управляемых [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c5c65-141">supports HRGNs; however, there are no managed [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)] for this functionality.</span></span> <span data-ttu-id="c5c65-142">Можно использовать платформу вызова и <xref:System.Windows.Interop.HwndSource> для вызова соответствующего [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c5c65-142">You can use platform invoke and <xref:System.Windows.Interop.HwndSource> to call the relevant [!INCLUDE[TLA2#tla_win32](../../../../includes/tla2sharptla-win32-md.md)] [!INCLUDE[TLA2#tla_api#plural](../../../../includes/tla2sharptla-apisharpplural-md.md)].</span></span> <span data-ttu-id="c5c65-143">Дополнительную информацию см. в разделе [Вызов встроенных функций из управляемого кода](/cpp/dotnet/calling-native-functions-from-managed-code).</span><span class="sxs-lookup"><span data-stu-id="c5c65-143">For more information, see [Calling Native Functions from Managed Code](/cpp/dotnet/calling-native-functions-from-managed-code).</span></span>  
  
 <span data-ttu-id="c5c65-144">Многослойные окна [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] имеют разные функциональные возможности в различных операционных системах.</span><span class="sxs-lookup"><span data-stu-id="c5c65-144">[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layered windows have different capabilities on different operating systems.</span></span> <span data-ttu-id="c5c65-145">Это связано с тем, что [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] использует [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] для отрисовки, а многослойные окна были в первую очередь предназначены для отрисовки [!INCLUDE[TLA2#tla_gdi](../../../../includes/tla2sharptla-gdi-md.md)], а не [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c5c65-145">This is because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] uses [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] to render, and layered windows were primarily designed for [!INCLUDE[TLA2#tla_gdi](../../../../includes/tla2sharptla-gdi-md.md)] rendering, not [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] rendering.</span></span>  
  
-   [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="c5c65-146">поддерживает аппаратное ускорение многослойных окон в [!INCLUDE[TLA#tla_longhorn](../../../../includes/tlasharptla-longhorn-md.md)] и более поздних версиях.</span><span class="sxs-lookup"><span data-stu-id="c5c65-146">supports hardware accelerated layered windows on [!INCLUDE[TLA#tla_longhorn](../../../../includes/tlasharptla-longhorn-md.md)] and later.</span></span> <span data-ttu-id="c5c65-147">Для многослойных окон с аппаратным ускорением в [!INCLUDE[TLA2#tla_winxp](../../../../includes/tla2sharptla-winxp-md.md)] требуется поддержка [!INCLUDE[TLA#tla_dx](../../../../includes/tlasharptla-dx-md.md)], поэтому их возможности будут зависеть от версии [!INCLUDE[TLA#tla_dx](../../../../includes/tlasharptla-dx-md.md)] на данном компьютере.</span><span class="sxs-lookup"><span data-stu-id="c5c65-147">Hardware accelerated layered windows on [!INCLUDE[TLA2#tla_winxp](../../../../includes/tla2sharptla-winxp-md.md)] require support from [!INCLUDE[TLA#tla_dx](../../../../includes/tlasharptla-dx-md.md)], so the capabilities will depend on the version of [!INCLUDE[TLA#tla_dx](../../../../includes/tlasharptla-dx-md.md)] on that machine.</span></span>  
  
-   [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="c5c65-148">не поддерживает цветовые ключи прозрачности, так как [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] не может гарантировать отрисовку необходимого цвета, особенно при использовании аппаратного ускорения.</span><span class="sxs-lookup"><span data-stu-id="c5c65-148">does not support transparency color keys, because [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] cannot guarantee to render the exact color you requested, particularly when rendering is hardware-accelerated.</span></span>  
  
-   <span data-ttu-id="c5c65-149">Если приложение работает в [!INCLUDE[TLA2#tla_winxp](../../../../includes/tla2sharptla-winxp-md.md)], многослойные окна поверх поверхностей [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] мерцают при отрисовке приложения [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c5c65-149">If your application is running on [!INCLUDE[TLA2#tla_winxp](../../../../includes/tla2sharptla-winxp-md.md)], layered windows on top of [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] surfaces flicker when the [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] application renders.</span></span>  <span data-ttu-id="c5c65-150">(Фактическая последовательность отрисовки заключается в том, что [!INCLUDE[TLA#tla_gdi](../../../../includes/tlasharptla-gdi-md.md)] скрывает многослойное окно, выполняется рисование [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)], а затем возвращает [!INCLUDE[TLA#tla_gdi](../../../../includes/tlasharptla-gdi-md.md)] многослойное окно).</span><span class="sxs-lookup"><span data-stu-id="c5c65-150">(The actual rendering sequence is that [!INCLUDE[TLA#tla_gdi](../../../../includes/tlasharptla-gdi-md.md)] hides the layered window, then [!INCLUDE[TLA2#tla_dx](../../../../includes/tla2sharptla-dx-md.md)] draws, and then [!INCLUDE[TLA#tla_gdi](../../../../includes/tlasharptla-gdi-md.md)] puts the layered window back).</span></span>  <span data-ttu-id="c5c65-151">Это ограничение накладывается и на многослойные окна вне [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="c5c65-151">Non-[!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] layered windows also have this limitation.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="c5c65-152">См. также</span><span class="sxs-lookup"><span data-stu-id="c5c65-152">See also</span></span>
- [<span data-ttu-id="c5c65-153">Взаимодействие WPF и Win32</span><span class="sxs-lookup"><span data-stu-id="c5c65-153">WPF and Win32 Interoperation</span></span>](wpf-and-win32-interoperation.md)
- [<span data-ttu-id="c5c65-154">Пошаговое руководство: Размещение часов WPF в Win32</span><span class="sxs-lookup"><span data-stu-id="c5c65-154">Walkthrough: Hosting a WPF Clock in Win32</span></span>](walkthrough-hosting-a-wpf-clock-in-win32.md)
- [<span data-ttu-id="c5c65-155">Размещение содержимого Win32 в WPF</span><span class="sxs-lookup"><span data-stu-id="c5c65-155">Hosting Win32 Content in WPF</span></span>](hosting-win32-content-in-wpf.md)
