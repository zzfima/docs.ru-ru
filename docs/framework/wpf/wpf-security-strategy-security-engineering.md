---
title: Стратегия безопасности WPF — проектирование безопасности
ms.date: 03/30/2017
helpviewer_keywords:
- security [WPF], testing techniques
- Security Development Lifecycle (SDL), security analysis [WPF]
- Security Development Lifecycle (SDL), threat modeling
- Security Development Lifecycle (SDL), testing techniques
- Security Development Lifecycle (SDL), source analysis tools
- Security Development Lifecycle (SDL), critical code management
- threat modeling [WPF]
ms.assetid: 0fc04394-4e47-49ca-b0cf-8cd1161d95b9
ms.openlocfilehash: 6006024f29c37545ce95e579c7b93727d8c6bc67
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/23/2019
ms.locfileid: "54547752"
---
# <a name="wpf-security-strategy---security-engineering"></a><span data-ttu-id="81d30-102">Стратегия безопасности WPF — проектирование безопасности</span><span class="sxs-lookup"><span data-stu-id="81d30-102">WPF Security Strategy - Security Engineering</span></span>
<span data-ttu-id="81d30-103">Trustworthy Computing (защищенные информационные системы) — это инициатива корпорации Майкрософт по созданию безопасного кода.</span><span class="sxs-lookup"><span data-stu-id="81d30-103">Trustworthy Computing is a Microsoft initiative for ensuring the production of secure code.</span></span> <span data-ttu-id="81d30-104">Ключевым элементом для создания защищенных информационных систем является [!INCLUDE[TLA#tla_sdl](../../../includes/tlasharptla-sdl-md.md)].</span><span class="sxs-lookup"><span data-stu-id="81d30-104">A key element of the Trustworthy Computing initiative is the [!INCLUDE[TLA#tla_sdl](../../../includes/tlasharptla-sdl-md.md)].</span></span> <span data-ttu-id="81d30-105">[!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)] является технической практикой, которая используется в сочетании со стандартными инженерными процессами для облегчения доставки безопасного кода.</span><span class="sxs-lookup"><span data-stu-id="81d30-105">The [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)] is an engineering practice that is used in conjunction with standard engineering processes to facilitate the delivery of secure code.</span></span> <span data-ttu-id="81d30-106">[!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)] состоит из десяти этапов, которые объединяют рекомендации с формализацией, измеряемостью и дополнительными структурами, включая:</span><span class="sxs-lookup"><span data-stu-id="81d30-106">The [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)] consists of ten phases that combine best practices with formalization, measurability, and additional structure, including:</span></span>  
  
-   <span data-ttu-id="81d30-107">анализ разработки безопасности;</span><span class="sxs-lookup"><span data-stu-id="81d30-107">Security design analysis</span></span>  
  
-   <span data-ttu-id="81d30-108">проверки качества на основе инструментов;</span><span class="sxs-lookup"><span data-stu-id="81d30-108">Tool-based quality checks</span></span>  
  
-   <span data-ttu-id="81d30-109">тестирование уязвимости;</span><span class="sxs-lookup"><span data-stu-id="81d30-109">Penetration testing</span></span>  
  
-   <span data-ttu-id="81d30-110">окончательный анализ безопасности;</span><span class="sxs-lookup"><span data-stu-id="81d30-110">Final security review</span></span>  
  
-   <span data-ttu-id="81d30-111">управление безопасностью после выпуска продукта.</span><span class="sxs-lookup"><span data-stu-id="81d30-111">Post release product security management</span></span>  
  
## <a name="wpf-specifics"></a><span data-ttu-id="81d30-112">Особенности WPF</span><span class="sxs-lookup"><span data-stu-id="81d30-112">WPF Specifics</span></span>  
 <span data-ttu-id="81d30-113">Группа разработки [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] применяет и расширяет [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)], сочетание которых включает следующие ключевые аспекты.</span><span class="sxs-lookup"><span data-stu-id="81d30-113">The [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] engineering team both applies and extends the [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)], the combination of which includes the following key aspects:</span></span>  
  
 [<span data-ttu-id="81d30-114">Моделирование угроз</span><span class="sxs-lookup"><span data-stu-id="81d30-114">Threat Modeling</span></span>](#threat_modeling)  
  
 [<span data-ttu-id="81d30-115">Анализ безопасности и средства редактирования</span><span class="sxs-lookup"><span data-stu-id="81d30-115">Security Analysis and Editing Tools</span></span>](#tools)  
  
 [<span data-ttu-id="81d30-116">Способы тестирования</span><span class="sxs-lookup"><span data-stu-id="81d30-116">Testing Techniques</span></span>](#techniques)  
  
 [<span data-ttu-id="81d30-117">Управление критическим кодом</span><span class="sxs-lookup"><span data-stu-id="81d30-117">Critical Code Management</span></span>](#critical_code)  
  
<a name="threat_modeling"></a>   
### <a name="threat-modeling"></a><span data-ttu-id="81d30-118">Моделирование угроз</span><span class="sxs-lookup"><span data-stu-id="81d30-118">Threat Modeling</span></span>  
 <span data-ttu-id="81d30-119">Моделирование угроз является основным компонентом [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)] и используется для профилирования системы, чтобы определить потенциальные уязвимости системы безопасности.</span><span class="sxs-lookup"><span data-stu-id="81d30-119">Threat modeling is a core component of the [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)], and is used to profile a system to determine potential security vulnerabilities.</span></span> <span data-ttu-id="81d30-120">После обнаружения уязвимостей моделирование угроз также гарантирует принятие соответствующих мер по снижению уязвимости.</span><span class="sxs-lookup"><span data-stu-id="81d30-120">Once the vulnerabilities are identified, threat modeling also ensures that appropriate mitigations are in place.</span></span>  
  
 <span data-ttu-id="81d30-121">На высоком уровне моделирование угроз включает следующие основные этапы, если использовать в качестве примера продуктовый магазин.</span><span class="sxs-lookup"><span data-stu-id="81d30-121">At a high level, threat modeling involves the following key steps by using a grocery store as an example:</span></span>  
  
1.  <span data-ttu-id="81d30-122">**Идентификация активов**.</span><span class="sxs-lookup"><span data-stu-id="81d30-122">**Identifying Assets**.</span></span> <span data-ttu-id="81d30-123">Активы продуктового магазина могут включать сотрудников, сейф, кассовые аппараты и склад.</span><span class="sxs-lookup"><span data-stu-id="81d30-123">A grocery store's assets might include employees, a safe, cash registers, and inventory.</span></span>  
  
2.  <span data-ttu-id="81d30-124">**Перечисление точек входа**.</span><span class="sxs-lookup"><span data-stu-id="81d30-124">**Enumerating Entry Points**.</span></span> <span data-ttu-id="81d30-125">Точки входа продуктового магазина могут включать переднюю и заднюю двери, окна, погрузочный док и установки для кондиционирования воздуха.</span><span class="sxs-lookup"><span data-stu-id="81d30-125">A grocery store's entry points might include the front and back doors, windows, the loading dock, and air conditioning units.</span></span>  
  
3.  <span data-ttu-id="81d30-126">**Изучение атак на активы с использованием точек входа**.</span><span class="sxs-lookup"><span data-stu-id="81d30-126">**Investigating Attacks against Assets using Entry Points**.</span></span> <span data-ttu-id="81d30-127">Одна из возможных атак может быть предпринята на *сейф* продуктового магазина через *установку для кондиционирования воздуха*; эта установка может быть выкручена, чтобы вытянуть через нее сейф и покинуть магазин.</span><span class="sxs-lookup"><span data-stu-id="81d30-127">One possible attack could target a grocery store's *safe* asset through the *air conditioning* entry point; the air conditioning unit could be unscrewed to allow the safe to be pulled up through it and out of the store.</span></span>  
  
 <span data-ttu-id="81d30-128">Моделирование угроз применяется во всем [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] и включает следующее.</span><span class="sxs-lookup"><span data-stu-id="81d30-128">Threat modeling is applied throughout [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] and includes the following:</span></span>  
  
-   <span data-ttu-id="81d30-129">Как средство синтаксического анализа [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] читает файлы, сопоставляет текст с соответствующими классами объектной модели и создает фактический код.</span><span class="sxs-lookup"><span data-stu-id="81d30-129">How the [!INCLUDE[TLA2#tla_xaml](../../../includes/tla2sharptla-xaml-md.md)] parser reads files, maps text to corresponding object model classes, and creates the actual code.</span></span>  
  
-   <span data-ttu-id="81d30-130">Как дескриптор окна (hWnd) создается, отправляет сообщения и используется для отображения содержимого окна.</span><span class="sxs-lookup"><span data-stu-id="81d30-130">How a window handle (hWnd) is created, sends messages, and is used for rendering the contents of a window.</span></span>  
  
-   <span data-ttu-id="81d30-131">Как привязка данных получает ресурсы и взаимодействует с системой.</span><span class="sxs-lookup"><span data-stu-id="81d30-131">How data binding obtains resources and interacts with the system.</span></span>  
  
 <span data-ttu-id="81d30-132">Эти модели угроз важны для идентификации требований к разработке системы безопасности и снижения угроз в процессе разработки.</span><span class="sxs-lookup"><span data-stu-id="81d30-132">These threat models are important for identifying security design requirements and threat mitigations during the development process.</span></span>  
  
<a name="tools"></a>   
### <a name="source-analysis-and-editing-tools"></a><span data-ttu-id="81d30-133">Анализ безопасности и средства редактирования</span><span class="sxs-lookup"><span data-stu-id="81d30-133">Source Analysis and Editing Tools</span></span>  
 <span data-ttu-id="81d30-134">В дополнение к ручному анализу кода безопасности элементов [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)] группа  [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] использует несколько средств для анализа источника и связанных правок для уменьшения уязвимости системы безопасности.</span><span class="sxs-lookup"><span data-stu-id="81d30-134">In addition to the manual security code review elements of the [!INCLUDE[TLA2#tla_sdl](../../../includes/tla2sharptla-sdl-md.md)], the [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] team uses several tools for source analysis and associated edits to decrease security vulnerabilities.</span></span> <span data-ttu-id="81d30-135">Используются широкий диапазон средств, который включает следующее.</span><span class="sxs-lookup"><span data-stu-id="81d30-135">A wide range of source tools are used, and include the following:</span></span>  
  
-   <span data-ttu-id="81d30-136">**FXCop**: Поиск общих проблем безопасности в управляемом коде — от правил наследования до использования управления доступом для кода для безопасного взаимодействия с неуправляемым кодом.</span><span class="sxs-lookup"><span data-stu-id="81d30-136">**FXCop**: Finds common security issues in managed code ranging from inheritance rules to code access security usage to how to safely interoperate with unmanaged code.</span></span> <span data-ttu-id="81d30-137">См. раздел [FXCop](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.0/bb429476%28v=vs.80%29).</span><span class="sxs-lookup"><span data-stu-id="81d30-137">See [FXCop](https://docs.microsoft.com/previous-versions/dotnet/netframework-3.0/bb429476%28v=vs.80%29).</span></span>  
  
-   <span data-ttu-id="81d30-138">**Prefix/Prefast**: Поиск уязвимостей системы безопасности и общих проблем безопасности в неуправляемом коде, таких как переполнение буфера, проблемы строки форматирования и проверки на наличие ошибок.</span><span class="sxs-lookup"><span data-stu-id="81d30-138">**Prefix/Prefast**: Finds security vulnerabilities and common security issues in unmanaged code such as buffer overruns, format string issues, and error checking.</span></span>  
  
-   <span data-ttu-id="81d30-139">**Запрещенные API**: Выполняется поиск в исходном коде случайного использования функций, которые известны своими проблемами безопасности, таких как `strcpy`.</span><span class="sxs-lookup"><span data-stu-id="81d30-139">**Banned APIs**: Searches source code to identify accidental usage of functions that are well-known for causing security issues, such as `strcpy`.</span></span> <span data-ttu-id="81d30-140">После обнаружения эти функции заменяются альтернативными, которые имеют более высокий уровень безопасности.</span><span class="sxs-lookup"><span data-stu-id="81d30-140">Once identified, these functions are replaced with alternatives that are more security.</span></span>  
  
<a name="techniques"></a>   
### <a name="testing-techniques"></a><span data-ttu-id="81d30-141">Способы тестирования</span><span class="sxs-lookup"><span data-stu-id="81d30-141">Testing Techniques</span></span>  
 [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] <span data-ttu-id="81d30-142">использует различные методы тестирования безопасности, включая следующие.</span><span class="sxs-lookup"><span data-stu-id="81d30-142">uses a variety of security testing techniques that include:</span></span>  
  
-   <span data-ttu-id="81d30-143">**Тестирование методом белого ящика**: Тест-инженеры просматривают исходный код и затем создают эксплойт-тесты</span><span class="sxs-lookup"><span data-stu-id="81d30-143">**Whitebox Testing**: Testers view source code, and then build exploit tests</span></span>  
  
-   <span data-ttu-id="81d30-144">**Тестирование методом черного ящика**: Тест-инженеры попробуйте найти атаки системы безопасности, проверяя API и возможности и затем пытаются атаковать продукт.</span><span class="sxs-lookup"><span data-stu-id="81d30-144">**Blackbox Testing**: Testers try to find security exploits by examining the API and features, and then try to attack the product.</span></span>  
  
-   <span data-ttu-id="81d30-145">**Вопросы безопасности регрессирование из других продуктов**: Там, где проверяются проблем безопасности от связанных продуктов.</span><span class="sxs-lookup"><span data-stu-id="81d30-145">**Regressing Security Issues from other Products**: Where relevant, security issues from related products are tested.</span></span> <span data-ttu-id="81d30-146">Например, соответствующие варианты приблизительно шестидесяти проблем безопасности для [!INCLUDE[TLA2#tla_ie](../../../includes/tla2sharptla-ie-md.md)] определены и испытаны на их применимость к [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="81d30-146">For example, appropriate variants of approximately sixty security issues for [!INCLUDE[TLA2#tla_ie](../../../includes/tla2sharptla-ie-md.md)] have been identified and tried for their applicability to [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)].</span></span>  
  
-   <span data-ttu-id="81d30-147">**Тестирование уязвимости на основе инструментов с помощью нечеткого тестирования**: Нечеткое тестирование файлов — это использование модуля чтения файлов входного диапазона с помощью разнообразных входных данных.</span><span class="sxs-lookup"><span data-stu-id="81d30-147">**Tools-Based Penetration Testing through File Fuzzing**: File fuzzing is the exploitation of a file reader's input range through a variety of inputs.</span></span> <span data-ttu-id="81d30-148">Одним из примеров в [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)], где используется этот способ, является проверка неисправности в коде декодирования изображения.</span><span class="sxs-lookup"><span data-stu-id="81d30-148">One example in [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] where this technique is used is to check for failure in image decoding code.</span></span>  
  
<a name="critical_code"></a>   
### <a name="critical-code-management"></a><span data-ttu-id="81d30-149">Управление критическим кодом</span><span class="sxs-lookup"><span data-stu-id="81d30-149">Critical Code Management</span></span>  
 <span data-ttu-id="81d30-150">Для [!INCLUDE[TLA#tla_xbap#plural](../../../includes/tlasharptla-xbapsharpplural-md.md)], [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] строит песочницу безопасности, используя поддержку .NET Framework для пометки и отслеживания с точки зрения безопасности код, который повышает права (см. в разделе **с точки зрения безопасности методологии** в [WPF Стратегия безопасности — безопасность платформы](../../../docs/framework/wpf/wpf-security-strategy-platform-security.md)).</span><span class="sxs-lookup"><span data-stu-id="81d30-150">For [!INCLUDE[TLA#tla_xbap#plural](../../../includes/tlasharptla-xbapsharpplural-md.md)], [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] builds a security sandbox by using .NET Framework support for marking and tracking security-critical code that elevates privileges (see **Security-Critical Methodology** in [WPF Security Strategy - Platform Security](../../../docs/framework/wpf/wpf-security-strategy-platform-security.md)).</span></span> <span data-ttu-id="81d30-151">Учитывая требования к высокому качеству безопасности при защите важного кода, такой код получает дополнительный уровень управления источником и аудита безопасности.</span><span class="sxs-lookup"><span data-stu-id="81d30-151">Given the high security quality requirements on security critical code, such code receives an additional level of source management control and security audit.</span></span> <span data-ttu-id="81d30-152">Приблизительно от 5 % до 10 % [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] состоит из кода, критического с точки зрения безопасности, который анализируется выделенной группой анализа.</span><span class="sxs-lookup"><span data-stu-id="81d30-152">Approximately 5% to 10% of [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] consists of security-critical code, which is reviewed by a dedicated reviewing team.</span></span> <span data-ttu-id="81d30-153">Исходный код и постановка кода на учет управляются путем отслеживания кода, критического с точки зрения безопасности, и сопоставления каждой критической сущности (например, метода, содержащего критический код) с ее утвержденным состоянием.</span><span class="sxs-lookup"><span data-stu-id="81d30-153">The source code and check-in process is managed by tracking security critical code and mapping each critical entity (i.e. a method that contains critical code) to its sign off state.</span></span> <span data-ttu-id="81d30-154">Утвержденное состояние содержит имена одного или нескольких рецензентов.</span><span class="sxs-lookup"><span data-stu-id="81d30-154">The sign off state includes the names of one or more reviewers.</span></span> <span data-ttu-id="81d30-155">Каждая ежедневная сборка [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] сравнивает критически важный код с этим кодом в предыдущих сборках для проверки неутвержденных изменений.</span><span class="sxs-lookup"><span data-stu-id="81d30-155">Each daily build of [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] compares the critical code to that in previous builds to check for unapproved changes.</span></span> <span data-ttu-id="81d30-156">Если инженер изменяет критически важный код без получения утверждения от группы рецензирования, он немедленно обнаруживается и фиксируется.</span><span class="sxs-lookup"><span data-stu-id="81d30-156">If an engineer modifies critical code without approval from the reviewing team, it is identified and fixed immediately.</span></span> <span data-ttu-id="81d30-157">Этот процесс обеспечивает применение и обслуживание особенно высокого уровня безопасности через код песочницы [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="81d30-157">This process enables the application and maintenance of an especially high level of scrutiny over [!INCLUDE[TLA2#tla_winclient](../../../includes/tla2sharptla-winclient-md.md)] sandbox code.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="81d30-158">См. также</span><span class="sxs-lookup"><span data-stu-id="81d30-158">See also</span></span>
- [<span data-ttu-id="81d30-159">Безопасность</span><span class="sxs-lookup"><span data-stu-id="81d30-159">Security</span></span>](../../../docs/framework/wpf/security-wpf.md)
- [<span data-ttu-id="81d30-160">Безопасность частичного доверия в WPF</span><span class="sxs-lookup"><span data-stu-id="81d30-160">WPF Partial Trust Security</span></span>](../../../docs/framework/wpf/wpf-partial-trust-security.md)
- [<span data-ttu-id="81d30-161">Стратегия безопасности WPF — безопасность платформы</span><span class="sxs-lookup"><span data-stu-id="81d30-161">WPF Security Strategy - Platform Security</span></span>](../../../docs/framework/wpf/wpf-security-strategy-platform-security.md)
- [<span data-ttu-id="81d30-162">Trustworthy Computing</span><span class="sxs-lookup"><span data-stu-id="81d30-162">Trustworthy Computing</span></span>](https://www.microsoft.com/mscorp/twc/default.mspx)
- [<span data-ttu-id="81d30-163">Моделирование угроз приложений</span><span class="sxs-lookup"><span data-stu-id="81d30-163">Application Threat Modeling</span></span>](https://msdn.microsoft.com/security/securecode/threatmodeling/acetm/)
- [<span data-ttu-id="81d30-164">Руководство по безопасности: .NET Framework 2.0</span><span class="sxs-lookup"><span data-stu-id="81d30-164">Security Guidelines: .NET Framework 2.0</span></span>](https://msdn.microsoft.com/library/default.asp?url=/library/dnpag2/html/PAGGuidelines0003.asp)
