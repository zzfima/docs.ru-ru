---
title: Общие сведения о методах анимации свойств
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
- cpp
helpviewer_keywords:
- animation [WPF], properties [WPF], methods for
- properties [WPF], methods for animating
ms.assetid: 74f61413-f8c0-4e75-bf04-951886426c8b
ms.openlocfilehash: 032a26788b9097461cb2270e251ca80c56c1c336
ms.sourcegitcommit: 3d5d33f384eeba41b2dff79d096f47ccc8d8f03d
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/04/2018
---
# <a name="property-animation-techniques-overview"></a><span data-ttu-id="2f1cb-102">Общие сведения о методах анимации свойств</span><span class="sxs-lookup"><span data-stu-id="2f1cb-102">Property Animation Techniques Overview</span></span>
<span data-ttu-id="2f1cb-103">В этом разделе описываются различные подходы к анимации свойств: раскадровки, локальные анимации, часы и покадровая анимация.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-103">This topic describes the different approaches for animating properties: storyboards, local animations, clocks, and per-frame animations.</span></span>  
  
<a name="prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="2f1cb-104">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="2f1cb-104">Prerequisites</span></span>  
 <span data-ttu-id="2f1cb-105">Для понимания этого раздела необходимо ознакомиться с базовыми средствами анимации, которые описаны в разделе [Общие сведения об эффектах анимации](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2f1cb-105">To understand this topic, you should be familiar with the basic animation features described in the [Animation Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md).</span></span>  
  
<a name="summary"></a>   
## <a name="different-ways-to-animate"></a><span data-ttu-id="2f1cb-106">Различные способы анимации</span><span class="sxs-lookup"><span data-stu-id="2f1cb-106">Different Ways to Animate</span></span>  
 <span data-ttu-id="2f1cb-107">Так как существует множество различных сценариев для анимации свойств, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] предоставляет несколько подходов к анимации свойств.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-107">Because there are many different scenarios for animating properties, [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] provides several approaches for animating properties.</span></span>  
  
 <span data-ttu-id="2f1cb-108">Для каждого подхода в следующей таблице указано, можно ли применять его к конкретным экземплярам, использовать в стилях, в шаблонах элементов управления или в шаблонах данных, можно ли использовать его в [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] и позволяет ли этот подход интерактивно управлять анимацией.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-108">For each approach, the following table indicates whether it can be used per-instance, in styles, in control templates, or in data templates; whether it can be used in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)]; and whether the approach enables you to interactively control the animation.</span></span>  <span data-ttu-id="2f1cb-109">Применение к конкретным экземплярам подразумевает применение анимации или раскадровки непосредственно к экземплярам объектов, а не в стилях, шаблонах элементов управления или шаблонах данных.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-109">"Per-Instance" refers to the technique of applying an animation or storyboard directly to instances of an object, rather than in a style, control template, or data template.</span></span>  
  
|<span data-ttu-id="2f1cb-110">Подход к анимации</span><span class="sxs-lookup"><span data-stu-id="2f1cb-110">Animation technique</span></span>|<span data-ttu-id="2f1cb-111">Сценарии</span><span class="sxs-lookup"><span data-stu-id="2f1cb-111">Scenarios</span></span>|<span data-ttu-id="2f1cb-112">Поддерживает XAML</span><span class="sxs-lookup"><span data-stu-id="2f1cb-112">Supports XAML</span></span>|<span data-ttu-id="2f1cb-113">Интерактивное управление</span><span class="sxs-lookup"><span data-stu-id="2f1cb-113">Interactively controllable</span></span>|  
|-------------------------|---------------|-------------------|--------------------------------|  
|<span data-ttu-id="2f1cb-114">Раскадровка</span><span class="sxs-lookup"><span data-stu-id="2f1cb-114">Storyboard animation</span></span>|<span data-ttu-id="2f1cb-115">Для каждого экземпляра, <xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>, <xref:System.Windows.DataTemplate></span><span class="sxs-lookup"><span data-stu-id="2f1cb-115">Per-instance, <xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate>, <xref:System.Windows.DataTemplate></span></span>|<span data-ttu-id="2f1cb-116">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-116">Yes</span></span>|<span data-ttu-id="2f1cb-117">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-117">Yes</span></span>|  
|<span data-ttu-id="2f1cb-118">Локальная анимация</span><span class="sxs-lookup"><span data-stu-id="2f1cb-118">Local animation</span></span>|<span data-ttu-id="2f1cb-119">Применение к конкретным экземплярам</span><span class="sxs-lookup"><span data-stu-id="2f1cb-119">Per-instance</span></span>|<span data-ttu-id="2f1cb-120">Нет</span><span class="sxs-lookup"><span data-stu-id="2f1cb-120">No</span></span>|<span data-ttu-id="2f1cb-121">Нет</span><span class="sxs-lookup"><span data-stu-id="2f1cb-121">No</span></span>|  
|<span data-ttu-id="2f1cb-122">Часы</span><span class="sxs-lookup"><span data-stu-id="2f1cb-122">Clock animation</span></span>|<span data-ttu-id="2f1cb-123">Применение к конкретным экземплярам</span><span class="sxs-lookup"><span data-stu-id="2f1cb-123">Per-instance</span></span>|<span data-ttu-id="2f1cb-124">Нет</span><span class="sxs-lookup"><span data-stu-id="2f1cb-124">No</span></span>|<span data-ttu-id="2f1cb-125">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-125">Yes</span></span>|  
|<span data-ttu-id="2f1cb-126">Покадровая анимация</span><span class="sxs-lookup"><span data-stu-id="2f1cb-126">Per-frame animation</span></span>|<span data-ttu-id="2f1cb-127">Применение к конкретным экземплярам</span><span class="sxs-lookup"><span data-stu-id="2f1cb-127">Per-instance</span></span>|<span data-ttu-id="2f1cb-128">Нет</span><span class="sxs-lookup"><span data-stu-id="2f1cb-128">No</span></span>|<span data-ttu-id="2f1cb-129">Н/Д</span><span class="sxs-lookup"><span data-stu-id="2f1cb-129">N/A</span></span>|  
  
<a name="storyboard_animations"></a>   
## <a name="storyboard-animations"></a><span data-ttu-id="2f1cb-130">Раскадровка</span><span class="sxs-lookup"><span data-stu-id="2f1cb-130">Storyboard Animations</span></span>  
 <span data-ttu-id="2f1cb-131">Используйте <xref:System.Windows.Media.Animation.Storyboard> Если вы хотите определить и применить анимацию в [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], интерактивно управлять анимациями после запуска, создать сложные деревья анимаций или анимации в <xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate> или <xref:System.Windows.DataTemplate>.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-131">Use a <xref:System.Windows.Media.Animation.Storyboard> when you want to define and apply your animations in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)], interactively control your animations after they start, create a complex tree of animations, or animate in a <xref:System.Windows.Style>, <xref:System.Windows.Controls.ControlTemplate> or <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="2f1cb-132">Для объекта для анимации <xref:System.Windows.Media.Animation.Storyboard>, он должен быть <xref:System.Windows.FrameworkElement> или <xref:System.Windows.FrameworkContentElement>, или он должен использоваться для задания <xref:System.Windows.FrameworkElement> или <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-132">For an object to be animated by a <xref:System.Windows.Media.Animation.Storyboard>, it must be a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>, or it must be used to set a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="2f1cb-133">Дополнительные сведения см. в разделе [Общие сведения о раскадровке](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2f1cb-133">For more details, see the [Storyboards Overview](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>  
  
 <span data-ttu-id="2f1cb-134">Объект <xref:System.Windows.Media.Animation.Storyboard> — это специальный тип контейнера <xref:System.Windows.Media.Animation.Timeline> , предоставляющий сведения о содержащихся в нем анимациях.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-134">A <xref:System.Windows.Media.Animation.Storyboard> is a special type of container <xref:System.Windows.Media.Animation.Timeline> that provides targeting information for the animations it contains.</span></span> <span data-ttu-id="2f1cb-135">Для анимации с <xref:System.Windows.Media.Animation.Storyboard>, выполните следующие три действия.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-135">To animate with a <xref:System.Windows.Media.Animation.Storyboard>, you complete the following three steps.</span></span>  
  
1.  <span data-ttu-id="2f1cb-136">Объявите <xref:System.Windows.Media.Animation.Storyboard> и один или несколько анимации.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-136">Declare a <xref:System.Windows.Media.Animation.Storyboard> and one or more animations.</span></span>  
  
2.  <span data-ttu-id="2f1cb-137">Используйте <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> и <xref:System.Windows.Media.Animation.Storyboard.TargetProperty%2A> присоединенного свойства для указания целевого объекта и свойства каждой анимации.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-137">Use the <xref:System.Windows.Media.Animation.Storyboard.TargetName%2A> and <xref:System.Windows.Media.Animation.Storyboard.TargetProperty%2A> attached properties to specify the target object and property of each animation.</span></span>  
  
3.  <span data-ttu-id="2f1cb-138">(Код) Определение <xref:System.Windows.NameScope> для <xref:System.Windows.FrameworkElement> или <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-138">(Code only) Define a <xref:System.Windows.NameScope> for a <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="2f1cb-139">Зарегистрируйте имена объектов анимации с помощью <xref:System.Windows.FrameworkElement> или <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-139">Register the names of the objects to animate with that <xref:System.Windows.FrameworkElement> or <xref:System.Windows.FrameworkContentElement>.</span></span>  
  
4.  <span data-ttu-id="2f1cb-140">Начать <xref:System.Windows.Media.Animation.Storyboard>.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-140">Begin the <xref:System.Windows.Media.Animation.Storyboard>.</span></span>  
  
 <span data-ttu-id="2f1cb-141">Начиная <xref:System.Windows.Media.Animation.Storyboard> применяет анимации в свойствах анимируемый и запускает их.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-141">Beginning a <xref:System.Windows.Media.Animation.Storyboard> applies animations to the properties they animate and starts them.</span></span> <span data-ttu-id="2f1cb-142">Существует два способа запуска <xref:System.Windows.Media.Animation.Storyboard>: можно использовать <xref:System.Windows.Media.Animation.Storyboard.Begin%2A> метод <xref:System.Windows.Media.Animation.Storyboard> класс, или же можно использовать <xref:System.Windows.Media.Animation.BeginStoryboard> действие.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-142">There are two ways to begin a <xref:System.Windows.Media.Animation.Storyboard>: you can use the <xref:System.Windows.Media.Animation.Storyboard.Begin%2A> method provided by the <xref:System.Windows.Media.Animation.Storyboard> class, or you can use a <xref:System.Windows.Media.Animation.BeginStoryboard> action.</span></span> <span data-ttu-id="2f1cb-143">Единственным способом анимации в [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] заключается в использовании <xref:System.Windows.Media.Animation.BeginStoryboard> действие.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-143">The only way to animate in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] is to use a <xref:System.Windows.Media.Animation.BeginStoryboard> action.</span></span> <span data-ttu-id="2f1cb-144">Объект <xref:System.Windows.Media.Animation.BeginStoryboard> действие может использоваться в <xref:System.Windows.EventTrigger>, свойство <xref:System.Windows.Trigger>, или <xref:System.Windows.DataTrigger>.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-144">A <xref:System.Windows.Media.Animation.BeginStoryboard> action can be used in an <xref:System.Windows.EventTrigger>, property <xref:System.Windows.Trigger>, or a <xref:System.Windows.DataTrigger>.</span></span>  
  
 <span data-ttu-id="2f1cb-145">В следующей таблице показаны в разных местах где каждого <xref:System.Windows.Media.Animation.Storyboard> начать прием поддерживается: каждого экземпляра, стиль, шаблон элемента управления и шаблон данных.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-145">The following table shows the different places where each <xref:System.Windows.Media.Animation.Storyboard> begin technique is supported: per-instance, style, control template, and data template.</span></span>  
  
|<span data-ttu-id="2f1cb-146">Раскадровка запускается с помощью метода...</span><span class="sxs-lookup"><span data-stu-id="2f1cb-146">Storyboard is begun using…</span></span>|<span data-ttu-id="2f1cb-147">Применение к конкретным экземплярам</span><span class="sxs-lookup"><span data-stu-id="2f1cb-147">Per-instance</span></span>|<span data-ttu-id="2f1cb-148">Стиль</span><span class="sxs-lookup"><span data-stu-id="2f1cb-148">Style</span></span>|<span data-ttu-id="2f1cb-149">Шаблон элемента управления</span><span class="sxs-lookup"><span data-stu-id="2f1cb-149">Control template</span></span>|<span data-ttu-id="2f1cb-150">Шаблон данных</span><span class="sxs-lookup"><span data-stu-id="2f1cb-150">Data template</span></span>|<span data-ttu-id="2f1cb-151">Пример</span><span class="sxs-lookup"><span data-stu-id="2f1cb-151">Example</span></span>|  
|--------------------------------|-------------------|-----------|----------------------|-------------------|-------------|  
|<span data-ttu-id="2f1cb-152"><xref:System.Windows.Media.Animation.BeginStoryboard> и <xref:System.Windows.EventTrigger></span><span class="sxs-lookup"><span data-stu-id="2f1cb-152"><xref:System.Windows.Media.Animation.BeginStoryboard> and an <xref:System.Windows.EventTrigger></span></span>|<span data-ttu-id="2f1cb-153">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-153">Yes</span></span>|<span data-ttu-id="2f1cb-154">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-154">Yes</span></span>|<span data-ttu-id="2f1cb-155">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-155">Yes</span></span>|<span data-ttu-id="2f1cb-156">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-156">Yes</span></span>|[<span data-ttu-id="2f1cb-157">Анимация свойства с помощью раскадровки</span><span class="sxs-lookup"><span data-stu-id="2f1cb-157">Animate a Property by Using a Storyboard</span></span>](../../../../docs/framework/wpf/graphics-multimedia/how-to-animate-a-property-by-using-a-storyboard.md)|  
|<span data-ttu-id="2f1cb-158"><xref:System.Windows.Media.Animation.BeginStoryboard> и свойство <xref:System.Windows.Trigger></span><span class="sxs-lookup"><span data-stu-id="2f1cb-158"><xref:System.Windows.Media.Animation.BeginStoryboard> and a property <xref:System.Windows.Trigger></span></span>|<span data-ttu-id="2f1cb-159">Нет</span><span class="sxs-lookup"><span data-stu-id="2f1cb-159">No</span></span>|<span data-ttu-id="2f1cb-160">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-160">Yes</span></span>|<span data-ttu-id="2f1cb-161">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-161">Yes</span></span>|<span data-ttu-id="2f1cb-162">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-162">Yes</span></span>|[<span data-ttu-id="2f1cb-163">Запуск анимации при изменении значения свойства</span><span class="sxs-lookup"><span data-stu-id="2f1cb-163">Trigger an Animation When a Property Value Changes</span></span>](../../../../docs/framework/wpf/graphics-multimedia/how-to-trigger-an-animation-when-a-property-value-changes.md)|  
|<span data-ttu-id="2f1cb-164"><xref:System.Windows.Media.Animation.BeginStoryboard> и <xref:System.Windows.DataTrigger></span><span class="sxs-lookup"><span data-stu-id="2f1cb-164"><xref:System.Windows.Media.Animation.BeginStoryboard> and a <xref:System.Windows.DataTrigger></span></span>|<span data-ttu-id="2f1cb-165">Нет</span><span class="sxs-lookup"><span data-stu-id="2f1cb-165">No</span></span>|<span data-ttu-id="2f1cb-166">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-166">Yes</span></span>|<span data-ttu-id="2f1cb-167">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-167">Yes</span></span>|<span data-ttu-id="2f1cb-168">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-168">Yes</span></span>|[<span data-ttu-id="2f1cb-169">Практическое руководство. Запуск анимации при изменении данных</span><span class="sxs-lookup"><span data-stu-id="2f1cb-169">How to: Trigger an Animation When Data Changes</span></span>](http://msdn.microsoft.com/library/a736bb3a-2ae5-479a-a33a-75a27055d863)|  
|<span data-ttu-id="2f1cb-170">Метод <xref:System.Windows.Media.Animation.Storyboard.Begin%2A></span><span class="sxs-lookup"><span data-stu-id="2f1cb-170"><xref:System.Windows.Media.Animation.Storyboard.Begin%2A> method</span></span>|<span data-ttu-id="2f1cb-171">Да</span><span class="sxs-lookup"><span data-stu-id="2f1cb-171">Yes</span></span>|<span data-ttu-id="2f1cb-172">Нет</span><span class="sxs-lookup"><span data-stu-id="2f1cb-172">No</span></span>|<span data-ttu-id="2f1cb-173">Нет</span><span class="sxs-lookup"><span data-stu-id="2f1cb-173">No</span></span>|<span data-ttu-id="2f1cb-174">Нет</span><span class="sxs-lookup"><span data-stu-id="2f1cb-174">No</span></span>|[<span data-ttu-id="2f1cb-175">Анимация свойства с помощью раскадровки</span><span class="sxs-lookup"><span data-stu-id="2f1cb-175">Animate a Property by Using a Storyboard</span></span>](../../../../docs/framework/wpf/graphics-multimedia/how-to-animate-a-property-by-using-a-storyboard.md)|  
  
 <span data-ttu-id="2f1cb-176">Дополнительные сведения о <xref:System.Windows.Media.Animation.Storyboard> объектов, в разделе [Общие](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2f1cb-176">For more information about <xref:System.Windows.Media.Animation.Storyboard> objects, see the [Storyboards Overview](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md).</span></span>  
  
## <a name="local-animations"></a><span data-ttu-id="2f1cb-177">Локальная анимация</span><span class="sxs-lookup"><span data-stu-id="2f1cb-177">Local Animations</span></span>  
 <span data-ttu-id="2f1cb-178">Локальные анимации предоставляют удобный способ для анимации свойства зависимостей любого <xref:System.Windows.Media.Animation.Animatable> объекта.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-178">Local animations provide a convenient way to animate a dependency property of any <xref:System.Windows.Media.Animation.Animatable> object.</span></span> <span data-ttu-id="2f1cb-179">Используйте локальную анимацию, когда необходимо применить одну анимацию к свойству и не требуется интерактивно управлять анимацией после ее запуска.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-179">Use local animations when you want to apply a single animation to a property and you don't need to interactively control the animation after it starts.</span></span> <span data-ttu-id="2f1cb-180">В отличие от <xref:System.Windows.Media.Animation.Storyboard> анимации, локальная анимации может анимировать объект, не связанный с <xref:System.Windows.FrameworkElement> или <xref:System.Windows.FrameworkContentElement>.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-180">Unlike a <xref:System.Windows.Media.Animation.Storyboard> animation, a local animation can animate an object that isn't associated with a <xref:System.Windows.FrameworkElement> or a <xref:System.Windows.FrameworkContentElement>.</span></span> <span data-ttu-id="2f1cb-181">Также не нужно определять <xref:System.Windows.NameScope> для этого типа анимации.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-181">You also don't have to define a <xref:System.Windows.NameScope> for this type of animation.</span></span>  
  
 <span data-ttu-id="2f1cb-182">Локальные анимации могут использоваться только в коде. Их нельзя определить в стилях, шаблонах элементов управления и шаблонах данных.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-182">Local animations may only be used in code, and cannot be defined in styles, control templates, or data templates.</span></span> <span data-ttu-id="2f1cb-183">После запуска локальной анимации управлять ей в интерактивном режиме нельзя.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-183">A local animation cannot be interactively controlled after it is started.</span></span>  
  
 <span data-ttu-id="2f1cb-184">Для анимации с помощью локальной анимации выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-184">To animate using a local animation, complete the following steps.</span></span>  
  
1.  <span data-ttu-id="2f1cb-185">Создание <xref:System.Windows.Media.Animation.AnimationTimeline> объекта.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-185">Create an <xref:System.Windows.Media.Animation.AnimationTimeline> object.</span></span>  
  
2.  <span data-ttu-id="2f1cb-186">Используйте <xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A> метод объекта, который нужно анимировать, чтобы применить <xref:System.Windows.Media.Animation.AnimationTimeline> свойству, которое можно указать.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-186">Use the <xref:System.Windows.Media.Animation.Animatable.BeginAnimation%2A> method of the object that you want to animate to apply the <xref:System.Windows.Media.Animation.AnimationTimeline> to the property that you specify.</span></span>  
  
 <span data-ttu-id="2f1cb-187">В следующем примере показано, как анимация ширины и цвета фона <xref:System.Windows.Controls.Button>.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-187">The following example shows how to animate the width and background color of a <xref:System.Windows.Controls.Button>.</span></span>  
  
 [!code-cpp[animateproperty#11](../../../../samples/snippets/cpp/VS_Snippets_Wpf/animateproperty/CPP/LocalAnimationExample.cpp#11)]
 [!code-csharp[animateproperty#11](../../../../samples/snippets/csharp/VS_Snippets_Wpf/animateproperty/CSharp/LocalAnimationExample.cs#11)]
 [!code-vb[animateproperty#11](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/animateproperty/VisualBasic/LocalAnimationExample.vb#11)]  
  
## <a name="clock-animations"></a><span data-ttu-id="2f1cb-188">Часы</span><span class="sxs-lookup"><span data-stu-id="2f1cb-188">Clock Animations</span></span>  
 <span data-ttu-id="2f1cb-189">Используйте <xref:System.Windows.Media.MediaPlayer.Clock%2A> объектов, для которого должна начаться анимация без использования <xref:System.Windows.Media.Animation.Storyboard> и вы хотите создавать сложные временные деревья или управлять анимации в интерактивном режиме после их запуска.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-189">Use <xref:System.Windows.Media.MediaPlayer.Clock%2A> objects when you want to animate without using a <xref:System.Windows.Media.Animation.Storyboard> and you want to create complex timing trees or interactively control animations after they start.</span></span> <span data-ttu-id="2f1cb-190">Можно использовать объекты Clock анимируемое свойство зависимостей любого <xref:System.Windows.Media.Animation.Animatable> объекта.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-190">You can use Clock objects to animate a dependency property of any <xref:System.Windows.Media.Animation.Animatable> object.</span></span>  
  
 <span data-ttu-id="2f1cb-191">Нельзя использовать <xref:System.Windows.Media.Animation.Clock> объекты непосредственно для анимации в стилях, управляющие шаблоны и шаблоны данных.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-191">You cannot use <xref:System.Windows.Media.Animation.Clock> objects directly to animate in styles, control templates, or data templates.</span></span> <span data-ttu-id="2f1cb-192">(Фактически используют анимации и системы времени <xref:System.Windows.Media.Animation.Clock> объектов анимации в стили, шаблоны элементов управления и шаблонах данных, но необходимо создать эти <xref:System.Windows.Media.Animation.Clock> объекты из <xref:System.Windows.Media.Animation.Storyboard>.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-192">(The animation and timing system actually does use <xref:System.Windows.Media.Animation.Clock> objects to animate in styles, control templates, and data templates, but it must create those <xref:System.Windows.Media.Animation.Clock> objects for you from a <xref:System.Windows.Media.Animation.Storyboard>.</span></span> <span data-ttu-id="2f1cb-193">Дополнительные сведения об отношениях между <xref:System.Windows.Media.Animation.Storyboard> объектов и <xref:System.Windows.Media.Animation.Clock> объектов, в разделе [анимации и общие сведения о синхронизации системы](../../../../docs/framework/wpf/graphics-multimedia/animation-and-timing-system-overview.md).)</span><span class="sxs-lookup"><span data-stu-id="2f1cb-193">For more information about the relationship between <xref:System.Windows.Media.Animation.Storyboard> objects and <xref:System.Windows.Media.Animation.Clock> objects, see the [Animation and Timing System Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-and-timing-system-overview.md).)</span></span>  
  
 <span data-ttu-id="2f1cb-194">Чтобы применить один <xref:System.Windows.Media.Animation.Clock> к свойству, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-194">To apply a single <xref:System.Windows.Media.Animation.Clock> to a property, you complete the following steps.</span></span>  
  
1.  <span data-ttu-id="2f1cb-195">Создание <xref:System.Windows.Media.Animation.AnimationTimeline> объекта.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-195">Create an <xref:System.Windows.Media.Animation.AnimationTimeline> object.</span></span>  
  
2.  <span data-ttu-id="2f1cb-196">Используйте <xref:System.Windows.Media.Animation.AnimationTimeline.CreateClock%2A> метод <xref:System.Windows.Media.Animation.AnimationTimeline> для создания <xref:System.Windows.Media.Animation.AnimationClock>.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-196">Use the <xref:System.Windows.Media.Animation.AnimationTimeline.CreateClock%2A> method of the <xref:System.Windows.Media.Animation.AnimationTimeline> to create an <xref:System.Windows.Media.Animation.AnimationClock>.</span></span>  
  
3.  <span data-ttu-id="2f1cb-197">Используйте <xref:System.Windows.Media.Animation.Animatable.ApplyAnimationClock%2A> метод объекта, который нужно анимировать, чтобы применить <xref:System.Windows.Media.Animation.AnimationClock> к указанному свойству.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-197">Use the <xref:System.Windows.Media.Animation.Animatable.ApplyAnimationClock%2A> method of the object that you want to animate to apply the <xref:System.Windows.Media.Animation.AnimationClock> to the property you specify.</span></span>  
  
 <span data-ttu-id="2f1cb-198">В следующем примере показано, как создать <xref:System.Windows.Media.Animation.AnimationClock> и применить его к двум аналогичным свойствам.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-198">The following example shows how to create an <xref:System.Windows.Media.Animation.AnimationClock> and apply it to two similar properties.</span></span>  
  
 [!code-csharp[timingbehaviors_procedural_snip#GraphicsMMCreateAnimationClockWholeClass](../../../../samples/snippets/csharp/VS_Snippets_Wpf/timingbehaviors_procedural_snip/CSharp/AnimationClockExample.cs#graphicsmmcreateanimationclockwholeclass)]
 [!code-vb[timingbehaviors_procedural_snip#GraphicsMMCreateAnimationClockWholeClass](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/timingbehaviors_procedural_snip/visualbasic/animationclockexample.vb#graphicsmmcreateanimationclockwholeclass)]  
  
 <span data-ttu-id="2f1cb-199">Чтобы создать дерево временной шкалы и использовать его анимации свойств, выполните следующие действия.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-199">To create a timing tree and use it animate properties, you complete the following steps.</span></span>  
  
1.  <span data-ttu-id="2f1cb-200">Используйте <xref:System.Windows.Media.Animation.ParallelTimeline> и <xref:System.Windows.Media.Animation.AnimationTimeline> объекты для создания дерева времени.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-200">Use <xref:System.Windows.Media.Animation.ParallelTimeline> and <xref:System.Windows.Media.Animation.AnimationTimeline> objects to create the timing tree.</span></span>  
  
2.  <span data-ttu-id="2f1cb-201">Используйте <xref:System.Windows.Media.Animation.TimelineGroup.CreateClock%2A> корневого <xref:System.Windows.Media.Animation.ParallelTimeline> для создания <xref:System.Windows.Media.Animation.ClockGroup>.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-201">Use the <xref:System.Windows.Media.Animation.TimelineGroup.CreateClock%2A> of the root <xref:System.Windows.Media.Animation.ParallelTimeline> to create a <xref:System.Windows.Media.Animation.ClockGroup>.</span></span>  
  
3.  <span data-ttu-id="2f1cb-202">Итерации <xref:System.Windows.Media.Animation.ClockGroup.Children%2A> из <xref:System.Windows.Media.Animation.ClockGroup> и примените его дочерние <xref:System.Windows.Media.Animation.Clock> объектов.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-202">Iterate through the <xref:System.Windows.Media.Animation.ClockGroup.Children%2A> of the <xref:System.Windows.Media.Animation.ClockGroup> and apply its child <xref:System.Windows.Media.Animation.Clock> objects.</span></span> <span data-ttu-id="2f1cb-203">Для каждого <xref:System.Windows.Media.Animation.AnimationClock> дочернего объекта, используйте <xref:System.Windows.Media.Animation.Animatable.ApplyAnimationClock%2A> метод объекта, который нужно анимировать, чтобы применить <xref:System.Windows.Media.Animation.AnimationClock> к указанному свойству</span><span class="sxs-lookup"><span data-stu-id="2f1cb-203">For each <xref:System.Windows.Media.Animation.AnimationClock> child, use the <xref:System.Windows.Media.Animation.Animatable.ApplyAnimationClock%2A> method of the object that you want to animate to apply the <xref:System.Windows.Media.Animation.AnimationClock> to the property you specify</span></span>  
  
 <span data-ttu-id="2f1cb-204">Дополнительные сведения об объектах часов см. в разделе [Общие сведения об анимации и системе управления временем](../../../../docs/framework/wpf/graphics-multimedia/animation-and-timing-system-overview.md).</span><span class="sxs-lookup"><span data-stu-id="2f1cb-204">For more information about Clock objects, see the [Animation and Timing System Overview](../../../../docs/framework/wpf/graphics-multimedia/animation-and-timing-system-overview.md).</span></span>  
  
## <a name="per-frame-animation-bypass-the-animation-and-timing-system"></a><span data-ttu-id="2f1cb-205">Покадровая анимация: обход анимации и системы управления временем</span><span class="sxs-lookup"><span data-stu-id="2f1cb-205">Per-Frame Animation: Bypass the Animation and Timing System</span></span>  
 <span data-ttu-id="2f1cb-206">Этот подход следует использовать, если требуется полностью обойти систему анимации WPF [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="2f1cb-206">Use this approach when you need to completely bypass the [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] animation system.</span></span> <span data-ttu-id="2f1cb-207">Один из сценариев для такого подхода — анимация физики, при которой на каждом шаге анимации требуется пересчитывать объекты на основе последнего набора итераций объектов.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-207">One scenario for this approach is physics animations, where each step in the animation requires objects to be recomputed based on the last set of object interactions.</span></span>  
  
 <span data-ttu-id="2f1cb-208">Покадровую анимацию нельзя определить в стилях, шаблонах элементов управления или шаблонах данных.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-208">Per-frame animations cannot be defined inside styles, control templates, or data templates.</span></span>  
  
 <span data-ttu-id="2f1cb-209">Чтобы анимировать фрейм за фреймом, регистрация для <xref:System.Windows.Media.CompositionTarget.Rendering> события объекта, который содержит объекты, для которого должна начаться анимация.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-209">To animate frame-by-frame, you register for the <xref:System.Windows.Media.CompositionTarget.Rendering> event of the object that contains the objects you want to animate.</span></span> <span data-ttu-id="2f1cb-210">Метод обработчика событий вызывается один раз для каждого кадра.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-210">This event handler method gets called once per frame.</span></span> <span data-ttu-id="2f1cb-211">Каждый раз, когда [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] выполняет маршалинг сохраненных данных отрисовки в визуальном дереве через дерево композиции, вызывается метод обработчика событий.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-211">Each time that [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] marshals the persisted rendering data in the visual tree across to the composition tree, your event handler method is called.</span></span>  
  
 <span data-ttu-id="2f1cb-212">В обработчике событий выполняются все вычисления, необходимые для эффекта анимации, и задаются свойства объектов, которые требуется анимировать с этими значениями.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-212">In your event handler, perform whatever calculations are necessary for your animation effect and set the properties of the objects you want to animate with these values.</span></span>  
  
 <span data-ttu-id="2f1cb-213">Для получения представления времени для текущего кадра, <xref:System.EventArgs> связанный с этим событий может быть приведен как <xref:System.Windows.Media.RenderingEventArgs>, которые предоставляют <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> времени отрисовки свойство, которое можно использовать для получения текущего кадра.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-213">To obtain the presentation time for the current frame, the <xref:System.EventArgs> associated with this event can be cast as <xref:System.Windows.Media.RenderingEventArgs>, which provide a <xref:System.Windows.Media.RenderingEventArgs.RenderingTime%2A> property that you can use to obtain the current frame's rendering time.</span></span>  
  
 <span data-ttu-id="2f1cb-214">Дополнительные сведения см. в разделе <xref:System.Windows.Media.CompositionTarget.Rendering> страницы.</span><span class="sxs-lookup"><span data-stu-id="2f1cb-214">For more information, see the <xref:System.Windows.Media.CompositionTarget.Rendering> page.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="2f1cb-215">См. также</span><span class="sxs-lookup"><span data-stu-id="2f1cb-215">See Also</span></span>  
 [<span data-ttu-id="2f1cb-216">Общие сведения об эффектах анимации</span><span class="sxs-lookup"><span data-stu-id="2f1cb-216">Animation Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/animation-overview.md)  
 [<span data-ttu-id="2f1cb-217">Общие сведения о раскадровке</span><span class="sxs-lookup"><span data-stu-id="2f1cb-217">Storyboards Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/storyboards-overview.md)  
 [<span data-ttu-id="2f1cb-218">Общие сведения об анимации и системе управления временем</span><span class="sxs-lookup"><span data-stu-id="2f1cb-218">Animation and Timing System Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/animation-and-timing-system-overview.md)  
 [<span data-ttu-id="2f1cb-219">Общие сведения о свойствах зависимости</span><span class="sxs-lookup"><span data-stu-id="2f1cb-219">Dependency Properties Overview</span></span>](../../../../docs/framework/wpf/advanced/dependency-properties-overview.md)
