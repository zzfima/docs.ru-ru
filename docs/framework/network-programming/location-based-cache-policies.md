---
title: политики кэша на основе расположения
ms.date: 03/30/2017
helpviewer_keywords:
- Cache If Available policy
- reload policy
- location-based cache policies
- Cache Only policy
- local cache
- intermediate cache
- No Cache No Store policy
- cache [.NET Framework], location-based policies
- Revalidate policy
- freshness of cached resources
- Cache Or Next Cache Only policy
- Refresh policy
ms.assetid: e41d7f1a-0a6a-4dee-97d1-c6a8b6a07fc2
ms.openlocfilehash: e6896452fce89f69b40f1d03332355df72d93211
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2020
ms.locfileid: "71047669"
---
# <a name="location-based-cache-policies"></a>политики кэша на основе расположения
Политики кэша на основе расположения определяют актуальность действительных записей в кэше на основе расположения, в котором может быть получен запрашиваемый ресурс. Кэшируемый ресурс является действительным, если он не нарушает требований сервера по повторной проверке. Политика кэша на основе расположения создается программным способом с помощью конструктора класса <xref:System.Net.Cache.RequestCachePolicy> или <xref:System.Net.Cache.HttpRequestCachePolicy>. Тип политики на основе расположения передается в конструктор с помощью значения перечисления <xref:System.Net.Cache.RequestCacheLevel> или <xref:System.Net.Cache.HttpRequestCacheLevel>. Примеры кода с созданием политик на основе расположения см. в разделе [Практическое руководство. Установка политики кэша на основе расположения для приложения](how-to-set-a-location-based-cache-policy-for-an-application.md). В следующих разделах приводится описание каждого типа политики кэша на основе расположения для ресурсов HTTP и HTTPS.  
  
## <a name="cache-if-available-policy"></a>Политика "Из кэша при наличии"  
 Если действительный запрошенный ресурс есть в локальном кэше, используется кэшированный ресурс; в противном случае запрос к ресурсу отправляется на сервер. Если запрошенный ресурс доступен в любом кэше между клиентом и сервером, запрос будет выполнен промежуточным кэшем.  
  
## <a name="cache-only-policy"></a>Политика "Только из кэша"  
 Если действительный запрошенный ресурс есть в локальном кэше, используется кэшированный ресурс. При указании этого уровня политики кэша исключение <xref:System.Net.WebException> выдается, если элемент не существует в локальном кэше.  
  
## <a name="cache-or-next-cache-only-policy"></a>Политика "Только из локального кэша"  
 Если действительный запрошенный ресурс есть в локальном кэше или в промежуточном кэше в локальной сети, используется кэшированный ресурс. В противном случае возникнет исключение <xref:System.Net.WebException>. В протоколе кэширования HTTP для этого используется директива управления кэшем "Только если содержится в кэше" (only-if-cached).  
  
## <a name="no-cache-no-store-policy"></a>Политика "Не использовать кэш"  
 В этой политике запрошенные ресурсы из кэша никогда не используются, а ресурсы никогда не помещаются в кэш. Если запрошенный ресурс присутствует в локальном кэше, он удаляется. При использовании этого уровня политики также удаляется ресурс в промежуточном кэше. В протоколе кэширования HTTP для этого используется директива управления кэшем "Не сохранять в кэше" (no-store).  
  
## <a name="refresh-policy"></a>Политика "Обновление"  
 Запрошенный ресурс может использоваться, если он получен с сервера или найден в кэше (за исключением локального кэша). Перед использованием результата из промежуточного кэша в качестве ответа на запрос кэш должен повторно проверить кэшированную запись для этого результата, обратившись к серверу. В протоколе кэширования HTTP для этого используются директива управления кэшем "Максимальный возраст — 0" (max-age = 0) и заголовок Pragma "Без кэширования" (no-cache).  
  
## <a name="reload-policy"></a>политика повторной загрузки  
 Запрошенные ресурсы необходимо получать от сервера. Ответ может быть сохранен в локальном кэше. В протоколе кэширования HTTP для этого используются директива управления кэшем "Не сохранять в кэше" (no-store) и заголовок Pragma "Без кэширования" (no-cache).  
  
## <a name="revalidate-policy"></a>Политика "Повторная проверка"  
 Сравнивает копию ресурса в кэше с копией на сервере. Если копия на сервере более свежая, эта копия возвращается в ответ на запрос и записывается в кэш. Если копия в кэше аналогична копии на сервере, возвращается копия из кэша. В протоколе кэширования HTTP для этого используется условный запрос.  
  
## <a name="see-also"></a>См. также раздел

- [Управление кэшем для сетевых приложений](cache-management-for-network-applications.md)
- [Политика кэша](cache-policy.md)
- [Политики кэша на основе времени](time-based-cache-policies.md)
- [Настройка кэширования в сетевых приложениях](configuring-caching-in-network-applications.md)
- [Элемент \<requestCaching> (параметры сети)](../configure-apps/file-schema/network/requestcaching-element-network-settings.md)
