---
title: Настройка прокси-сервера
ms.date: 06/18/2018
helpviewer_keywords:
- Networking
- adaptive proxies
- static proxies
- Network Resources
- Internet, proxy configuration
- proxies
- network, proxy configuration
- proxies, configuring
ms.assetid: 353c0a8b-4cee-44f6-8e65-60e286743df9
ms.openlocfilehash: 1fbfe25b90e810ff96924a2341582ff3f5ee5e5d
ms.sourcegitcommit: 7588136e355e10cbc2582f389c90c127363c02a5
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/15/2020
ms.locfileid: "71047355"
---
# <a name="proxy-configuration"></a>Настройка прокси-сервера
Прокси-сервер обрабатывает клиентские запросы на ресурсы. Прокси-сервер может возвращать запрошенный ресурс из своего кэша или пересылать запрос на сервер, на котором находится данный ресурс. Прокси-серверы могут повышать производительность сети, благодаря уменьшению числа запросов, отправляемых на удаленные серверы. Прокси-серверы также можно использовать для ограничения доступа к ресурсам.  
  
## <a name="adaptive-proxies"></a>Адаптивные прокси-серверы  
 На платформе .NET Framework могут иметься прокси-серверы двух видов: адаптивные и статические. Адаптивный прокси-серверы настраивают свои параметры при изменении конфигурации сети. Например, если пользователь ноутбука запускает коммутируемое сетевое соединение, то адаптивный прокси-сервер определит это изменение, обнаружит и выполнит свой новый скрипт конфигурации, а также настроит свои параметры соответствующим образом.  
  
 Адаптивные прокси-серверы настраиваются с помощью скрипта конфигурации (см. раздел [Автоматическое обнаружение прокси-сервера](automatic-proxy-detection.md)). Скрипт создает набор протоколов приложений и прокси-сервер для каждого протокола.  
  
 В сетевой среде может потребоваться внесение изменений, если система использует новый набор прокси-серверов. Если сетевое соединение пропадает, или выполняется инициализация нового сетевого соединения, то система должна обнаружить соответствующий источник скрипта конфигурации в новой среде и запустить новый скрипт.  
  
 Можно использовать атрибут `usesystemdefault` элемента [`<proxy>`](../configure-apps/file-schema/network/proxy-element-network-settings.md) в файле конфигурации. Атрибут `usesystemdefault` определяет, должны ли параметры статического прокси-сервера (адрес прокси-сервера, список обхода и локальный обход) считываться из параметров прокси Internet Explorer для пользователя. Если установлено значение `true`, будут использоваться параметры статического прокси-сервера из Internet Explorer. Если установлено значение `false` (или значение вообще не задано), то параметры статического прокси-сервера можно указать в конфигурации, и они будут переопределять параметры прокси-сервера в Internet Explorer. Для включения адаптивного прокси-сервера необходимо установить значение `false` (либо вообще не задавать).  
  
 В следующем примере показана конфигурация обычного адаптивного прокси-сервера.  
  
```xml  
<system.net>  
    <defaultProxy>  
      <proxy usesystemdefault="false" />
    </defaultProxy>  
</system.net>  
```  
  
## <a name="static-proxies"></a>Статические прокси-серверы  
 Статические прокси-серверы обычно настраиваются явным образом приложением, или когда файл конфигурации вызывается приложением или системой. Статические прокси-серверы применяются в сетях, топология которых изменяется редко, например, когда настольный компьютер подключен к корпоративной сети.  
  
 Работой статического прокси-сервера управляют несколько параметров. Можно задать следующие параметры:  
  
- Адрес прокси-сервера.  
  
- Определяет, нужно ли обходить прокси-сервер для локальных адресов.  
  
- Определяет, нужно ли обходить прокси-сервер для набора адресов.  
  
 Ниже указаны параметры конфигурации для статического прокси-сервера.  
  
|Параметр атрибута, свойства или файла конфигурации|Описание:|  
|--------------------------------------------------------|-----------------|  
|`proxyaddress` или <xref:System.Net.WebProxy.Address>|Адрес используемого прокси-сервера.|  
|`bypassonlocal` или <xref:System.Net.WebProxy.BypassProxyOnLocal>|Определяет, выполняется ли обход прокси-сервера для локальных адресов.|  
|`bypasslist` или <xref:System.Net.WebProxy.BypassArrayList>|Описывает (с помощью регулярных выражений) набор адресов, которые обходят прокси-сервер.|  
|`usesystemdefault`|Определяет, должны ли параметры статического прокси-сервера (адрес прокси-сервера, список обхода и локальный обход) считываться из параметров прокси-сервера Internet Explorer для пользователя. Если установлено значение `true`, будут использоваться параметры статического прокси-сервера из Internet Explorer. На платформе .NET Framework 2.0 (если установлено значение `true`) параметры прокси-сервера обозревателя Internet Explorer не переопределяются другими параметрами прокси-сервера в файле конфигурации. На платформе .NET Framework 1.1 параметры прокси-сервера обозревателя Internet Explorer могут переопределяться другими параметрами прокси-сервера в файле конфигурации.<br /><br /> Если установлено значение `false` (или значение вообще не задано), то параметры статического прокси-сервера можно указать в конфигурации, и они будут переопределять параметры прокси-сервера в Internet Explorer. Для включения адаптивного прокси-сервера необходимо установить значение `false` (либо вообще не задавать).|  
  
 В следующем примере показана типовая конфигурация адаптивного прокси-сервера.  
  
```xml  
<system.net>  
    <defaultProxy>  
        <proxy  proxyaddress="http://proxy.contoso.com:3128"  
                bypassonlocal="true"  
        />  
        <bypasslist>  
            <add address="[a-z]+.blueyonderairlines.com$" />  
        </bypasslist>  
    </defaultProxy>  
</system.net>  
```  
  
## <a name="see-also"></a>См. также раздел

- <xref:System.Net.WebProxy>
- <xref:System.Net.GlobalProxySelection>
- [Автоматическое обнаружение прокси-сервера](automatic-proxy-detection.md)
