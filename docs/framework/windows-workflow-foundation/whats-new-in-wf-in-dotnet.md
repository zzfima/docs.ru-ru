---
title: Что&#39;возможности в Windows Workflow Foundation в .NET 4.5
ms.date: 03/30/2017
ms.assetid: 195c43a8-e0a8-43d9-aead-d65a9e6751ec
ms.openlocfilehash: cfc8be396e9327ee38ea20e8757993aafe7e2151
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2018
ms.locfileid: "43513580"
---
# <a name="what39s-new-in-windows-workflow-foundation-in-net-45"></a>Что&#39;возможности в Windows Workflow Foundation в .NET 4.5
Windows Workflow Foundation (WF) в [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] содержит множество новых функций, таких как новые действия, возможности конструктора и модели разработки рабочего процесса. Многие, хотя и не все, новые функции рабочего процесса, представленные в [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], поддерживаются в повторно размещенном конструкторе рабочих процессов. Дополнительные сведения о новых возможностях, которые поддерживаются, см. в разделе [Поддержка новых функций Workflow Foundation 4.5 в конструкторе рабочих процессов, повторно размещенными](../../../docs/framework/windows-workflow-foundation/wf-features-in-the-rehosted-workflow-designer.md). Дополнительные сведения о миграции .NET 3.0 и .NET 3.5 приложений рабочих процессов для использования последней версии, см. в разделе [руководство по миграции](../../../docs/framework/windows-workflow-foundation/migration-guidance.md). В этом разделе содержится общее описание новых возможностей рабочего процесса, представленных в [!INCLUDE[net_v45](../../../includes/net-v45-md.md)].  
  
> [!WARNING]
>  Новые функции Windows Workflow Foundation, представленные в [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] не доступны для проектов, предназначенных для предыдущих версий платформы. Если проект, ориентированный на [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], переориентируется на предыдущую версию платформы .NET Framework, может возникнуть несколько проблем.  
>   
>  -   Выражения C# заменяются в конструкторе сообщение **значение было задано в XAML**.  
> -   Возникнут многие ошибки сборки, включая следующую.  
>   
>  **Формат файла несовместим с текущей целевой платформой. Для преобразования формата файла сохраните файл явным образом. Это сообщение об ошибке исчезнет после сохранения файла и снова откройте конструктор.**  
  
##  <a name="BKMK_Versioning"></a> Управление версиями рабочих процессов  
 В [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] предоставлено несколько новых функций управления версиями с помощью нового класса <xref:System.Activities.WorkflowIdentity>. <xref:System.Activities.WorkflowIdentity> позволяет авторам приложений рабочего процесса сопоставить сохраненный экземпляр рабочего процесса с его определением.  
  
-   Разработчики, использующие среду размещения <xref:System.Activities.WorkflowApplication>, могут использовать <xref:System.Activities.WorkflowIdentity> для параллельного размещения нескольких версий рабочего процесса. Сохраненные экземпляры рабочего процесса можно загрузить с помощью нового класса <xref:System.Activities.WorkflowApplicationInstance>, а затем узел может использовать <xref:System.Activities.WorkflowApplicationInstance.DefinitionIdentity%2A> для предоставления правильной версии определения рабочего процесса при создании экземпляра <xref:System.Activities.WorkflowApplication>. Дополнительные сведения см. в разделе [с помощью WorkflowIdentity и управления версиями](../../../docs/framework/windows-workflow-foundation/using-workflowidentity-and-versioning.md) и [как: узел нескольких версий рабочего процесса Side-by-Side](../../../docs/framework/windows-workflow-foundation/how-to-host-multiple-versions-of-a-workflow-side-by-side.md).  
  
-   Узел <xref:System.ServiceModel.WorkflowServiceHost> может теперь содержать несколько версий. Когда развертывается новая версия службы рабочего процесса, новые экземпляры создаются с помощью новой службы, но существующие экземпляры завершают работу, используя предыдущую версию. Дополнительные сведения см. в разделе [параллельное управление версиями в WorkflowServiceHost](../../../docs/framework/wcf/feature-details/side-by-side-versioning-in-workflowservicehost.md).  
  
-   Введено динамическое обновление, которое позволяет обновить определение сохраненного экземпляра рабочего процесса. Дополнительные сведения см. в разделе [динамического обновления](../../../docs/framework/windows-workflow-foundation/dynamic-update.md) и [как: обновить определение запущенного экземпляра рабочего процесса](../../../docs/framework/windows-workflow-foundation/how-to-update-the-definition-of-a-running-workflow-instance.md).  
  
-   Предоставляется скрипт базы данных SqlWorkflowInstanceStoreSchemaUpgrade.sql для обновления баз данных сохраняемости, созданных с помощью скриптов базы данных [!INCLUDE[netfx40_short](../../../includes/netfx40-short-md.md)]. Этот скрипт обновляет базы данных сохраняемости [!INCLUDE[netfx40_short](../../../includes/netfx40-short-md.md)] для поддержки новых возможностей управления версиями, представленных в [!INCLUDE[net_v45](../../../includes/net-v45-md.md)]. Сохраняемые экземпляры рабочих процессов в базе данных получают значения управления версиями по умолчанию и могут участвовать в параллельном выполнении и динамическом обновлении. Дополнительные сведения см. в разделе [обновление .NET Framework 4 баз данных постоянного хранения для поддержки управления версиями рабочего процесса](../../../docs/framework/windows-workflow-foundation/using-workflowidentity-and-versioning.md#UpdatingWF4PersistenceDatabases).  
  
##  <a name="BKMK_NewActivities"></a> Действия  
 Встроенная библиотека действий содержит новые действия, а также новые возможности для существующих действий.  
  
###  <a name="BKMK_NoPersistScope"></a> Область NoPersist  
 <xref:System.Activities.Statements.NoPersistScope> - новое действие контейнера, которое предотвращает сохранение рабочего процесса, когда выполняются дочерние действия NoPersistScope. Это полезно в сценариях, где рабочие процессы не должны сохраняться, например если рабочий процесс использует ресурсы конкретной машины (дескрипторы файлов и т. п.), или во время транзакций базы данных. Раньше для предотвращения сохранения во время выполнения действия требовался пользовательский класс <xref:System.Activities.NativeActivity>, который использовал <xref:System.Activities.NoPersistHandle>.  
  
###  <a name="BKMK_NewFlowchartCapabilities"></a> Новые возможности блок-схема  
 Блок-схемы обновлены для [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] и включают следующие новые возможности.  
  
-   Свойство `DisplayName` действия <xref:System.Activities.Statements.FlowSwitch%601> или <xref:System.Activities.Statements.FlowDecision> теперь можно редактировать. Это позволит конструктору действий показать больше сведений о цели действия.  
  
-   Блок-схемы имеют новое свойство <xref:System.Activities.Statements.Flowchart.ValidateUnconnectedNodes%2A>. Значение этого свойства по умолчанию - `False`. Если назначить этому свойству значение `True`, несоединенные узлы блок-схемы вызовут ошибки проверки.  
  
## <a name="support-for-partial-trust"></a>Поддержка частичного уровня доверия  
 Раньше рабочим процессам в [!INCLUDE[netfx40_long](../../../includes/netfx40-long-md.md)] требовался домен приложения с полным доверием. В [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] рабочие процессы могут работать в среде с частичным уровнем доверия. В среде с частичным уровнем доверия можно использовать компоненты сторонних производителей, не предоставляя им полный доступ к ресурсам узла. Выполнение рабочих процессов в частичном уровне доверия может создать следующие проблемы.  
  
1.  В режиме частичного уровня доверия компоненты прежних версий (включая правила) не могут использоваться в действии <xref:System.Activities.Statements.Interop>.  
  
2.  Выполнение рабочих процессов в <xref:System.ServiceModel.WorkflowServiceHost> в режиме частичного уровня доверия не поддерживается.  
  
3.  Сохранение исключений в сценариях с частичным доверием создает потенциальную угрозу безопасности. Чтобы исключения не сохранялись, необходимо добавить в проект расширение типа <xref:System.Activities.ExceptionPersistenceExtension>, чтобы явно отказаться от сохранения исключений. В следующем примере кода показано, как реализовать этот тип.  
  
    ```  
    public class ExceptionPersistenceExtension   
    {  
        public ExceptionPersistenceExtension()   
        {   
            this.PersistExceptions = false;   
        }   
        public bool PersistExceptions { get; set; }   
    }  
    ```  
  
     Если исключения не должны сериализоваться, убедитесь в том, что они используются в <xref:System.Activities.Statements.NoPersistScope>.  
  
4.  Создатели действия должны переопределить метод <xref:System.Activities.Activity.CacheMetadata%2A>, чтобы в среде выполнения рабочего процесса отражение не использовалось автоматически для этого типа. Аргументы и дочерние действия не должны иметь значение NULL, а метод <xref:System.Activities.ActivityMetadata.Bind%2A> должен вызываться явным образом. Дополнительные сведения о переопределении <xref:System.Activities.Activity.CacheMetadata%2A>, см. в разделе [предоставление данных с помощью CacheMetadata](../../../docs/framework/windows-workflow-foundation/exposing-data-with-cachemetadata.md). Кроме того, экземпляры аргументов, которые относятся к типу, который является `internal` или **частного** должен быть явно создан в <xref:System.Activities.Activity.CacheMetadata%2A> во избежание создавались путем отражения.  
  
5.  Типы не будут использовать <xref:System.Runtime.Serialization.ISerializable> или <xref:System.SerializableAttribute> для сериализации. Типы, которые должны быть сериализованы, должны поддерживать <xref:System.Runtime.Serialization.DataContractSerializer>.  
  
6.  Выражениям, в которых используется <xref:System.Activities.Expressions.LambdaValue%601>, требуется <xref:System.Security.Permissions.ReflectionPermissionAttribute.RestrictedMemberAccess%2A>. Следовательно, они не будут работать в режиме частичного уровня доверия. Рабочие процессы, использующие <xref:System.Activities.Expressions.LambdaValue%601>, должны заменить эти выражения на действия, производные от <xref:System.Activities.CodeActivity%601>. .  
  
7.  В режиме частичного уровня доверия выражения не могут компилироваться с помощью <xref:System.Activities.XamlIntegration.TextExpressionCompiler> или размещенного компилятора Visual Basic, но ранее скомпилированные выражения будут работать.  
  
8.  Одну сборку, которая использует [прозрачность уровня 2](https://aka.ms/Level2Transparency) не может использоваться в [!INCLUDE[netfx40_short](../../../includes/netfx40-short-md.md)], [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] в режиме полного доверия и [!INCLUDE[netfx_current_short](../../../includes/netfx-current-short-md.md)] в режиме частичного доверия.  
  
##  <a name="BKMK_NewDesignerCapabilites"></a> Новые возможности конструктора  
  
###  <a name="BKMK_DesignerSearch"></a> Поиск конструктора  
 Чтобы лучше управлять крупными рабочими процессами, поиск в них теперь возможен по ключевому слову. Эта функция доступна только в Visual Studio. Эта функция не доступна в повторно размещенном конструкторе. Возможны два вида поиска.  
  
-   Быстрый поиск, запускаемый сочетанием **Ctrl + F** или **изменить**, **поиск и замена**, **быстрый поиск**.  
  
-   Поиск в файлах, запускаемый сочетанием **Ctrl + Shift + F** или **изменить**, **поиск и замена**, **поиск в файлах**.  
  
 Обратите внимание, что команда «Заменить» не поддерживается.  
  
####  <a name="BKMK_QuickFind"></a> Быстрый поиск  
 Ключевые слова, по которым выполняется поиск в рабочих процессах, будут соответствовать следующим элементам конструктора.  
  
-   Свойства объектов <xref:System.Activities.Activity>, объектов <xref:System.Activities.Statements.FlowNode>, объектов <xref:System.Activities.Statements.State>, объектов <xref:System.Activities.Statements.Transition> и других пользовательских элементов управления потоками.  
  
-   Переменные  
  
-   Аргументы  
  
-   Выражения  
  
 Быстрый поиск выполняется в дереве конструктора <xref:System.Activities.Presentation.Model.ModelItem>. Быстрый поиск не обнаружит пространства имен, импортированные в определение рабочего процесса.  
  
####  <a name="BKMK_FindInFiles"></a> Поиск в файлах  
 Ключевые слова, по которым выполняется поиск в рабочих процессах, будут соответствовать фактическому содержимому файлов рабочего процесса. Результаты поиска будут показаны на панели представления результатов поиска в Visual Studio. Если дважды щелкнуть элемент в результатах, произойдет переход к действию, содержащему искомый элемент в конструкторе рабочих процессов.  
  
###  <a name="BKMK_VariableDeleteContextMenu"></a> Удалить пункт контекстного меню в конструкторе переменных и аргументов  
 В [!INCLUDE[netfx40_short](../../../includes/netfx40-short-md.md)] переменные и аргументы могут быть удалены в конструкторе только с помощью клавиатуры. Начиная с [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], переменные и аргументы можно удалить с помощью контекстного меню.  
  
 На следующем снимке экрана показано контекстное меню конструктора переменных и аргументов.  
  
 ![Переменных и аргументов контекстное меню конструктора](../../../docs/framework/windows-workflow-foundation/media/designercontextmenu.png "DesignerContextMenu")  
  
###  <a name="BKMK_AutoSurround"></a> Автоматическое создание последовательностей  
 Поскольку рабочий процесс или некоторые действия с контейнерами (например, <xref:System.Activities.Statements.NoPersistScope>) могут содержать только одно действие с текстом, при добавлении второго действия разработчик должен удалить первое действие, добавить действие <xref:System.Activities.Statements.Sequence>, а затем добавить оба действия в действие последовательности. Начиная с [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], при добавлении второго действия в область конструктора автоматически создается действие `Sequence`, включающее оба действия.  
  
 На следующем снимке экрана показано действие `WriteLine` в `Body` для `NoPersistScope`.  
  
 ![Автоматическое&#45;заключить расположение сброса](../../../docs/framework/windows-workflow-foundation/media/autosurround1.png "AutoSurround1")  
  
 На следующем снимке экрана показано автоматически созданное действие `Sequence` в `Body`, когда второй объект `WriteLine` располагается ниже первого.  
  
 ![Автоматически созданное действие sequence](../../../docs/framework/windows-workflow-foundation/media/autosurround2.png "AutoSurround2")  
  
###  <a name="BKMK_PanMode"></a> Панорамный режим  
 Для упрощения навигации по большому рабочему процессу в конструкторе можно включить панорамный режим, позволяющий разработчику перетаскивать мышью видимую часть рабочего процесса и не использовать полосы прокрутки. Кнопка для активации панорамного режима находится в правом нижнем углу конструктора.  
  
 На следующем снимке экрана показана кнопка панорамирования, расположенная в правом нижнем углу конструктора рабочих процессов.  
  
 ![Кнопка панорамирования в конструкторе рабочих процессов](../../../docs/framework/windows-workflow-foundation/media/panbutton.png "PanButton")  
  
 Панорамирование в конструкторе рабочих процессов возможно также с помощью средней кнопки мыши или клавиши пробела.  
  
###  <a name="BKMK_MultiSelect"></a> Множественный выбор  
 Для одновременного выбора нескольких действий можно растянуть вокруг них прямоугольник (если не включен панорамный режим) или последовательно щелкнуть необходимые действия при нажатой клавише CTRL.  
  
 Несколько выделенных действий можно перетаскивать внутри конструктора, а также взаимодействовать с ними с помощью контекстного меню.  
  
###  <a name="BKMK_DocumentOutline"></a> Представление структуры элементов рабочего процесса  
 Для упрощения навигации по иерархическим рабочим процессам компоненты рабочего процесса отображаются в виде древовидной структуры. Структура отображается в **Структура документа** представления. Чтобы открыть это представление в верхней строке меню, выберите **представление**, **Other Windows**, **Структура документа**, или нажмите клавиши Ctrl W, U. Щелкнув узел в представлении структуры, можно перейти к соответствующему действию в конструкторе рабочих процессов. Представление структуры будет обновлено с отображением действий, выбранных в конструкторе.  
  
 На следующем снимке экрана завершенного рабочего процесса из [Приступая к работе](../../../docs/framework/windows-workflow-foundation/getting-started-tutorial.md) показано представление структуры с помощью последовательного рабочего процесса.  
  
 ![Режим в конструкторе рабочих процессов структуры](../../../docs/framework/windows-workflow-foundation/media/outlineviewinworkflowdesigner.jpg "OutlineViewinWorkflowDesigner")  
  
###  <a name="BKMK_CSharpExpressions"></a> Выражения C#  
 До [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] все выражения в рабочих процессах можно было создавать только на Visual Basic. В [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] выражения на языке Visual Basic используются только для проектов, созданных с помощью Visual Basic. Теперь в проектах Visual C# для выражений используется язык C#. Предоставлен полнофункциональный редактор выражений C# с такими возможностями, как выделение грамматики и технология Intellisense. Проекты рабочих процессов C#, созданные в предыдущих версиях с использованием выражений Visual Basic, будут по-прежнему работать.  
  
 Выражения на C# проверяются во время разработки. Ошибки в выражениях C# будут помечены подчеркиванием красной волнистой линией.  
  
 Дополнительные сведения о выражениях C# см. в разделе [выражения C#](../../../docs/framework/windows-workflow-foundation/csharp-expressions.md).  
  
###  <a name="BKMK_Visibility"></a> Дополнительные возможности управления видимостью панели оболочки и заголовка элементы  
 В повторно размещенном конструкторе некоторые из стандартных элементов управления пользовательского интерфейса могут не иметь значения для заданного рабочего процесса и могут быть отключены. В [!INCLUDE[netfx40_short](../../../includes/netfx40-short-md.md)] эта настройка поддерживается только панелью оболочки в нижней части конструктора. В [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] видимость элементов заголовка оболочки в верхней части конструктора можно настроить, задав для <xref:System.Activities.Presentation.View.DesignerView.WorkflowShellHeaderItemsVisibility%2A> соответствующее значение <xref:System.Activities.Presentation.View.ShellHeaderItemsVisibility>.  
  
###  <a name="BKMK_AutoConnect"></a> Автоматическое соединение и автоматическая вставка в рабочих процессах блок-схемы и конечного автомата  
 В [!INCLUDE[netfx40_short](../../../includes/netfx40-short-md.md)] связи между узлами в рабочем процессе блок-схемы необходимо добавлять вручную. В [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] узлы «Блок-схема» и «Конечный автомат» содержат точки автоматического соединения, которые становятся видимыми при перетаскивании действия из области элементов в область конструктора. При перетаскивании действия на одну из этих точек автоматически добавляется действие вместе с необходимым соединением.  
  
 На следующем снимке экрана показаны точки присоединения, которые появляются при перетаскивании действия из области элементов.  
  
 ![Начальный узел блок-схема, с точками автоматического соединения](../../../docs/framework/windows-workflow-foundation/media/autoconnect1.png "Autoconnect1")  
  
 Действия можно также перетаскивать на соединения между узлами блок-схемы и состояниями для автоматической вставки узла между двумя другими узлами. На следующем снимке экрана показана выделенная соединительная линия, на которую можно перетаскивать действия из области элементов.  
  
 ![Автоматическое&#45;дескриптор для действий сброса вставить](../../../docs/framework/windows-workflow-foundation/media/autoinsert.png "автоматически вставить")  
  
###  <a name="BKMK_Annotations"></a> Заметки конструктора  
 Для упрощения разработки крупных рабочих процессов конструктор теперь поддерживает добавление заметок, помогающих отслеживать процесс проектирования. Заметки можно добавлять к действиям, состояниям, узлам блок-схемы, переменным и аргументам. На следующем снимке экрана показано контекстное меню, которое используется для добавления заметок к конструктору.  
  
 ![Контекстное меню примечания](../../../docs/framework/windows-workflow-foundation/media/annotationdialog.png "annotationdialog")  
  
### <a name="debugging-states"></a>Состояния отладки  
 В [!INCLUDE[netfx40_short](../../../includes/netfx40-short-md.md)] элементы, не относящиеся к действиям, не могли отлаживать точки останова, поскольку не были блоками выполнения. Этот выпуск предоставляет механизм для добавления точек останова в объекты <xref:System.Activities.Statements.State>. Если задана точка останова на состоянии <xref:System.Activities.Statements.State>, выполнение прервется, когда произойдет переход в это состояние, прежде чем будут запланированы действия входа в состояние или триггеры.  
  
###  <a name="BKMK_ActivityDelegates"></a> Определение и использование объектов ActivityDelegate в конструкторе  
 Действия в [!INCLUDE[netfx40_short](../../../includes/netfx40-short-md.md)] использовали объекты <xref:System.Activities.ActivityDelegate> для представления точек выполнения, где другие части рабочего процесса могли взаимодействовать с выполнением рабочего процесса, но использование этих точек выполнения обычно требовало большого объема кода. В этом выпуске разработчики могут определять и использовать делегаты действий с помощью конструктора рабочих процессов. Дополнительные сведения см. в разделе [как: определение и использование делегатов действий в конструкторе рабочих процессов](/visualstudio/workflow-designer/how-to-define-and-consume-activity-delegates-in-the-workflow-designer).  
  
###  <a name="BKMK_BuildTimeValidation"></a> Проверка во время сборки  
 В [!INCLUDE[netfx40_short](../../../includes/netfx40-short-md.md)] ошибки проверки рабочего процесса не учитывались как ошибки сборки во время сборки проекта рабочего процесса. Это значило, что сборка проекта рабочего процесса могло завершиться успешно даже при наличии ошибок проверки рабочего процесса. В [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] ошибки проверки рабочего процесса приводят к неудачному завершению сборки.  
  
###  <a name="BKMK_DesignTimeValidation"></a> Фоновая проверка во время разработки  
 В [!INCLUDE[netfx40_short](../../../includes/netfx40-short-md.md)] рабочие процессы проверялись в виде процесса в основном режиме, что потенциально могло привести к «зависанию» пользовательского интерфейса во время сложных или длительных процессов проверки. Теперь проверка рабочего процесса выполняется в фоновом потоке, поэтому пользовательский интерфейс не блокируется.  
  
###  <a name="BKMK_ViewState"></a> Состояние просмотра в отдельном расположении в файлах XAML  
 В [!INCLUDE[netfx40_short](../../../includes/netfx40-short-md.md)] данные о состоянии просмотра для рабочего процесса хранились по всему файлу XAML во множестве различных мест. Это неудобно для разработчиков, которым требуется прочитать язык XAML напрямую или написать код для извлечения информации о состоянии просмотра. В [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], сведения о состоянии представления в файле XAML сериализуется как отдельный элемент в файле XAML.  Разработчики могут найти и изменить сведения о состоянии представления действия или полностью удалить состояние представления.  
  
###  <a name="BKMK_ExpressionExtensibility"></a> Расширяемость выражений  
 В [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] разработчики могут создать собственное выражение и операции с ними, которые можно добавить в конструктор рабочих процессов.  
  
###  <a name="BKMK_BackwardCompatRehostedDesigner"></a> Подписаться на компоненты рабочего процесса 4.5 в повторно размещенном конструкторе  
 Для сохранения обратной совместимости некоторые новые функции, которые входят в [!INCLUDE[net_v45](../../../includes/net-v45-md.md)], не включены по умолчанию в повторно размещенном конструкторе. Таким образом, работа существующих приложений, использующих повторно размещенный конструктор, не нарушается обновлением до последней версии. Для включения новых функций в повторно размещенном конструкторе установите значение <xref:System.Activities.Presentation.DesignerConfigurationService.TargetFrameworkName%2A> для параметра «.NET Framework 4.5» или задайте отдельные элементы <xref:System.Activities.Presentation.DesignerConfigurationService>, чтобы включить отдельные функции.  
  
##  <a name="BKMK_NewWFModels"></a> Новые модели разработки рабочего процесса  
 Помимо блок-схемы и последовательных моделей разработки рабочего процесса, этот выпуск включает рабочие процессы конечного автомата и службы рабочего процесса с первоначальным контрактом.  
  
###  <a name="BKMK_StateMachine"></a> Рабочие процессы конечного автомата  
 Рабочие процессы конечного автомата появились в составе .NET Framework 4, версия 4.0.1 [обновление 1 платформы Microsoft .NET Framework 4](https://go.microsoft.com/fwlink/?LinkID=215092). Это обновление включило несколько новых классов и действий, которые дали возможность разработчикам создавать рабочие процессы конечного автомата. Для [!INCLUDE[net_v45](../../../includes/net-v45-md.md)] эти классы и действия были обновлены. Обновления включают следующее:  
  
1.  Возможность установки точек останова на состояниях  
  
2.  Возможность копирования и вставки переходов в конструкторе рабочих процессов  
  
3.  Поддержка совместного создания перехода триггера в конструкторе  
  
4.  Действия для создания рабочих процессов конечного автомата, включая <xref:System.Activities.Statements.StateMachine>, <xref:System.Activities.Statements.State> и <xref:System.Activities.Statements.Transition>  
  
 На следующем рисунке показан рабочего процесса конечного автомата завершенное состояние из [Приступая к работе](../../../docs/framework/windows-workflow-foundation/getting-started-tutorial.md) шаг [как: создание конечного автомата](../../../docs/framework/windows-workflow-foundation/how-to-create-a-state-machine-workflow.md).  
  
 ![Завершения рабочего процесса конечного автомата](../../../docs/framework/windows-workflow-foundation/media/wfstatemachinegettingstartedtutorialcomplete.JPG "WFStateMachineGettingStartedTutorialComplete")  
  
 Дополнительные сведения о создании рабочих процессов конечного автомата состояния см. в разделе [автоматов](../../../docs/framework/windows-workflow-foundation/state-machine-workflows.md).  
  
###  <a name="BKMK_ContractFirst"></a> Разработка рабочего процесса первого контракта  
 Средство разработки рабочего процесса с первоначальным контрактом позволяет разработчику создать контракт в code first, а затем, с помощью нескольких щелчков в Visual Studio автоматически сформировать шаблон действия в области элементов с представлением каждой операции. Эти действия затем используются для создания рабочего процесса с операциями, указанными в контракте. Конструктор рабочих процессов проверяет службу рабочего процесса для проверки того, что эти операции реализованы, а сигнатура рабочего процесса соответствует сигнатуре контракта. Разработчик также может связать службу рабочего процесса с коллекцией реализованных контрактов. Дополнительные сведения о разработке службы рабочего процесса первого контракта, см. в разделе [как: создание службы рабочего процесса, который использует существующий контракт службы](../../../docs/framework/windows-workflow-foundation/how-to-create-a-workflow-service-that-consumes-an-existing-service-contract.md).
