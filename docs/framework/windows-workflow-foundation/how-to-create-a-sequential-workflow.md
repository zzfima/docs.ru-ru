---
title: Как создать последовательный рабочий процесс
ms.date: 03/30/2017
dev_langs:
- csharp
- vb
ms.assetid: 5280e816-ae17-48c4-8de0-a1e6895dd8f0
ms.openlocfilehash: e2cfb3068a416da40b99072a0c7dfd751d3578c3
ms.sourcegitcommit: 2eceb05f1a5bb261291a1f6a91c5153727ac1c19
ms.translationtype: MT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/04/2018
ms.locfileid: "43524188"
---
# <a name="how-to-create-a-sequential-workflow"></a>Как создать последовательный рабочий процесс
Рабочие процессы могут создаваться как из встроенных, так и из пользовательских действий. В этом разделе действия по созданию рабочего процесса, который использует как встроенные действия, например <xref:System.Activities.Statements.Sequence> действия и пользовательские действия из предыдущего [как: Создание действия](../../../docs/framework/windows-workflow-foundation/how-to-create-an-activity.md) раздела. Рабочий процесс моделирует игру по угадыванию числа.  
  
> [!NOTE]
>  Каждый раздел в учебнике «Приступая к работе» построен на основе предыдущих разделов. Для изучения этого раздела, необходимо сначала выполнить [как: Создание действия](../../../docs/framework/windows-workflow-foundation/how-to-create-an-activity.md).  
  
> [!NOTE]
>  Чтобы скачать завершенную версию учебника, см. в разделе [Windows Workflow Foundation (WF45) - Приступая к работе](https://go.microsoft.com/fwlink/?LinkID=248976).  
  
### <a name="to-create-the-workflow"></a>Создание рабочего процесса  
  
1.  Щелкните правой кнопкой мыши **NumberGuessWorkflowActivities** в **обозревателе решений** и выберите **добавить**, **новый элемент**.  
  
2.  В **установленные**, **общих элементов** выберите **рабочего процесса**. Выберите **действия** из **рабочего процесса** списка.  
  
3.  Тип `SequentialNumberGuessWorkflow` в **имя** поле и нажмите кнопку **добавить**.  
  
4.  Перетащите **последовательности** действия из **поток управления** раздел **элементов** и сбросьте его в **Перетащите сюда действие** метки на область конструктора рабочих процессов.  
  
### <a name="to-create-the-workflow-variables-and-arguments"></a>Создание переменных и аргументов рабочего процесса  
  
1.  Дважды щелкните **SequentialNumberGuessWorkflow.xaml** в **обозревателе решений** для отображения рабочего процесса в конструкторе, если он еще не отображается.  
  
2.  Нажмите кнопку **аргументы** в нижнем левом углу конструктора рабочих процессов для отображения **аргументы** области.  
  
3.  Нажмите кнопку **создать аргумент**.  
  
4.  Тип `MaxNumber` в **имя** выберите **в** из **направление** стрелку раскрывающегося списка выберите **Int32** из **Тип аргумента** стрелку раскрывающегося списка и нажмите клавишу ВВОД, чтобы сохранить аргумент.  
  
5.  Нажмите кнопку **создать аргумент**.  
  
6.  Тип `Turns` в **имя** поле, которое расположено ниже только что добавленного `MaxNumber` аргумента выберите **Out** из **направление** стрелку раскрывающегося списка, выберите  **Int32** из **тип аргумента** стрелку раскрывающегося списка и нажмите клавишу ВВОД.  
  
7.  Нажмите кнопку **аргументы** в нижнем левом углу конструктора действий, чтобы закрыть **аргументы** области.  
  
8.  Нажмите кнопку **переменных** в нижнем левом углу конструктора рабочих процессов для отображения **переменных** области.  
  
9. Нажмите кнопку **создать переменную**.  
  
    > [!TIP]
    >  Если не **создать переменную** поле отображается, щелкните **последовательности** действия в области конструктора рабочих процессов, чтобы выбрать его.  
  
10. Тип `Guess` в **имя** выберите **Int32** из **тип переменной** стрелку раскрывающегося списка и нажмите клавишу ВВОД, чтобы сохранить переменную.  
  
11. Нажмите кнопку **создать переменную**.  
  
12. Тип `Target` в **имя** выберите **Int32** из **тип переменной** стрелку раскрывающегося списка и нажмите клавишу ВВОД, чтобы сохранить переменную.  
  
13. Нажмите кнопку **переменных** в нижнем левом углу конструктора действий, чтобы закрыть **переменных** области.  
  
### <a name="to-add-the-workflow-activities"></a>Добавление действий рабочего процесса  
  
1.  Перетащите **назначить** действия из **примитивы** раздел **элементов** и сбросьте его в **последовательности** действия. Тип `Target` в **для** поле и следующее выражение в **введите выражение C#** или **введите выражение VB** поле.  
  
    ```vb  
    New System.Random().Next(1, MaxNumber + 1)  
    ```  
  
    ```csharp  
    new System.Random().Next(1, MaxNumber + 1)  
    ```  
  
    > [!TIP]
    >  Если **элементов** окно не отображается, выберите **элементов** из **представление** меню.  
  
2.  Перетащите **DoWhile** действия из **поток управления** раздел **элементов** и поместите его в рабочем процессе, чтобы оно было под **назначить** действие.  
  
3.  Введите следующее выражение в **DoWhile** действия **условие** поле значения свойства.  
  
    ```vb  
    Guess <> Target  
    ```  
  
    ```csharp  
    Guess != Target  
    ```  
  
     Действие <xref:System.Activities.Statements.DoWhile> выполняет дочерние действия, а затем выполняет оценку своего условия <xref:System.Activities.Statements.DoWhile.Condition%2A>. Если <xref:System.Activities.Statements.DoWhile.Condition%2A> имеет значение `True`, то действия в <xref:System.Activities.Statements.DoWhile> выполняются повторно. В этом примере проверяется догадка пользователя и <xref:System.Activities.Statements.DoWhile> продолжается до тех пор, пока догадка не будет правильной.  
  
4.  Перетащите **Prompt** действия из **NumberGuessWorkflowActivities** раздел **элементов** и поместите его **DoWhile** действия из предыдущего шага.  
  
5.  В **окно "Свойства"**, тип `"EnterGuess"` кавычек в **BookmarkName** поле значения свойства для **Prompt** действия. Тип `Guess` в **результат** поле значения свойства и введите следующее выражение в **текст** «свойство».  
  
    ```vb  
    "Please enter a number between 1 and " & MaxNumber  
    ```  
  
    ```csharp  
    "Please enter a number between 1 and " + MaxNumber  
    ```  
  
    > [!TIP]
    >  Если **окно "Свойства"** не отображается, выберите **окно "Свойства"** из **представление** меню.  
  
6.  Перетащите **назначить** действия из **примитивы** раздел **элементов** и поместите его **DoWhile** действия, чтобы оно следовало **Prompt** действия.  
  
    > [!NOTE]
    >  При размещении **назначить** действия, обратите внимание, как в конструкторе рабочих процессов автоматически добавляет **последовательности** действия, куда помещается **Prompt** действия и вновь добавленная **Назначить** действия.  
  
7.  Тип `Turns` в **для** поле и `Turns + 1` в **введите выражение C#** или **введите выражение VB** поле.  
  
8.  Перетащите **Если** действия из **поток управления** раздел **элементов** и поместите его **последовательности** действия, чтобы оно следовало новые добавленные **назначить** действия.  
  
9. Введите следующее выражение в **Если** действия **условие** поле значения свойства.  
  
    ```vb  
    Guess <> Target  
    ```  
  
    ```csharp  
    Guess != Target  
    ```  
  
10. Перетащите еще один **Если** действия из **поток управления** раздел **элементов** и поместите его **затем** раздел первого **Если** действия.  
  
11. Введите следующее выражение в только что добавленного **Если** действия **условие** поле значения свойства.  
  
    ```
    Guess < Target  
    ```  
  
12. Перетащите два **WriteLine** действия из **примитивы** раздел **элементов** и сбросьте их так, чтобы одно находилось в **затем** раздел только что добавленного **Если** действия, а другое — в **Else** раздел.  
  
13. Нажмите кнопку **WriteLine** действия в **затем** раздела, чтобы выбрать его и введите следующее выражение в **текст** поле значения свойства.  
  
    ```vb  
    "Your guess is too low."  
    ```  
  
14. Нажмите кнопку **WriteLine** действия в **Else** раздела, чтобы выбрать его и введите следующее выражение в **текст** поле значения свойства.  
  
    ```vb  
    "Your guess is too high."  
    ```  
  
     В следующем примере показан завершенный рабочий процесс.  
  
     ![Полный последовательный рабочий процесс](../../../docs/framework/windows-workflow-foundation/media/wfsequentialgettingstartedtutorialcomplete.JPG "WFSequentialGettingStartedTutorialComplete")  
  
### <a name="to-build-the-workflow"></a>Построение рабочего процесса  
  
1.  Чтобы построить решение, нажмите CTRL+SHIFT+B.  
  
     Для указания о том, как запустить рабочий процесс, см. следующий раздел, [как: запуск рабочего процесса](../../../docs/framework/windows-workflow-foundation/how-to-run-a-workflow.md). Если вы уже выполнили [как: запуск рабочего процесса](../../../docs/framework/windows-workflow-foundation/how-to-run-a-workflow.md) шаг с другим стилем рабочего процесса и планируете запустить его с помощью последовательного рабочего процесса, начиная с этого шага, сразу перейти к [построение и запуск приложения](../../../docs/framework/windows-workflow-foundation/how-to-run-a-workflow.md#BKMK_ToRunTheApplication)раздел [как: запуск рабочего процесса](../../../docs/framework/windows-workflow-foundation/how-to-run-a-workflow.md).  
  
## <a name="see-also"></a>См. также  
 <xref:System.Activities.Statements.Flowchart>  
 <xref:System.Activities.Statements.FlowDecision>  
 [Программирование в Windows Workflow Foundation](../../../docs/framework/windows-workflow-foundation/programming.md)  
 [Разработка рабочих процессов](../../../docs/framework/windows-workflow-foundation/designing-workflows.md)  
 [Руководство по началу работы](../../../docs/framework/windows-workflow-foundation/getting-started-tutorial.md)  
 [Практическое руководство. Создание действия](../../../docs/framework/windows-workflow-foundation/how-to-create-an-activity.md)  
 [Практическое руководство. Запуск рабочего процесса](../../../docs/framework/windows-workflow-foundation/how-to-run-a-workflow.md)
